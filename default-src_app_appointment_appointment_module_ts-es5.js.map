{"version":3,"sources":["webpack:///node_modules/@fullcalendar/angular/__ivy_ngcc__/fesm2015/fullcalendar-angular.js","webpack:///node_modules/@fullcalendar/common/main.js","webpack:///node_modules/@fullcalendar/common/vdom.js","webpack:///node_modules/@fullcalendar/core/main.js","webpack:///node_modules/@fullcalendar/core/vdom.js","webpack:///node_modules/@fullcalendar/daygrid/main.js","webpack:///node_modules/@fullcalendar/interaction/main.js","webpack:///node_modules/@fullcalendar/timeGrid/main.js","webpack:///node_modules/fast-deep-equal/index.js","webpack:///node_modules/preact/compat/dist/compat.module.js","webpack:///node_modules/preact/dist/preact.module.js","webpack:///node_modules/preact/hooks/dist/hooks.module.js","webpack:///src/app/appointment/appointment-routing.module.ts","webpack:///src/app/appointment/appointment.component.ts","webpack:///src/app/appointment/appointment.module.ts","webpack:///src/app/appointment/components/appointment-list/appointment-list.component.ts","webpack:///src/app/appointment/components/new-appointment/new-appointment.component.ts","webpack:///src/app/appointment/pipes/search-appointment-pipe.pipe.ts","webpack:///node_modules/@fullcalendar/common/main.css","webpack:///node_modules/@fullcalendar/daygrid/main.css","webpack:///node_modules/@fullcalendar/timeGrid/main.css","webpack:///src/app/appointment/appointment.component.css","webpack:///src/app/appointment/components/appointment-list/appointment-list.component.css","webpack:///src/app/appointment/components/new-appointment/new-appointment.component.css","webpack:///src/app/appointment/appointment.component.html","webpack:///src/app/appointment/components/appointment-list/appointment-list.component.html","webpack:///src/app/appointment/components/new-appointment/new-appointment.component.html"],"names":["hasOwnProperty","Object","prototype","deepCopy","input","Array","isArray","map","Date","valueOf","mapHash","shallowCopy","val","slice","call","assign","func","output","key","OPTION_IS_DEEP","headerToolbar","footerToolbar","events","eventSources","resources","FullCalendarComponent","element","optionSnapshot","deepChangeDetection","options","optionVal","optionName","calendar","Calendar","nativeElement","render","newOptions","newProcessedOptions","anyChanges","oldOptionNames","keys","pauseRendering","resetOptions","resumeRendering","destroy","ɵfac","FullCalendarComponent_Factory","t","ɵcmp","type","selectors","inputs","decls","vars","template","FullCalendarComponent_Template","rf","ctx","styles","encapsulation","ctorParameters","ElementRef","propDecorators","Input","ngDevMode","Component","args","selector","ViewEncapsulation","FullCalendarModule","plugins","globalPlugins","FullCalendarModule_Factory","ɵmod","ɵinj","imports","NgModule","declarations","exports","ngJitMode","EventSourceApi","context","internalEventSource","remove","dispatch","sourceId","refetch","sourceIds","isRefetch","defineProperty","get","publicId","enumerable","configurable","meta","url","format","removeElement","el","parentNode","removeChild","elementClosest","closest","document","documentElement","contains","elementMatches","parentElement","nodeType","method","matches","matchesSelector","msMatchesSelector","findElements","container","containers","HTMLElement","allMatches","i","length","querySelectorAll","j","push","findDirectChildren","parent","parents","childNodes","children","childNode","PIXEL_PROP_RE","applyStyle","props","propName","applyStyleProp","name","style","test","getEventTargetViaRoot","ev","_a","_b","composedPath","target","preventDefault","buildDelegationHandler","handler","matchedChild","listenBySelector","eventType","attachedHandler","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","callback","realCallback","forEach","eventName","guidNumber","guid","String","disableCursor","body","classList","add","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","token","split","charAt","field","substring","order","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","localeCompare","padStart","len","s","substr","compareNumbers","isInt","n","computeSmallestCellWidth","cellEl","allWidthEl","querySelector","contentWidthEl","Error","getBoundingClientRect","width","DAY_IDS","addWeeks","m","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","Math","round","milliseconds","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","min","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","getUTCMilliseconds","concat","UTC","apply","isValidDate","isNaN","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","undefined","name_2","filterHash","hash","filtered","newHash","arrayToHash","_i","a_1","item","buildHashFromArray","tuple","hashValuesToArray","obj","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","parsed","parse","allDay","allDayGuess","duration","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","defs","instances","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","INTERNAL_UNITS","PARSE_RE","createDuration","unit","parseString","parseObject","exec","sign","parseInt","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","value","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","replace","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","abs","mins","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","arguments","memoizeObjArg","_this","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","max","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","locale","buildNativeFormattingFunc","__assign","sanitizeSettings","timeZone","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","injectTzoStr","trim","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","direction","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","scrollTimeReset","Boolean","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","noEventsText","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","views","initialEvents","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","className","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","reduce","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","id","title","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","startMarker","endMeta","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","c","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","emitter","trigger","buildDateSpanApiWithContext","jsEvent","origEvent","view","viewApi","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","on","handlerName","currentCalendarOptionsRefiners","console","warn","off","__spreadArray","changeView","viewType","dateOrRange","zoomTo","state","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","next","prevYear","addYears","nextYear","today","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","delta","formatDate","formatter","settings","dateOrObj","endDate","selectionInput","dateSelection","addEvent","eventInput","sourceInput","EventApi","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","event","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","_context","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","str","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","RAW_EN_LOCALE","code","list","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","dateInput","buildDateEnv$1","dateMeta","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","filter","rawDef","pointInsideRect","point","rect","left","right","top","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","createElement","position","innerHTML","appendChild","div","possible","offsetHeight","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","_c","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","getSlotClassNames","buildNavLinkData","JSON","stringify","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","firstChild","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","x","clientHeight","offsetWidth","clientWidth","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeClippedClientRect","clippingParents","getClippingParents","clippingParents_1","clippingParent","intersection","computeHeightAndMargins","computeVMargins","computed","marginTop","marginBottom","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","then","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","hasHandlers","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","_super","__extends","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","createContext","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","addStateEquality","contextType","BaseComponent","create","setRef","ref","current","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","hooks","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","StandardTheme","root","tableCellShaded","buttonGroup","button","buttonActive","close","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","RenderHook","rootElRef","createRef","handleRootEl","elRef","hookProps","MountHook","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","Consumer","renderId","ContentHookInner","renderInnerContent","componentDidMount","updateCustomContent","componentDidUpdate","componentWillUnmount","customContentInfo","rawVal","normalizeContent","innerContentVDom","contentVal","contentKey","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","optionDefaults","buttonTextOverride","buttonTextDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","source","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","error","message","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionStr","parseSection","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","text","eventSourceDef$2","arg","arrayEventSourcePlugin","eventSourceDef$1","bind","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","html","injectHtml","domNodes","injectDomNodes","oldNodes","newNodes","newNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","clearTimeout","tryDrain","setTimeout","pause","scope","resume","force","depth","drained","clear","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","data","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","setState","prevProps","newOptionOverrides","sliceEvents","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","entry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","thickness","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","index","intersectSpans","destLevel","level","insertAt","lateralEnd","buildEntryKey","newEntry","levelCnt","resLevelCoord","resLevel","lateralStart","touchingLevel","entries","searchRes","binarySearch","getEntrySpanEnd","toRects","rects","entries_1","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","ariaAttrs","buttonClasses","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","disabled","onClick","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","EventClicking","handleSegClick","segEl","hasUrlContainer","href","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","handleNavLinkClick","_handleNavLinkClick","headerRef","footerRef","interactionsStore","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","toolbarProps","viewVGrow","viewAspectRatio","isHeightAuto","forPrint","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","anchorEl","navLinkOptions","getAttribute","customAction","Fragment","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","tabIndex","extraHookProps","colSpan","extraDataAttrs","isSticky","TableDowCell","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","renderInnerContent$1","getSegAnchorAttrs","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","WeekNumberRoot","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMousedown","handleCloseClick","onClose","createPortal","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","startDate","dayClassNames","extraDateSpan","dayEl","layer","MoreLinkRoot","linkElRef","isPopoverOpen","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","version","FullCalendarVDom","flushToDom","unmountComponentAtNode","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","setHeight","wasRendering","classNames_1","globalObj","globalThis","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","defaultValue","ContextType","origProvider","isNew","getChildContext","subs_1","_props","forceUpdate","old","node","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","singlePlacements","invisibleSegs","isForcedInvisible","visibility","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","dayElRef","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgContent","moreMarginTop","bgContent","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","DayGridSegHierarchy","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","segRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","unknownHeightSegs_1","absoluteTop","resliceSeg","hiddenEntries_1","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","rects_1","multiPlacements","rects_2","isFirstCol","rects_3","spanStart","spanEnd","forceHidden","excludeHidden","lateral","leadingEntry","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","segPlacements","nodes","segPlacements_1","leftRightCss","isExternalSizingChange","frameEls","limitByContentHeight","queryEventInstanceHeights","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","colPlacements_1","placements","placements_1","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","rowPositions","rowObj","colPositions","getCellRange","getCellEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","main","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","buildCaches","yDelta","xDelta","scrollCache","requestAnimationFrame","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","dateStr","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","prefixedName","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","renderAllDayInner","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatCoverage","slatIndex","slatRemainder","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","minHeight","onCoords","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderPlainFgSegs","buildPositioning","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","pairs","cmpDescPressures","extractNode","subjectLevel","subjectLateral","subjectEntry","afterSubject","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","allThickness","thicknessFraction","endCoord","newChildren","nextLevelNodes_1","newThickness","processNode","stackDepth","stackForward","processNodes","nodes_1","keyFunc","workFunc","cache","computeSegVCoords","colDate","vcoords","computeFgSegPlacements","segVCoords","dumbSegs","segRects_1","segRect","dumbSegs_1","dumbSeg","DEFAULT_TIME_FORMAT","TimeColEvent","isShort","TimeColMisc","TimeCol","isSelectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","segHCoords","shouldOverlap","nearCoord","farCoord","hiddenInstances","segEntries","segEntry","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","top_1","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","dayDate","snapDurationOverride","DayTimeColsSlicer","dayRanges","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","timeGrid","timeGridDay","timeGridWeek","module","equal","constructor","RegExp","flags","toString","C","e","S","r","E","g","displayName","isReactComponent","__f","isPureReactComponent","R","Symbol","$$typeof","N","k","count","only","toArray","A","u","__","__c","__e","__k","O","L","__u","__b","U","D","F","o","__R","__h","__v","l","__P","insertBefore","__d","__O","pop","f","__H","M","revealOrder","size","T","I","Map","set","W","P","V","z","textContent","B","writable","H","Z","Y","cancelBubble","$","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","q","G","J","toLowerCase","multiple","selected","K","Q","ReactCurrentDispatcher","readContext","__n","X","nn","tn","rn","un","ln","fn","cn","an","sn","hn","base","pn","vn","useState","useReducer","useEffect","useLayoutEffect","useRef","useImperativeHandle","useMemo","useCallback","useContext","useDebugValue","Children","hydrate","createFactory","cloneElement","isValidElement","findDOMNode","memo","forwardRef","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","defaultProps","v","vnode","h","p","_","__r","debounceRendering","some","ownerSVGElement","nextSibling","setProperty","cssText","setAttribute","removeAttribute","__E","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getSnapshotBeforeUpdate","diffed","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","attributes","__html","checked","unmount","getDerivedStateFromError","componentDidCatch","Promise","resolve","cancelAnimationFrame","routes","path","AppointmentComponent","NewAppointmentComponent","AppointmentListComponent","AppointmentRoutingModule","RouterModule","AppointmentModule","SearchAppointment","CommonModule","StatModule","PageHeaderModule","HttpClientModule","ReactiveFormsModule","FormsModule","NgbModule","PatientControlModule","MaterialModule","providers","DatePipe","appointmentService","router","appointmentList","page","pageSize","searchAppointment","reloadData","getAppointmentList","subscribe","appointment","appoint","sessionStorage","setItem","patient","mrn","navigate","AppointmentService","Router","animations","routerTransition","branchService","departmentService","unitService","patientService","formBuilder","modalService","lookupService","alertService","datePipe","commonService","employee","Employee","appointmentForm","FormGroup","interval","appointmentTimeSlotList","appointmentTimeSlot","addAppointment","Appointment","patientList","newPatientList","lookupCategoryList","lookupEntity","LookupEntity","appointmentStatus","appointmentStatusType","toBeDeleteAppointment","cancelledAppointmentStatus","patientDetails","isFromDoctorsWorkbench","Unit","preferences","Preferences","backdrop","keyboard","localStorage","getItem","reloadForm","removeItem","fillData","group","branch","FormControl","department","doctor","getPreferences","controls","setValue","getDepartmentList","departmentId","getUnitList","setHours","getBranch","branchList","getPatientList","getLookupCategoryList","getLookupEntityListByCategoryId","appointmentStatusList","appointmentStatusTypeList","getAppointmentListByFilter","schedulerList","branchId","getDepartmentsByBranchId","departmentList","getDoctorByDepartment","getUnitByDepartmentId","unitList","getEmployeeListByDepartmentId","unitEmployeeMappingList","unitId","getUnitById","slot","lookupValue","getAppointmentTimeList","employeeId","appointTime","fromDate","lookupId","appointmentTime","setMinutes","form","scheduler","scheduledId","category","categoryId","eventSchedulerForm","td","getToDate","createAppointment","alert","dismissAll","empId","booked","updateAppointment","appointmentId","getDoctorList","BranchServiceService","DepartmentService","UnitMasterService","PatientService","FormBuilder","NgbModalConfig","NgbModal","LookupService","AlertService","CommonSecurityService","dateParts","jsDate","rVal","includes","employeeFullName","Pipe"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"default-src_app_appointment_appointment_module_ts-es5.js","sourcesContent":["import deepEqual from 'fast-deep-equal';\nimport { Component, ViewEncapsulation, ElementRef, Input, NgModule } from '@angular/core';\nimport { Calendar, globalPlugins } from '@fullcalendar/core';\nimport * as ɵngcc0 from '@angular/core';\nexport * from '@fullcalendar/core';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = Object.assign({}, val);\n        }\n    }\n    return val;\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\nconst OPTION_IS_DEEP = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n\nclass FullCalendarComponent {\n    constructor(element) {\n        this.element = element;\n        this.optionSnapshot = {}; // for diffing only\n    }\n    ngAfterViewInit() {\n        const { deepChangeDetection } = this;\n        const options = this.options || {};\n        // initialize snapshot\n        this.optionSnapshot = mapHash(options, (optionVal, optionName) => ((deepChangeDetection && OPTION_IS_DEEP[optionName])\n            ? deepCopy(optionVal)\n            : optionVal));\n        this.calendar = new Calendar(this.element.nativeElement, options);\n        this.calendar.render();\n    }\n    /*\n    allows us to manually detect complex input changes, internal mutations to certain options.\n    called before ngOnChanges. called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar) { // not the initial render\n            const { deepChangeDetection, optionSnapshot } = this;\n            const newOptions = this.options || {};\n            const newProcessedOptions = {};\n            let anyChanges = false;\n            // detect adds and updates (and update snapshot)\n            for (const optionName in newOptions) {\n                if (newOptions.hasOwnProperty(optionName)) {\n                    let optionVal = newOptions[optionName];\n                    if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n                        if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n                            optionSnapshot[optionName] = deepCopy(optionVal);\n                            anyChanges = true;\n                            // trick FC into knowing about a nested change.\n                            // TODO: future versions won't need this.\n                            // can't use the previously-made deep copy because it blows away prototype-association.\n                            optionVal = shallowCopy(optionVal);\n                        }\n                    }\n                    else {\n                        if (optionSnapshot[optionName] !== optionVal) {\n                            optionSnapshot[optionName] = optionVal;\n                            anyChanges = true;\n                        }\n                    }\n                    newProcessedOptions[optionName] = optionVal;\n                }\n            }\n            const oldOptionNames = Object.keys(optionSnapshot);\n            // detect removals (and update snapshot)\n            for (const optionName of oldOptionNames) {\n                if (!(optionName in newOptions)) { // doesn't exist in new options?\n                    delete optionSnapshot[optionName];\n                    anyChanges = true;\n                }\n            }\n            if (anyChanges) {\n                this.calendar.pauseRendering();\n                this.calendar.resetOptions(newProcessedOptions);\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        if (this.calendar) { // too defensive?\n            this.calendar.resumeRendering();\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) { // too defensive?\n            this.calendar.destroy();\n            this.calendar = null;\n        }\n    }\n    getApi() {\n        return this.calendar;\n    }\n}\nFullCalendarComponent.ɵfac = function FullCalendarComponent_Factory(t) { return new (t || FullCalendarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nFullCalendarComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: FullCalendarComponent, selectors: [[\"full-calendar\"]], inputs: { options: \"options\", deepChangeDetection: \"deepChangeDetection\" }, decls: 0, vars: 0, template: function FullCalendarComponent_Template(rf, ctx) { }, styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:\\\"\\\";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{content:\\\"\\\";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after{content:\\\"\\\";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:\\\"\\\";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center;overflow:hidden}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:\\\"\\\";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"], encapsulation: 2 });\nFullCalendarComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\nFullCalendarComponent.propDecorators = {\n    options: [{ type: Input }],\n    deepChangeDetection: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarComponent, [{\n        type: Component,\n        args: [{\n                selector: 'full-calendar',\n                template: '',\n                encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n                ,\n                styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:\\\"\\\";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{content:\\\"\\\";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after{content:\\\"\\\";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:\\\"\\\";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center;overflow:hidden}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:\\\"\\\";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { options: [{\n            type: Input\n        }], deepChangeDetection: [{\n            type: Input\n        }] }); })();\n\nclass FullCalendarModule {\n    static registerPlugins(plugins) {\n        globalPlugins.push(...plugins);\n    }\n}\nFullCalendarModule.ɵfac = function FullCalendarModule_Factory(t) { return new (t || FullCalendarModule)(); };\nFullCalendarModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: FullCalendarModule });\nFullCalendarModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [FullCalendarComponent],\n                imports: [],\n                exports: [FullCalendarComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FullCalendarModule, { declarations: [FullCalendarComponent], exports: [FullCalendarComponent] }); })();\n\n/*\n * Public API Surface of fullcalendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n\n//# sourceMappingURL=fullcalendar-angular.js.map","/*!\nFullCalendar v5.8.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekText);\n    }\n    else if (display === 'short') {\n        parts.push(weekText, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.viewsWithButtons);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE, // necessary?\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nfunction buildNavLinkData(date, type) {\n    if (type === void 0) { type = 'day'; }\n    return JSON.stringify({\n        date: formatDayString(date),\n        type: type,\n    });\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return (this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]);\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var _a = this, props = _a.props, customContentInfo = _a.customContentInfo;\n        var rawVal = props.content;\n        var innerContent = normalizeContent(rawVal, props.hookProps);\n        var innerContentVDom = null;\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        if (innerContent !== undefined) { // we allow custom content handlers to return nothing\n            if (customContentInfo) {\n                customContentInfo.contentVal = innerContent[customContentInfo.contentKey];\n            }\n            else if (typeof innerContent === 'object') {\n                // look for a prop that would indicate a custom content handler is needed\n                for (var contentKey in contentTypeHandlers) {\n                    if (innerContent[contentKey] !== undefined) {\n                        var stuff = contentTypeHandlers[contentKey]();\n                        customContentInfo = this.customContentInfo = __assign({ contentKey: contentKey, contentVal: innerContent[contentKey] }, stuff);\n                        break;\n                    }\n                }\n            }\n            if (customContentInfo) {\n                innerContentVDom = []; // signal that something was specified\n            }\n            else {\n                innerContentVDom = innerContent; // assume a [p]react vdom node. use it\n            }\n        }\n        return innerContentVDom;\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) {\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type, // fall back to given view name\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var viewsWithButtons = [];\n    var headerToolbar = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    var footerToolbar = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    return { headerToolbar: headerToolbar, footerToolbar: footerToolbar, viewsWithButtons: viewsWithButtons };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    return mapHash(sectionStrHash, function (sectionStr) { return parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons); });\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    return sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]);\n            //            ^ everything else is considered default\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText };\n    })); });\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: function () { return ({ render: injectHtml }); },\n            domNodes: function () { return ({ render: injectDomNodes }); },\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction injectHtml(el, html) {\n    el.innerHTML = html;\n}\nfunction injectDomNodes(el, domNodes) {\n    var oldNodes = Array.prototype.slice.call(el.childNodes); // TODO: use array util\n    var newNodes = Array.prototype.slice.call(domNodes); // TODO: use array util\n    if (!isArraysEqual(oldNodes, newNodes)) {\n        for (var _i = 0, newNodes_1 = newNodes; _i < newNodes_1.length; _i++) {\n            var newNode = newNodes_1[_i];\n            el.appendChild(newNode);\n        }\n        oldNodes.forEach(removeElement);\n    }\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (inputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    // returns number of new entries inserted\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        var entrySpan = entry.span;\n        var barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([{\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                }], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var destLevel = insertion.level;\n        if (destLevel >= levelCoords.length || // level doesn't exist yet\n            levelCoords[destLevel] > insertion.levelCoord // destLevel needs to be pushed forward to make way\n        ) {\n            // create a new level\n            insertAt(levelCoords, destLevel, insertion.levelCoord);\n            insertAt(entriesByLevel, destLevel, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[destLevel], insertion.lateralEnd, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, stackCnts = _a.stackCnts, strictOrder = _a.strictOrder;\n        var levelCnt = levelCoords.length;\n        var resLevelCoord = 0;\n        var resLevel = 0;\n        var lateralStart = 0;\n        var lateralEnd = 0;\n        var touchingLevel = -1;\n        var touchingEntry = null; // last touch entry\n        for (var level = 0; level < levelCnt; level += 1) {\n            var levelCoord = levelCoords[level];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && levelCoord >= resLevelCoord + newEntry.thickness) {\n                break;\n            }\n            var entries = entriesByLevel[level];\n            var entry = void 0;\n            var searchRes = binarySearch(entries, newEntry.span.start, getEntrySpanEnd);\n            lateralStart = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            lateralEnd = lateralStart; // also functions as a moving index\n            while ( // loop through entries that horizontally intersect\n            (entry = entries[lateralEnd]) && // but not past the whole entry list\n                entry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                if (strictOrder || // strict-mode doesn't care about vert intersection. record touch and keep pushing down\n                    ( // vertically intersects?\n                    resLevelCoord < levelCoord + entry.thickness &&\n                        resLevelCoord + newEntry.thickness > levelCoord)) {\n                    // push down the potential destination\n                    resLevelCoord = levelCoord + entry.thickness; // move to bottom of colliding entry\n                    touchingLevel = level;\n                    touchingEntry = entry;\n                }\n                lateralEnd += 1;\n            }\n            // regardless of whether there were collisions in the current level,\n            // keep updating the final-destination level until it goes past the final-destination coord.\n            if (levelCoord < resLevelCoord) {\n                resLevel = level + 1;\n            }\n        }\n        return {\n            level: resLevel,\n            levelCoord: resLevelCoord,\n            lateralStart: lateralStart,\n            lateralEnd: lateralEnd,\n            touchingLevel: touchingLevel,\n            touchingEntry: touchingEntry,\n            stackCnt: touchingEntry ? stackCnts[buildEntryKey(touchingEntry)] + 1 : 0,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    var start = Math.max(span0.start, span1.start);\n    var end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start: start, end: end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\" }, props.title));\n            }\n            else {\n                var ariaAttrs = buttonIcon ? { 'aria-label': buttonName } : {};\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (buttonName === props.activeButton) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                children.push(createElement(\"button\", __assign({ disabled: isDisabled, className: buttonClasses.join(' '), onClick: buttonClick, type: \"button\" }, ariaAttrs), buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var centerContent = model.center;\n        if (model.left) {\n            forceLtr = true;\n            startContent = model.left;\n        }\n        else {\n            startContent = model.start;\n        }\n        if (model.right) {\n            forceLtr = true;\n            endContent = model.right;\n        }\n        else {\n            endContent = model.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { ref: this.handleEl, onClick: props.onClick, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.handleNavLinkClick = buildDelegationHandler('a[data-navlink]', _this._handleNavLinkClick.bind(_this));\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.headerToolbar && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.headerToolbar }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, onClick: this.handleNavLinkClick },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footerToolbar && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footerToolbar }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype._handleNavLinkClick = function (ev, anchorEl) {\n        var _a = this.props, dateEnv = _a.dateEnv, options = _a.options, calendarApi = _a.calendarApi;\n        var navLinkOptions = anchorEl.getAttribute('data-navlink');\n        navLinkOptions = navLinkOptions ? JSON.parse(navLinkOptions) : {};\n        var dateMarker = dateEnv.createMarker(navLinkOptions.date);\n        var viewType = navLinkOptions.type;\n        var customAction = viewType === 'day' ? options.navLinkDayClick :\n            viewType === 'week' ? options.navLinkWeekClick : null;\n        if (typeof customAction === 'function') {\n            customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n        }\n        else {\n            if (typeof customAction === 'string') {\n                viewType = customAction;\n            }\n            calendarApi.zoomTo(dateMarker, viewType);\n        }\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (options.navLinks && !dayMeta.isDisabled && props.colCnt > 1)\n            ? { 'data-navlink': buildNavLinkData(date), tabIndex: 0 }\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", null,\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement('tbody', {}, typeof chunkConfig.rowContent === 'function' ? chunkConfig.rowContent(arg) : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        return createElement('table', {\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', {}], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', {}], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', {}], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', {}], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        });\n        return (createElement(\"td\", { ref: chunkConfig.elRef },\n            createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n                createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                    : true }, content))));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMousedown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var theme = this.context.theme;\n        var props = this.props;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ className: classNames.join(' ') }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\" }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMousedown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMousedown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: typeof moreLinkText === 'function'\n                    ? moreLinkText.call(calendarApi, moreCnt)\n                    : \"+\" + moreCnt + \" \" + moreLinkText,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick); })),\n                _this.state.isPopoverOpen && (createElement(MorePopover, { startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.8.0'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkData, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElSeg, getEntrySpanEnd, getEventClassNames, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, intersectSpans, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, joinSpans, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushToDom, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.8.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/*!\nFullCalendar v5.8.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkData, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, memoize, MoreLinkRoot, getSegMeta, setRef, DayCellRoot, WeekNumberRoot, intersectSpans, buildEntryKey, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = this.context.options.navLinks\n            ? { 'data-navlink': buildNavLinkData(props.date), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), onClick: handleClick }, innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context, rootElRef = _a.rootElRef;\n        var options = context.options;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = options.navLinks\n            ? { 'data-navlink': buildNavLinkData(date, 'week'), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.index];\n        var hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.index];\n            var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            var isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: 0,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var touchingLevel = insertion.touchingLevel;\n        if (this.hiddenConsumes && touchingLevel >= 0) {\n            for (var lateral = insertion.lateralStart; lateral < insertion.lateralEnd; lateral += 1) {\n                var leadingEntry = entriesByLevel[touchingLevel][lateral];\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, leadingEntry), { span: intersectSpans(leadingEntry.span, entry.span) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    if (!forceHidden[placeholderEntryId]) { // if not already hidden\n                        forceHidden[placeholderEntryId] = true;\n                        entriesByLevel[touchingLevel][lateral] = placeholderEntry; // replace leadingEntry with our placeholder\n                        this.splitEntry(leadingEntry, entry, hiddenEntries); // split up the leadingEntry, reinsert it\n                    }\n                }\n                else {\n                    var placeholderEntryId = buildEntryKey(leadingEntry);\n                    if (!forceHidden[placeholderEntryId]) {\n                        forceHidden[placeholderEntryId] = true;\n                        hiddenEntries.push(leadingEntry);\n                    }\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                eventInstanceHeights: this.queryEventInstanceHeights(),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return colPlacements;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", null, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.8.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body;\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches();\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function () {\n        return this.queryScrollEls().map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function () {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(document.querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl !== document) {\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !document.querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = pev.origEvent.target;\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector ?\n                document.querySelector(this.mirrorSelector) :\n                null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.8.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkData, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, DateComponent, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, Fragment, getSegMeta, memoize, sortEventSegs, DayCellRoot, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (options.navLinks && dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? { 'data-navlink': buildNavLinkData(range.start, 'week'), tabIndex: 0 }\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", null, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", null, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n        var len = positions.els.length;\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { className: \"fc-timegrid-slots\", ref: this.rootElRef },\n            createElement(\"table\", { className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var _a = this, context = _a.context, props = _a.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TimeColMoreLink = /** @class */ (function (_super) {\n    __extends(TimeColMoreLink, _super);\n    function TimeColMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    TimeColMoreLink.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: function (el) {\n                setRef(rootElRef, el);\n                setRef(_this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n    };\n    return TimeColMoreLink;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    var hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    var web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    var segRects = webToRects(web);\n    return { segRects: segRects, hiddenGroups: hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    var entriesByLevel = hierarchy.entriesByLevel;\n    var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n        var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        var nextLevelRes = buildNodes(siblingRange, buildNode);\n        var entry = entriesByLevel[level][lateral];\n        return [\n            __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n    var lateral = lateralStart;\n    var pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n    var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    var levelCnt = levelCoords.length;\n    var level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        var entries = entriesByLevel[level];\n        var entry = void 0;\n        var searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        var lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n        var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n        var allThickness = thickness + prevThickness;\n        var thicknessFraction = thickness / allThickness;\n        var endCoord;\n        var newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                var childNode = nextLevelNodes_1[_i];\n                if (endCoord === undefined) {\n                    var res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    var res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        var newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    var rects = [];\n    var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n        var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n            stackDepth: stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        var stackForward = 0;\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    var cache = {};\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = keyFunc.apply(void 0, args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc.apply(void 0, args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords, eventMinHeight) {\n    if (slatCoords === void 0) { slatCoords = null; }\n    if (eventMinHeight === void 0) { eventMinHeight = 0; }\n    var vcoords = [];\n    if (slatCoords) {\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    var segInputs = [];\n    var dumbSegs = []; // segs without coords\n    for (var i = 0; i < segs.length; i += 1) {\n        var vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    var _a = buildPositioning(segInputs, eventOrderStrict, eventMaxStack), segRects = _a.segRects, hiddenGroups = _a.hiddenGroups;\n    var segPlacements = [];\n    for (var _i = 0, segRects_1 = segRects; _i < segRects_1.length; _i++) {\n        var segRect = segRects_1[_i];\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (var _b = 0, dumbSegs_1 = dumbSegs; _b < dumbSegs_1.length; _b++) {\n        var dumbSeg = dumbSegs_1[_b];\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements: segPlacements, hiddenGroups: hiddenGroups };\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sortEventSegs = memoize(sortEventSegs);\n        return _this;\n    }\n    // TODO: memoize event-placement?\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict, eventMinHeight = _a.eventMinHeight;\n        var _b = this.props, date = _b.date, slatCoords = _b.slatCoords, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        var _c = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack), segPlacements = _c.segPlacements, hiddenGroups = _c.hiddenGroups;\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map(function (segPlacement) {\n                var seg = segPlacement.seg, rect = segPlacement.rect;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                var vStyle = computeSegVStyle(rect && rect.span);\n                var hStyle = (!isMirror && rect) ? _this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                var isInset = Boolean(rect) && rect.stackForward > 0;\n                var isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign(__assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    };\n    // will already have eventMinHeight applied because segInputs already had it\n    TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n        var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n            var positionCss = computeSegVStyle(hiddenGroup.span);\n            var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _a = this, props = _a.props, context = _a.context;\n        var segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        var children = segVCoords.map(function (vcoords, i) {\n            var seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeSegHStyle = function (segHCoords) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        var farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        var props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    };\n    return TimeCol;\n}(BaseComponent));\nfunction renderPlainFgSegs(sortedFgSegs, _a) {\n    var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n    var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n        var instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map(function (segEntry) { return allSegs[segEntry.index]; });\n}\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", null,\n                    createElement(\"tr\", null,\n                        props.axis && (createElement(\"td\", { className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleRootEl = function (el) {\n            if (el) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: el,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var cell = this.props.cells[colIndex];\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile: dateProfile,\n                dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(DateComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n//# sourceMappingURL=main.js.map\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as f,useDebugValue as c}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as p,Fragment as v,render as d,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function C(n,t){for(var e in t)n[e]=t[e];return n}function S(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:S(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return S(this.props,n)||S(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t,e){var r=C({},t);return delete r.ref,n(r,(e=t.ref||e)&&(\"object\"!=typeof e||\"current\"in e)?e:null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:p(p(n).map(t))},k={map:N,forEach:N,count:function(n){return n?p(n).length:0},only:function(n){var t=p(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:p},A=h.__e;h.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e)};var O=h.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function D(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function F(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},f=!0===t.__h;r.__u++||f||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=C({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&s(v,null,n.fallback);return u&&(u.__h=null),[s(v,null,t.__e?null:n.children),u]};var M=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function T(n){return this.getChildContext=function(){return n.context},n.children}function j(n){var t=this,e=n.i;t.componentWillUnmount=function(){d(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),d(s(T,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function I(n,t){return s(j,{__v:n,i:t})}(F.prototype=new a).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),M(t,n,r)):u()};e?e(o):o()}},F.prototype.render=function(n){this.u=null,this.o=new Map;var t=p(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},F.prototype.componentDidUpdate=F.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){M(n,e,t)})};var W=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function z(n,t,e){return null==t.__k&&(t.textContent=\"\"),d(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function B(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=h.event;function Z(){}function Y(){return this.cancelBubble}function $(){return this.defaultPrevented}h.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=$,n.nativeEvent=n};var q,G={configurable:!0,get:function(){return this.class}},J=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){for(var u in r={},e){var o=e[u];\"value\"===u&&\"defaultValue\"in e&&null==o||(\"defaultValue\"===u&&\"value\"in e&&null==e.value?u=\"value\":\"download\"===u&&!0===o?o=\"\":/ondoubleclick/i.test(u)?u=\"ondblclick\":/^onchange(textarea|input)/i.test(u+t)&&!V(e.type)?u=\"oninput\":/^on(Ani|Tra|Tou|BeforeInp)/.test(u)?u=u.toLowerCase():P.test(u)?u=u.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===o&&(o=void 0),r[u]=o)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=p(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=p(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r}t&&e.class!=e.className&&(G.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",G)),n.$$typeof=W,J&&J(n)};var K=h.__r;h.__r=function(n){K&&K(n),q=n.__c};var Q={ReactCurrentDispatcher:{current:{readContext:function(n){return q.__n[n.__c].props.value}}}},X=1,nn=2,tn=3,en=4,rn=5;function un(n,t){return t()}var on=\"object\"==typeof performance&&\"function\"==typeof performance.now?performance.now.bind(performance):function(){return Date.now()},ln=\"16.8.0\";function fn(n){return s.bind(null,n)}function cn(n){return!!n&&n.$$typeof===W}function an(n){return cn(n)?y.apply(null,arguments):n}function sn(n){return!!n.__k&&(d(null,n),!0)}function hn(n){return n&&(n.base||1===n.nodeType&&n)||null}var pn=function(n,t){return n(t)},vn=v;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:f,useDebugValue:c,version:\"16.8.0\",Children:k,render:z,hydrate:B,unmountComponentAtNode:sn,createPortal:I,createElement:s,createContext:_,createFactory:fn,cloneElement:an,createRef:b,Fragment:v,isValidElement:cn,findDOMNode:hn,Component:a,PureComponent:E,memo:g,forwardRef:x,unstable_batchedUpdates:pn,StrictMode:v,Suspense:L,SuspenseList:F,lazy:D,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Q};export{ln as version,k as Children,z as render,B as hydrate,sn as unmountComponentAtNode,I as createPortal,fn as createFactory,an as cloneElement,cn as isValidElement,hn as findDOMNode,E as PureComponent,g as memo,x as forwardRef,pn as unstable_batchedUpdates,vn as StrictMode,L as Suspense,F as SuspenseList,D as lazy,Q as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X as unstable_ImmediatePriority,nn as unstable_UserBlockingPriority,tn as unstable_NormalPriority,en as unstable_LowPriority,rn as unstable_IdlePriority,un as unstable_runWithPriority,on as unstable_now};\n//# sourceMappingURL=compat.module.js.map\n","var n,l,u,i,t,o,r={},f=[],e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(n,l){for(var u in l)n[u]=l[u];return n}function s(n){var l=n.parentNode;l&&l.removeChild(n)}function a(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return v(n,f,i,t,null)}function v(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function h(){return{current:null}}function y(n){return n.children}function p(n,l){this.props=n,this.context=l}function d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return _(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!b.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(b)}function b(){for(var n;b.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=c({},t)).__v=t.__v+1,I(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?d(t):o,t.__h),T(u,t),t.__e!=o&&_(t)))})}function m(n,l,u,i,t,o,e,c,s,a){var h,p,_,k,b,m,w,A=i&&i.__k||f,P=A.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(y,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[h])||_&&k.key==_.key&&k.type===_.type)A[h]=void 0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void 0;break}_=null}I(n,k,_=_||r,t,o,e,c,s,a),b=k.__e,(p=k.ref)&&_.ref!=p&&(w||(w=[]),_.ref&&w.push(_.ref,null,k),w.push(p,k.__c||b,k)),null!=b?(null==m&&(m=b),\"function\"==typeof k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g(k,s,n):s=x(n,k,_,A,b,s),a||\"option\"!==u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&_.__e==s&&s.parentNode!=n&&(s=d(_))}for(u.__e=m,h=P;h--;)null!=A[h]&&(\"function\"==typeof u.type&&null!=A[h].__e&&A[h].__e==u.__d&&(u.__d=d(i,h+1)),L(A[h],A[h]));if(w)for(h=0;h<w.length;h++)z(w[h],w[++h],w[++h])}function g(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof t.type?g(t,l,u):x(u,t,t,n.__k,t.__e,l));return l}function w(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){w(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||e.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?H:$,o):n.removeEventListener(l,o?H:$,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function $(l){this.l[l.type+!1](n.event?n.event(l):l)}function H(l){this.l[l.type+!0](n.event?n.event(l):l)}function I(l,u,i,t,o,r,f,e,s){var a,v,h,d,_,k,b,g,w,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(s=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?b=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=M),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=c({},v.__s)),c(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),v.__h.length&&f.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=c(c({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,s),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),b&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=j(i.__e,u,i,t,o,r,f,s);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(s||null!=r)&&(u.__e=e,u.__h=!!s,r[r.indexOf(e)]=null),n.__e(l,u,i)}}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function j(n,l,u,i,t,o,e,c){var a,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if(\"svg\"===_&&(t=!0),null!=o)for(;k<o.length;k++)if((a=o[k])&&(a===n||(_?a.localName==_:3==a.nodeType))){n=a,o[k]=null;break}if(null==n){if(null===_)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",_):document.createElement(_,d.is&&d),o=null,c=!1}if(null===_)p===d||c&&n.data===d||(n.data=d);else{if(o=o&&f.slice.call(n.childNodes),v=(p=u.props||r).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||\"\"))}if(A(n,d,p,t,c),h)l.__k=[];else if(k=l.props.children,m(n,Array.isArray(k)?k:[k],l,u,i,t&&\"foreignObject\"!==_,o,e,n.firstChild,c),null!=o)for(k=o.length;k--;)null!=o[k]&&s(o[k]);c||(\"value\"in d&&void 0!==(k=d.value)&&(k!==n.value||\"progress\"===_&&!k)&&C(n,\"value\",k,p.value,!1),\"checked\"in d&&void 0!==(k=d.checked)&&k!==n.checked&&C(n,\"checked\",k,p.checked,!1))}return n}function z(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||z(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&s(o)}function M(n,l,u){return this.constructor(n,u)}function N(l,u,i){var t,o,e;n.__&&n.__(l,u),o=(t=\"function\"==typeof i)?null:i&&i.__k||u.__k,e=[],I(u,l=(!t&&i||u).__k=a(y,null,[l]),o||r,r,void 0!==u.ownerSVGElement,!t&&i?[i]:o?null:u.firstChild?f.slice.call(u.childNodes):null,e,!t&&i?i:o?o.__e:u.firstChild,t),T(e,l)}function O(n,l){N(n,l,O)}function S(n,l,u){var i,t,o,r=arguments,f=c({},n.props);for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),v(n.type,f,i||n.key,t||n.ref,null)}function q(n,l){var u={__c:l=\"__cC\"+o++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n},__v:0},l=function(n){return null!=n&&void 0===n.constructor},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c({},this.state),\"function\"==typeof n&&(n=n(c({},u),this.props)),n&&c(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},p.prototype.render=y,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,o=0;export{N as render,O as hydrate,a as createElement,a as h,y as Fragment,h as createRef,l as isValidElement,p as Component,S as cloneElement,q as createContext,w as toChildArray,n as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function m(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function l(n){return o=1,p(w,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return o=5,d(function(){return{current:n}},[])}function _(n,t,u){o=6,h(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function d(n,u){var r=m(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,d(function(){return n},t)}function F(n){var r=u.context[n.__c],o=m(t++,9);return o.__c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=m(t++,10),o=l();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}),i=[]}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=void 0},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(g)}catch(t){n.__e(t,u.__v)}};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u;\"function\"==typeof n.__c&&n.__c(),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{l as useState,p as useReducer,y as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,d as useMemo,A as useCallback,F as useContext,T as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AppointmentComponent } from './appointment.component';\r\nimport { AppointmentListComponent } from './components/appointment-list/appointment-list.component';\r\nimport { NewAppointmentComponent } from './components/new-appointment/new-appointment.component';\r\n\r\n\nconst routes: Routes = [\n\t{path:'',component: AppointmentComponent},\n\t{path: 'new-appointment' , component: NewAppointmentComponent},\n\t{path: 'appointment-list', component: AppointmentListComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AppointmentRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-appointment',\n  templateUrl: './appointment.component.html',\n  styleUrls: ['./appointment.component.css']\n})\nexport class AppointmentComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule, DatePipe } from '@angular/common';\n\nimport { AppointmentRoutingModule } from './appointment-routing.module';\nimport { AppointmentComponent } from './appointment.component';\nimport { NewAppointmentComponent } from './components/new-appointment/new-appointment.component';\nimport { StatModule } from '../shared/modules/stat/stat.module';\r\nimport { PageHeaderModule } from '../shared/modules/page-header/page-header.module';\r\n\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FullCalendarModule} from '@fullcalendar/angular';\nimport dayGridPlugin from '@fullcalendar/daygrid'; // a plugin!\nimport interactionPlugin from '@fullcalendar/interaction';\nimport timeGridPlugin from '@fullcalendar/timeGrid';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { PatientControlModule } from '../patient-control/patient-control.module';\nimport { AppointmentListComponent } from './components/appointment-list/appointment-list.component';\r\nimport { SearchAppointment } from './pipes/search-appointment-pipe.pipe';\r\nimport { MaterialModule } from '../material/material.module';\r\n\r\n\nFullCalendarModule.registerPlugins([\n  dayGridPlugin,\n  interactionPlugin,\n  timeGridPlugin,\n  \n])\n\n@NgModule({\n  declarations: [\n    AppointmentComponent,\n    NewAppointmentComponent,\n    AppointmentListComponent,\n    SearchAppointment\n   \n  ],\n  imports: [\n    CommonModule,\n    AppointmentRoutingModule,\n    StatModule,\n    PageHeaderModule,\n    FullCalendarModule,\n    HttpClientModule,\n    ReactiveFormsModule,\n    FormsModule,\n    NgbModule,\n    PatientControlModule,\n    MaterialModule\n  ],\n  providers:[DatePipe],\n  exports: [   AppointmentComponent,\n    NewAppointmentComponent]\n})\nexport class AppointmentModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\r\nimport { routerTransition } from '../../../router.animations';\r\nimport { Appointment } from '../../masters/appointment';\r\nimport { AppointmentService } from '../../services/appointment.service';\r\n\n@Component({\n  selector: 'app-appointment-list',\n  templateUrl: './appointment-list.component.html',\n  styleUrls: ['./appointment-list.component.css'],\n  animations: [routerTransition()]\n})\nexport class AppointmentListComponent implements OnInit {\n\tappointmentList: Array<Appointment> = [];\n\tlen : number; \n\tpage : number = 1;\n\tpageSize: number = 5;\n\tsearchAppointment : string = \"\";\n  constructor(private appointmentService: AppointmentService,\n  \tprivate router: Router\n  ) { }\n\n  ngOnInit(): void {\n\tthis.reloadData();\n  }\n\treloadData(){\n\t\tthis.appointmentService.getAppointmentList().subscribe(data =>{\n\t\t\tthis.appointmentList  = data;\n\t\t\tthis.len = data.length;\n\t\t\tconsole.log(data)\n\t\t})\n\t}\n\tgotoAppointment(appointment){\n\t\tlet appoint = JSON.stringify(appointment)\n\t\tsessionStorage.setItem('appointment',appoint)\n\t\tsessionStorage.setItem('patientId',appointment.patient.mrn)\n\t\tthis.router.navigate(['/appointment/new-appointment'])\n\t}\n}\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, NgForm } from '@angular/forms';\r\nimport { CalendarOptions, DateFormatter, EventSourceFunc, EventSourceInput } from '@fullcalendar/angular';\r\nimport { UnitEmployeeMapping } from '../../../master/unit-master/masters/unitEmployeeMapping';\r\n\r\nimport { Router } from '@angular/router';\r\nimport { routerTransition } from '../../../router.animations';\r\nimport { Branch } from '../../../master/service-center/masters/branch';\r\nimport { Department } from '../../../master/department/masters/department';\r\nimport { Unit } from '../../../master/unit-master/masters/unit';\r\nimport { Employee } from '../../../master/unit-master/masters/Employee';\r\nimport { Appointment } from '../../masters/appointment';\r\nimport { Patient } from '../../../patient/master/patient';\r\nimport { LookupCategory } from '../../../master/lookup-module/masters/lookup-category';\r\nimport { LookupEntity } from '../../../master/lookup-module/masters/lookup-entity';\r\nimport { BranchServiceService } from '../../../master/service-center/services/branch-service.service';\r\nimport { DepartmentService } from '../../../master/department/services/department.service';\r\nimport { PatientService } from '../../../patient/service/patient.service';\r\nimport { UnitMasterService } from '../../../master/unit-master/services/unit-master.service';\r\nimport { NgbModal, NgbModalConfig } from '@ng-bootstrap/ng-bootstrap';\r\nimport { AppointmentService } from '../../services/appointment.service';\r\nimport { LookupService } from '../../../master/lookup-module/services/lookup.service';\r\nimport { AlertService } from '../../../layout/alert/alert.service';\r\nimport { DatePipe } from '@angular/common';\r\nimport { Scheduler } from '../../masters/scheduler';\r\nimport { CommonSecurityService } from '../../../Common-Security-Services/common-service.service';\r\nimport { Preferences } from '../../../preferences/masters/preferences';\r\n\r\n\r\n@Component({\r\n\tselector: 'app-new-appointment',\r\n\ttemplateUrl: './new-appointment.component.html',\r\n\tstyleUrls: ['./new-appointment.component.css'],\r\n\tanimations: [routerTransition()],\r\n})\r\nexport class NewAppointmentComponent implements OnInit {\r\n\r\n\tbranchList: Array<Branch>;\r\n\tdepartmentList: Array<Department>;\r\n\tunitList: Array<Unit>;\r\n\tunitEmployeeMappingList: Array<UnitEmployeeMapping>;\r\n\temployee: Employee = new Employee();\r\n\tbranchId: number;\r\n\tdepartmentId: number;\r\n\tunitId: number;\r\n\temployeeId: number;\r\n\tappointmentForm = new FormGroup({});\r\n\tdate: Date = new Date();\r\n\tevent: any;\r\n\tinterval: number = 15;\r\n\tappointmentTimeSlotList: Array<number> = [];\r\n\tappointmentTimeSlot: Array<String> = [];\r\n\tappointmentList: Array<Appointment> = new Array<Appointment>();\r\n\taddAppointment: Appointment = new Appointment();\r\n\tpatientList: Array<Patient> = new Array<Patient>();\r\n\tnewPatientList: Array<[Date, Patient]> = new Array<[Date, Patient]>();\r\n\tpatient: Patient = null;\r\n\tstartDate: Date = new Date();\r\n\tendDate: Date = new Date();\r\n\tlookupCategoryList: Array<LookupCategory> = [];\r\n\tappointmentStatusList: Array<LookupEntity>;\r\n\tappointmentStatusTypeList: Array<LookupEntity>;\r\n\tlookupEntity: LookupEntity = new LookupEntity();\r\n\tappointmentStatus: LookupEntity = new LookupEntity();\r\n\tappointmentStatusType: LookupEntity = new LookupEntity();\r\n\ttoBeDeleteAppointment: Appointment = new Appointment();\r\n\tcancelledAppointmentStatus: LookupEntity = new LookupEntity();\r\n\t@Input() patientDetails: Patient = null;\r\n\t@Input() appointment: Appointment = new Appointment;\r\n\t@Input() isFromDoctorsWorkbench: boolean = false;\r\n\tunit: Unit = new Unit();\r\n\tselected: Date;\r\n\ttoday = {\r\n\t\tdate: new Date(),\r\n\t\tdateStr: new Date().toString(),\r\n\t}\r\n\tdateStr = new Date();\r\n\t//preferences: Preferences = new Preferences()\r\n\tschedulerList: Scheduler[];\r\n\tpreferences: Preferences = new Preferences;\r\n\tclass = \"info\"\r\n\tconstructor(private branchService: BranchServiceService, private departmentService: DepartmentService,\r\n\t\tprivate unitService: UnitMasterService, private patientService: PatientService, private formBuilder: FormBuilder,\r\n\t\tprivate appointmentService: AppointmentService, private config: NgbModalConfig, private modalService: NgbModal,\r\n\t\tprivate lookupService: LookupService, private router: Router,\r\n\t\tprivate alertService: AlertService,\r\n\t\tprivate datePipe: DatePipe,\r\n\t\tprivate commonService: CommonSecurityService\r\n\t) {\r\n\t\tconfig.backdrop = \"static\";\r\n\t\tconfig.keyboard = false;\r\n\t}\r\n\r\n\tngOnInit() {\r\n\r\n\t\tlet appointment = localStorage.getItem('appointment')\r\n\t\tthis.appointment = JSON.parse(appointment);\r\n\t\t/*let preferences = localStorage.getItem('preferences')\r\n\t\tthis.preferences = JSON.parse(preferences);*/\r\n\t\t//console.log(this.appointment)\r\n\t\tthis.reloadData();\r\n\t\tthis.reloadForm();\r\n\t\tlocalStorage.removeItem('appointment');\r\n\t\tif (this.appointment != null) {\r\n\t\t\tthis.fillData(this.appointment);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\treloadForm() {\r\n\t\tthis.appointmentForm = this.formBuilder.group({\r\n\t\t\tbranch: new FormControl(null),\r\n\t\t\tdepartment: new FormControl(null),\r\n\t\t\tunit: new FormControl(null),\r\n\t\t\tdoctor: new FormControl(null),\r\n\t\t})\r\n\t\tthis.preferences = this.commonService.getPreferences();\r\n\t\tif (this.preferences) {\r\n\t\t\tthis.appointmentForm.controls.branch.setValue(this.preferences.branch.id);\r\n\t\t\tthis.getDepartmentList(this.preferences.branch.id)\r\n\t\t\tthis.appointmentForm.controls.department.setValue(this.preferences.department.departmentId);\r\n\t\t\tthis.getUnitList(this.preferences.department.departmentId);\r\n\t\t}\r\n\r\n\r\n\t\t//console.group(this.commonService.getPatient(),this.commonService.getPreferences());\r\n\r\n\t}\r\n\treloadData() {\r\n\t\tthis.endDate = new Date(this.endDate.setHours(24, 0, 0, 0));\r\n\r\n\t\tthis.branchService.getBranch().subscribe(data => {\r\n\t\t\tthis.branchList = data;\r\n\t\t});\r\n\t\t/*this.departmentService.getAllDepartments().subscribe(data =>{\r\n\t\t\tthis.departmentList = data;\r\n\t\t});\r\n\t\tthis.unitService.getUnit().subscribe(data =>{\r\n\t\t\tthis.unitList = data;\r\n\t\t});*/\r\n\t\tthis.patientService.getPatientList().subscribe(data => {\r\n\t\t\tthis.patientList = data;\r\n\t\t});\r\n\t\tthis.appointmentService.getAppointmentList().subscribe(data => {\r\n\t\t\tthis.appointmentList = data;\r\n\t\t\t//console.warn(data);\r\n\t\t});\r\n\t\tthis.lookupService.getLookupCategoryList().subscribe(data => {\r\n\t\t\tthis.lookupCategoryList = data;\r\n\t\t\t//console.warn(data);\r\n\t\t});\r\n\t\tthis.lookupService.getLookupEntityListByCategoryId(19).subscribe(data => {\r\n\t\t\tthis.appointmentStatusList = data;\r\n\t\t\t//console.error(data);\r\n\t\t});\r\n\t\tthis.lookupService.getLookupEntityListByCategoryId(20).subscribe(data => {\r\n\t\t\tthis.appointmentStatusTypeList = data;\r\n\t\t\t//console.warn(data);\r\n\t\t})\r\n\t\t//this.handleDateClick(this.today);\r\n\t}\r\n\t/*calendarOptions: CalendarOptions = {\r\n\t\tinitialView: 'dayGridMonth',\r\n\t\tdateClick: this.handleDateClick.bind(this), // bind is important!\r\n\t\tevents: [\r\n\t\t\t{ title: 'event 1', date: '2021-06-26' },\r\n\t\t\t{ title: 'event 2', date: '2021-22-06' }\r\n\t\t],\r\n\t\ttitleFormat: { // will produce something like \"Tuesday, September 18, 2018\"\r\n\t\t\tmonth: 'short',\r\n\t\t\tyear: 'numeric',\r\n\t\t},\r\n\t\tcontentHeight: 400,\r\n\t\taspectRatio: 1\r\n\r\n\t};*/\r\n\thandleDateClick(event) {\r\n\t\tthis.startDate = event;\r\n\t\tif (this.startDate == undefined || this.startDate == null) {\r\n\t\t\tthis.alertService.success('Please select Date.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.appointmentForm.value.doctor == null) {\r\n\t\t\tthis.alertService.success('Please select Doctor.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.appointmentService.getAppointmentListByFilter(this.startDate, this.appointmentForm.value.doctor, this.appointmentForm.value.department, this.appointmentForm.value.branch).subscribe(data => {\r\n\t\t\tthis.schedulerList = data;\r\n\t\t\t//console.log(\"Schedule list\",data);\r\n\t\t});\r\n\t}\r\n\r\n\t/*handleDateClick2(arg) {\r\n\t\t//console.log('date click! ' , arg);\r\n\t\tthis.alertService.success(`date click ${this.datePipe.transform(arg)}`)\r\n\t\t////this.date = arg.date;\r\n\t\tthis.date = arg;\r\n\t\tthis.newPatientList = []\r\n\t\t//Logic For showing waiting patinet list\r\n\t\tfor (let appointment of this.appointmentList) {\r\n\t\t\tif(appointment.doctor.employeeId == this.employee.employeeId) {\r\n\r\n\t\t\t\tlet appointTime = new Date(this.date);\r\n\t\t\t\tlet fromDate = new Date(appointment.fromDate);\r\n\t\t\t\tif (fromDate.getDate() == appointTime.getDate()) {\r\n\t\t\t\t\t//console.error(this.employee.employeeId)\r\n\t\t\t\t\tif (appointment.appointmentStatus.lookupId == 44) {\r\n\t\t\t\t\t\tlet fromDate = new Date(appointment.fromDate)\r\n\t\t\t\t\t\tthis.newPatientList.push([fromDate, appointment.patient]);\r\n\t\t\t\t\t\t//console.log(\"Function called\")\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t////this.dateStr = arg.dateStr;\r\n\t\t//const startDate = arg.date;\r\n\t\tconst startDate = arg;\r\n\t\tconst endDate = arg.getTime() + 86400000;\r\n\t\t//console.log(endDate);\r\n\t\tconst date = new Date(endDate);\r\n\t\t//console.log(date);\r\n\t\t//console.log(arg);\r\n\t\t// console.log(startDate, date.getHours());\r\n\t\tthis.startDate = new Date(startDate);\r\n\t\tthis.endDate = new Date(endDate);\r\n\t\t\r\n\t\t//this.appointmentService.getAppointmentTimeList(startDate, date, this.interval).subscribe(data => {\r\n\t\t\t//this.appointmentTimeSlotList = data;\r\n\t\t\t//this.appointmentTimeSlot = [];\r\n\t\t\t//this.appointmentTimeSlotList.forEach(data => {\r\n\t\t\t//\tconst date = new Date(data);\r\n\t\t\t//\tvar hour = (date.getHours() < 10 ? '0' : '') + date.getHours();\r\n\t\t\t//\tlet min = (date.getMinutes() < 10 ? '0' : '') + date.getMinutes();\r\n\t\t\t//\tvar time = hour + \":\" + min;\r\n\t\t\t//\tthis.appointmentTimeSlot.push(time);\r\n\t\t\t//})\r\n\t\t//});\r\n\t\t\tthis.appointmentService.getAppointmentListByFilter(this.startDate,this.appointmentForm.value.doctor,this.appointmentForm.value.department,this.appointmentForm.value.branch).subscribe(data => {\r\n\t\t\t/*this.appointmentTimeSlotList = data;\r\n\t\t\tthis.appointmentTimeSlot = [];\r\n\t\t\tthis.appointmentTimeSlotList.forEach(data => {\r\n\t\t\t\tconst date = new Date(data);\r\n\t\t\t\tvar hour = (date.getHours() < 10 ? '0' : '') + date.getHours();\r\n\t\t\t\tlet min = (date.getMinutes() < 10 ? '0' : '') + date.getMinutes();\r\n\t\t\t\tvar time = hour + \":\" + min;\r\n\t\t\t\tthis.appointmentTimeSlot.push(time);\r\n\t\t\t})\r\n\t\t\tthis.schedulerList = data;\r\n\t\t\tconsole.log(\"Schedule list\",data);\r\n\t\t});\r\n\t\t\r\n\t}*/\r\n\r\n\tgetDepartmentList(value) {\r\n\t\tthis.branchId = value;\r\n\t\tthis.departmentService.getDepartmentsByBranchId(this.branchId).subscribe(data => {\r\n\t\t\tthis.departmentList = data;\r\n\t\t});\r\n\r\n\t}\r\n\tgetUnitList(value) {\r\n\t\tthis.getDoctorByDepartment(value);\r\n\t\tthis.departmentId = value;\r\n\t\tconsole.log(value);\r\n\t\tthis.unitService.getUnitByDepartmentId(this.departmentId).subscribe(data => {\r\n\t\t\tthis.unitList = data;\r\n\t\t});\r\n\t\t//console.log(this.departmentId);\r\n\t}\r\n\tgetDoctorByDepartment(event) {\r\n\t\t//this.departmentService\r\n\t\tthis.departmentService.getEmployeeListByDepartmentId(event).subscribe(\r\n\t\t\tdata => { this.unitEmployeeMappingList = data }\r\n\t\t)\r\n\t}\r\n\tgetDoctorList(event) {\r\n\t\t//console.log(event)\r\n\t\tthis.unitId = event;\r\n\t\tthis.unitService.getUnitById(this.unitId).subscribe(data => {\r\n\t\t\tthis.unit = data;\r\n\t\t\tthis.unitEmployeeMappingList = this.unit.unitEmployeeMappingList;\r\n\t\t})\r\n\t\tthis.unitEmployeeMappingList = event.unitEmployeeMappingList;\r\n\t\t//console.log(event.unitEmployeeMappingList);\r\n\t\t//console.log(this.appointmentForm.value.doctor);\r\n\t}\r\n\tshowDoctorName(event) {\r\n\t\tconsole.log(event)\r\n\t\tthis.employee = event;\r\n\t\tlet interval = this.employee.slot.lookupValue;\r\n\t\tthis.interval = Number(interval.substring(0, 2));\r\n\t\tthis.appointmentService.getAppointmentTimeList(this.startDate, this.endDate, this.interval).subscribe(data => {\r\n\t\t\tthis.appointmentTimeSlotList = data;\r\n\t\t\tthis.appointmentTimeSlot = [];\r\n\t\t\tthis.appointmentTimeSlotList.forEach(data => {\r\n\t\t\t\tconst date = new Date(data);\r\n\t\t\t\tvar hour = (date.getHours() < 10 ? '0' : '') + date.getHours();\r\n\t\t\t\tlet min = (date.getMinutes() < 10 ? '0' : '') + date.getMinutes();\r\n\t\t\t\tvar time = hour + \":\" + min;\r\n\t\t\t\tthis.appointmentTimeSlot.push(time);\r\n\t\t\t})\r\n\t\t});\r\n\t\t//Logic For showing waiting patinet list\r\n\t\tthis.newPatientList = [];\r\n\t\tfor (let appointment of this.appointmentList) {\r\n\t\t\tif ((appointment.doctor.employeeId == this.employee.employeeId)) {\r\n\r\n\t\t\t\tlet appointTime = new Date(this.date);\r\n\t\t\t\tlet fromDate = new Date(appointment.fromDate);\r\n\t\t\t\tif (fromDate.getDate() == appointTime.getDate()) {\r\n\t\t\t\t\t//console.error(this.employee.employeeId)\r\n\t\t\t\t\tif (appointment.appointmentStatus.lookupId == 44) {\r\n\t\t\t\t\t\tlet fromDate = new Date(appointment.fromDate)\r\n\t\t\t\t\t\tthis.newPatientList.push([fromDate, appointment.patient,]);\r\n\t\t\t\t\t\t//console.log(\"Function called\")\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//console.warn(this.interval);\r\n\t\t//console.log(\"This is \",this.employee)\r\n\t}\r\n\treturnDate(appointmentTime) {\r\n\t\tthis.date.setHours(Number(this.datePipe.transform(appointmentTime, 'HH:MM a').substr(0, 2)));\r\n\t\tthis.date.setMinutes(Number(this.datePipe.transform(appointmentTime, 'HH:MM a').substr(3, 2)));\r\n\t\treturn this.date;\r\n\t}\r\n\r\n\tscheduleEvent(form, scheduler) {\r\n\t\tif (scheduler.scheduledId == \"3\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.addAppointment.branch = this.appointmentForm.value.branch;\r\n\t\t\tthis.addAppointment.department = this.appointmentForm.value.department;\r\n\t\t\tthis.addAppointment.unit = this.unit;\r\n\t\t\tthis.addAppointment.doctor = this.employee;\r\n\t\t\tthis.addAppointment.patient = this.patient;\r\n\t\t\tfor (let appointmentStatus of this.appointmentStatusList) {\r\n\t\t\t\tif (appointmentStatus.category.categoryId == 19 && appointmentStatus.lookupId == 43) {\r\n\t\t\t\t\tthis.appointmentStatus = appointmentStatus;\r\n\t\t\t\t\t//console.log(\"Function called\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.addAppointment.appointmentStatus = this.appointmentStatus;\r\n\r\n\t\t\tthis.modalService.open(form, { size: 'lg' });\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tscheduleEvent2(eventSchedulerForm, appointmentTime, td: HTMLElement) {\r\n\r\n\t\tconsole.log(td.innerHTML.substr(1, 4))\r\n\t\tif (td.innerHTML.substr(1, 4) === \"div\") {\r\n\t\t\tconsole.log(\"Schedule Event from Div is called!!!\")\r\n\t\t\t//this.addAppointment = this.appointmentForm.value;\r\n\t\t\tthis.addAppointment.branch = this.appointmentForm.value.branch;\r\n\t\t\tthis.addAppointment.department = this.appointmentForm.value.department;\r\n\t\t\tthis.addAppointment.unit = this.unit;\r\n\t\t\tthis.addAppointment.doctor = this.employee;\r\n\t\t\tthis.addAppointment.patient = this.patient;\r\n\t\t\tfor (let appointmentStatus of this.appointmentStatusList) {\r\n\t\t\t\tif (appointmentStatus.category.categoryId == 19 && appointmentStatus.lookupId == 43) {\r\n\t\t\t\t\tthis.appointmentStatus = appointmentStatus;\r\n\t\t\t\t\t//console.log(\"Function called\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let appointment of this.appointmentList) {\r\n\t\t\t\tif ((appointment.doctor.employeeId == this.addAppointment.doctor.employeeId)) {\r\n\t\t\t\t\tlet appointTime = new Date(appointmentTime);\r\n\t\t\t\t\tlet fromDate = new Date(appointment.fromDate);\r\n\t\t\t\t\tif (fromDate.toString() == appointTime.toString()) {\r\n\t\t\t\t\t\tfor (let appointmentStatus of this.appointmentStatusList) {\r\n\t\t\t\t\t\t\tif (appointmentStatus.category.categoryId == 19 && appointmentStatus.lookupId == 44) {\r\n\t\t\t\t\t\t\t\tthis.appointmentStatus = appointmentStatus;\r\n\t\t\t\t\t\t\t\t//console.log(\"Function called\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ((this.addAppointment.doctor != null) && (this.addAppointment.patient.mrn != null)) {\r\n\t\t\t\tthis.modalService.open(eventSchedulerForm, { size: 'lg' });\r\n\t\t\t}\r\n\t\t\t//console.log(appointmentTime)\r\n\t\t\tthis.addAppointment.fromDate = new Date(appointmentTime);\r\n\t\t\tthis.date = new Date(this.addAppointment.fromDate);\r\n\t\t\tthis.addAppointment.toDate = new Date(this.getToDate(this.date));\r\n\t\t\t//console.log(this.date)\r\n\t\t\t//console.log(this.addAppointment)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Button is clicked\")\r\n\t\t}\r\n\r\n\t}\r\n\tgetToDate(appointmentTime) {\r\n\t\tlet time: number = appointmentTime.getMinutes();\r\n\t\ttime = time + this.interval;\r\n\t\tappointmentTime.setMinutes(time);\r\n\t\treturn appointmentTime;\r\n\t}\r\n\tsaveAppointment() {\r\n\t\tthis.addAppointment.appointmentStatus = this.appointmentStatus;\r\n\t\tthis.addAppointment.patient = this.patient;\r\n\t\tthis.appointmentService.createAppointment(this.addAppointment).subscribe(data => {\r\n\t\t\t//console.log(data);\r\n\t\t\talert(\"sucessfully inserted\");\r\n\t\t\tthis.appointmentService.getAppointmentList().subscribe(data => {\r\n\t\t\t\tthis.appointmentList = data;\r\n\t\t\t\tthis.modalService.dismissAll();\r\n\t\t\t\t//console.warn(data);\r\n\t\t\t});\r\n\r\n\t\t})\r\n\r\n\t}\r\n\r\n\r\n\tbooked(empId) {\r\n\t\tvar booked = 0;\r\n\t\tfor (let appointment of this.appointmentList) {\r\n\t\t\tif (appointment.doctor.employeeId == empId) {\r\n\t\t\t\t//console.log(\"doctor matched!!!\" + booked);\r\n\t\t\t\tif (appointment.appointmentStatus.lookupId == 43) {\r\n\t\t\t\t\tbooked += 1;\r\n\t\t\t\t\t//console.log(\"lookup  matched!!! + booked\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn booked;\r\n\t}\r\n\r\n\tconfirmed(empId) {\r\n\t\tvar booked = 0;\r\n\t\tfor (let appointment of this.appointmentList) {\r\n\t\t\tif (appointment.doctor.employeeId == empId) {\r\n\t\t\t\t//console.log(\"doctor matched!!!\" + booked);\r\n\t\t\t\tif (appointment.appointmentStatus.lookupId == 48) {\r\n\t\t\t\t\tbooked += 1;\r\n\t\t\t\t\t//console.log(\"lookup  matched!!! + booked\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn booked;\r\n\t}\r\n\r\n\twaiting(empId) {\r\n\t\tvar booked = 0;\r\n\t\tfor (let appointment of this.appointmentList) {\r\n\t\t\tif (appointment.doctor.employeeId == empId) {\r\n\t\t\t\t//console.log(\"doctor matched!!!\" + booked);\r\n\t\t\t\tif (appointment.appointmentStatus.lookupId == 44) {\r\n\t\t\t\t\tbooked += 1;\r\n\t\t\t\t\t//console.log(\"lookup  matched!!! + booked\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn booked;\r\n\t}\r\n\tdeleteAppointment(appoint) {\r\n\t\tfor (let appointmentStatus of this.appointmentStatusList) {\r\n\t\t\tif (appointmentStatus.category.categoryId == 19 && (appointmentStatus.lookupId == 52)) {\r\n\t\t\t\tthis.cancelledAppointmentStatus = appointmentStatus;\r\n\t\t\t\t//console.log(\"Function called\")\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.toBeDeleteAppointment = appoint;\r\n\t\tthis.toBeDeleteAppointment.appointmentStatus = this.cancelledAppointmentStatus;\r\n\t\tthis.appointmentService.updateAppointment(this.toBeDeleteAppointment.appointmentId, this.toBeDeleteAppointment).subscribe(data => {\r\n\t\t\talert(\"cancelled successfully\");\r\n\t\t\tthis.appointmentService.getAppointmentList().subscribe(data => {\r\n\t\t\t\tthis.appointmentList = data;\r\n\t\t\t});\r\n\t\t})\r\n\t\t/*\r\n\t\tthis.appointmentService.deleteAppointment(appoint.appointmentId).subscribe(data =>{\r\n\t\t\tconsole.log(data);\r\n\t\t\tthis.modalService.dismissAll();\r\n\t\t\talert(\"Appointment Deleted!!!!!!!\")\r\n\t\t\tthis.appointmentService.getAppointment().subscribe(data =>{\r\n\t\tthis.appointmentList = data;\r\n\t\t}); \r\n\t\t\r\n\t});*/\r\n\t}\r\n\tonCreate(container) {\r\n\t\tthis.modalService.open(container);\r\n\t}\r\n\r\n\tencounter(appoint) {\r\n\r\n\t\tsessionStorage.setItem('patientId', appoint.patient.mrn)\r\n\t\tconsole.log(\"This is patient Id\", appoint.patient.mrn)\r\n\t\tfor (let appointmentStatus of this.appointmentStatusList) {\r\n\t\t\tif (appointmentStatus.lookupId == 48) {\r\n\t\t\t\tappoint.appointmentStatus = appointmentStatus;\r\n\t\t\t\tthis.appointmentService.updateAppointment(appoint.appointmentId, appoint).subscribe(data => {\r\n\t\t\t\t\talert(\"successfully updated!!!!!\");\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet data = JSON.stringify(appoint)\r\n\t\tthis.router.navigate(['/encounter'], { state: appoint });\r\n\t}\r\n\tcallPatientDetails(event) {\r\n\t\tthis.patient = event;\r\n\t\tthis.addAppointment.patient = this.patient;\r\n\t\t//console.log(\"This is patient from patient Demographic\", event)\r\n\t\t//this.appointmentForm.controls.branch.setValue(this.patient.branch.lookupId)\r\n\t}\r\n\tfillData(appointment) {\r\n\t\t//console.log(\"The value from appointment Form\",this.appointmentForm.value.branch)\r\n\t\tthis.appointmentForm.controls.branch.setValue(appointment.branch.branchId)\r\n\t\tthis.branchId = appointment.branch.branchId;\r\n\t\tthis.appointmentForm.controls.department.setValue(appointment.department.departmentId)\r\n\t\tthis.departmentId = appointment.department.departmentId\r\n\t\tthis.appointmentForm.controls.unit.setValue(appointment.unit.unitId)\r\n\t\t//this.appointmentForm.patchValue(appointment);\r\n\t\tthis.getDoctorList(appointment.unit.unitId);\r\n\t\t//console.log(this.appointmentForm.value.department)\r\n\t}\r\n\tgetTimeFormat(data: Date): any {\r\n\t\tconst date = new Date(data);\r\n\t\tvar hour = (date.getHours() < 10 ? '0' : '') + date.getHours();\r\n\t\tlet min = (date.getMinutes() < 10 ? '0' : '') + date.getMinutes();\r\n\t\tvar time = hour + \":\" + min;\r\n\t\treturn time;\r\n\t}\r\n\r\n\tselectClass(status): any {\r\n\t\tswitch (status) {\r\n\t\t\tcase \"booked\": return \"info\";\r\n\t\t\tcase \"confirmed\": return \"success\";\r\n\t\t\tcase \"cancelled\": return \"danger\";\r\n\t\t\tdefault: return \"info\"\r\n\t\t}\r\n\t}\r\n\tdemoFunc() {\r\n\t\tconsole.log(\"Demo Function is called!!\")\r\n\t}\r\n\r\n}","import {  Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'searchAppointment'\r\n})\r\n\r\nexport class SearchAppointment implements PipeTransform {\r\n\r\n  transform(value: any, args?: any): any {\r\n    if (!args) {\r\n      return value;\r\n    }\r\n    return value.filter((val) => {\r\n\t\targs = args.toLowerCase();\r\n\t\t//console.log(val.fromDate.toString().toLowerCase())\r\n\t\t//console.log( val.fromDate.toString().toLowerCase().includes(args))\r\n\t\tvar dateParts = val.fromDate.split(\"-\");\r\n\t\tvar jsDate = new Date(dateParts[0], dateParts[1] - 1, dateParts[2].substr(0,2));\r\n\t\tconsole.log(jsDate.toString())\r\n      let rVal = (val.appointmentId.toString().includes(args) || val.patient.mrn.toLowerCase().includes(args) || val.doctor.employeeFullName.toLowerCase().includes(args) || jsDate.toString().toLowerCase().includes(args) );\r\n      return rVal;\r\n    })\r\n\r\n  }\r\n\r\n}\r\n","export default \"\\n/* classes attached to <body> */\\n\\n.fc-not-allowed,\\n.fc-not-allowed .fc-event { /* override events' custom cursors */\\n  cursor: not-allowed;\\n}\\n\\n.fc-unselectable {\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n  -webkit-touch-callout: none;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n\\n.fc {\\n  /* layout of immediate children */\\n  display: flex;\\n  flex-direction: column;\\n\\n  font-size: 1em\\n}\\n\\n.fc,\\n  .fc *,\\n  .fc *:before,\\n  .fc *:after {\\n    box-sizing: border-box;\\n  }\\n\\n.fc table {\\n    border-collapse: collapse;\\n    border-spacing: 0;\\n    font-size: 1em; /* normalize cross-browser */\\n  }\\n\\n.fc th {\\n    text-align: center;\\n  }\\n\\n.fc th,\\n  .fc td {\\n    vertical-align: top;\\n    padding: 0;\\n  }\\n\\n.fc a[data-navlink] {\\n    cursor: pointer;\\n  }\\n\\n.fc a[data-navlink]:hover {\\n    text-decoration: underline;\\n  }\\n\\n.fc-direction-ltr {\\n  direction: ltr;\\n  text-align: left;\\n}\\n\\n.fc-direction-rtl {\\n  direction: rtl;\\n  text-align: right;\\n}\\n\\n.fc-theme-standard td,\\n  .fc-theme-standard th {\\n    border: 1px solid #ddd;\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd);\\n  }\\n\\n/* for FF, which doesn't expand a 100% div within a table cell. use absolute positioning */\\n\\n/* inner-wrappers are responsible for being absolute */\\n\\n/* TODO: best place for this? */\\n\\n.fc-liquid-hack td,\\n  .fc-liquid-hack th {\\n    position: relative;\\n  }\\n\\n@font-face {\\n  font-family: 'fcicons';\\n  src: url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n\\n.fc-icon {\\n  /* added for fc */\\n  display: inline-block;\\n  width: 1em;\\n  height: 1em;\\n  text-align: center;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n\\n  /* use !important to prevent issues with browser extensions that change fonts */\\n  font-family: 'fcicons' !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-feature-settings: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n\\n  /* Better Font Rendering =========== */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.fc-icon-chevron-left:before {\\n  content: \\\"\\\\e900\\\";\\n}\\n\\n.fc-icon-chevron-right:before {\\n  content: \\\"\\\\e901\\\";\\n}\\n\\n.fc-icon-chevrons-left:before {\\n  content: \\\"\\\\e902\\\";\\n}\\n\\n.fc-icon-chevrons-right:before {\\n  content: \\\"\\\\e903\\\";\\n}\\n\\n.fc-icon-minus-square:before {\\n  content: \\\"\\\\e904\\\";\\n}\\n\\n.fc-icon-plus-square:before {\\n  content: \\\"\\\\e905\\\";\\n}\\n\\n.fc-icon-x:before {\\n  content: \\\"\\\\e906\\\";\\n}\\n\\n/*\\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\\n\\nThese styles only apply when the standard-theme is activated.\\nWhen it's NOT activated, the fc-button classes won't even be in the DOM.\\n*/\\n\\n.fc {\\n\\n  /* reset */\\n\\n}\\n\\n.fc .fc-button {\\n    border-radius: 0;\\n    overflow: visible;\\n    text-transform: none;\\n    margin: 0;\\n    font-family: inherit;\\n    font-size: inherit;\\n    line-height: inherit;\\n  }\\n\\n.fc .fc-button:focus {\\n    outline: 1px dotted;\\n    outline: 5px auto -webkit-focus-ring-color;\\n  }\\n\\n.fc .fc-button {\\n    -webkit-appearance: button;\\n  }\\n\\n.fc .fc-button:not(:disabled) {\\n    cursor: pointer;\\n  }\\n\\n.fc .fc-button::-moz-focus-inner {\\n    padding: 0;\\n    border-style: none;\\n  }\\n\\n.fc {\\n\\n  /* theme */\\n\\n}\\n\\n.fc .fc-button {\\n    display: inline-block;\\n    font-weight: 400;\\n    text-align: center;\\n    vertical-align: middle;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n            user-select: none;\\n    background-color: transparent;\\n    border: 1px solid transparent;\\n    padding: 0.4em 0.65em;\\n    font-size: 1em;\\n    line-height: 1.5;\\n    border-radius: 0.25em;\\n  }\\n\\n.fc .fc-button:hover {\\n    text-decoration: none;\\n  }\\n\\n.fc .fc-button:focus {\\n    outline: 0;\\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\\n  }\\n\\n.fc .fc-button:disabled {\\n    opacity: 0.65;\\n  }\\n\\n.fc {\\n\\n  /* \\\"primary\\\" coloring */\\n\\n}\\n\\n.fc .fc-button-primary {\\n    color: #fff;\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #2C3E50;\\n    background-color: #2C3E50;\\n    background-color: var(--fc-button-bg-color, #2C3E50);\\n    border-color: #2C3E50;\\n    border-color: #2C3E50;\\n    border-color: var(--fc-button-border-color, #2C3E50);\\n  }\\n\\n.fc .fc-button-primary:hover {\\n    color: #fff;\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #1e2b37;\\n    background-color: #1e2b37;\\n    background-color: var(--fc-button-hover-bg-color, #1e2b37);\\n    border-color: #1a252f;\\n    border-color: #1a252f;\\n    border-color: var(--fc-button-hover-border-color, #1a252f);\\n  }\\n\\n.fc .fc-button-primary:disabled { /* not DRY */\\n    color: #fff;\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #2C3E50;\\n    background-color: #2C3E50;\\n    background-color: var(--fc-button-bg-color, #2C3E50);\\n    border-color: #2C3E50;\\n    border-color: #2C3E50;\\n    border-color: var(--fc-button-border-color, #2C3E50); /* overrides :hover */\\n  }\\n\\n.fc .fc-button-primary:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n\\n.fc .fc-button-primary:not(:disabled):active,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\\n    color: #fff;\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #1a252f;\\n    background-color: #1a252f;\\n    background-color: var(--fc-button-active-bg-color, #1a252f);\\n    border-color: #151e27;\\n    border-color: #151e27;\\n    border-color: var(--fc-button-active-border-color, #151e27);\\n  }\\n\\n.fc .fc-button-primary:not(:disabled):active:focus,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n\\n.fc {\\n\\n  /* icons within buttons */\\n\\n}\\n\\n.fc .fc-button .fc-icon {\\n    vertical-align: middle;\\n    font-size: 1.5em; /* bump up the size (but don't make it bigger than line-height of button, which is 1.5em also) */\\n  }\\n\\n.fc .fc-button-group {\\n    position: relative;\\n    display: inline-flex;\\n    vertical-align: middle;\\n  }\\n\\n.fc .fc-button-group > .fc-button {\\n    position: relative;\\n    flex: 1 1 auto;\\n  }\\n\\n.fc .fc-button-group > .fc-button:hover {\\n    z-index: 1;\\n  }\\n\\n.fc .fc-button-group > .fc-button:focus,\\n  .fc .fc-button-group > .fc-button:active,\\n  .fc .fc-button-group > .fc-button.fc-button-active {\\n    z-index: 1;\\n  }\\n\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\\n    margin-left: -1px;\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\\n    margin-right: -1px;\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n\\n.fc .fc-toolbar {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n  }\\n\\n.fc .fc-toolbar.fc-header-toolbar {\\n    margin-bottom: 1.5em;\\n  }\\n\\n.fc .fc-toolbar.fc-footer-toolbar {\\n    margin-top: 1.5em;\\n  }\\n\\n.fc .fc-toolbar-title {\\n    font-size: 1.75em;\\n    margin: 0;\\n  }\\n\\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\\n    margin-left: .75em; /* space between */\\n  }\\n\\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\\n    margin-right: .75em; /* space between */\\n  }\\n\\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\\n    flex-direction: row-reverse;\\n  }\\n\\n.fc .fc-scroller {\\n    -webkit-overflow-scrolling: touch;\\n    position: relative; /* for abs-positioned elements within */\\n  }\\n\\n.fc .fc-scroller-liquid {\\n    height: 100%;\\n  }\\n\\n.fc .fc-scroller-liquid-absolute {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    left: 0;\\n    bottom: 0;\\n  }\\n\\n.fc .fc-scroller-harness {\\n    position: relative;\\n    overflow: hidden;\\n    direction: ltr;\\n      /* hack for chrome computing the scroller's right/left wrong for rtl. undone below... */\\n      /* TODO: demonstrate in codepen */\\n  }\\n\\n.fc .fc-scroller-harness-liquid {\\n    height: 100%;\\n  }\\n\\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\\n    direction: rtl;\\n  }\\n\\n.fc-theme-standard .fc-scrollgrid {\\n    border: 1px solid #ddd;\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd); /* bootstrap does this. match */\\n  }\\n\\n.fc .fc-scrollgrid,\\n    .fc .fc-scrollgrid table { /* all tables (self included) */\\n      width: 100%; /* because tables don't normally do this */\\n      table-layout: fixed;\\n    }\\n\\n.fc .fc-scrollgrid table { /* inner tables */\\n      border-top-style: hidden;\\n      border-left-style: hidden;\\n      border-right-style: hidden;\\n    }\\n\\n.fc .fc-scrollgrid {\\n\\n    border-collapse: separate;\\n    border-right-width: 0;\\n    border-bottom-width: 0;\\n\\n  }\\n\\n.fc .fc-scrollgrid-liquid {\\n    height: 100%;\\n  }\\n\\n.fc .fc-scrollgrid-section { /* a <tr> */\\n    height: 1px /* better than 0, for firefox */\\n\\n  }\\n\\n.fc .fc-scrollgrid-section > td {\\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\\n    }\\n\\n.fc .fc-scrollgrid-section table {\\n      height: 1px;\\n        /* for most browsers, if a height isn't set on the table, can't do liquid-height within cells */\\n        /* serves as a min-height. harmless */\\n    }\\n\\n.fc .fc-scrollgrid-section-liquid > td {\\n      height: 100%; /* better than `auto`, for firefox */\\n    }\\n\\n.fc .fc-scrollgrid-section > * {\\n    border-top-width: 0;\\n    border-left-width: 0;\\n  }\\n\\n.fc .fc-scrollgrid-section-header > *,\\n  .fc .fc-scrollgrid-section-footer > * {\\n    border-bottom-width: 0;\\n  }\\n\\n.fc .fc-scrollgrid-section-body table,\\n  .fc .fc-scrollgrid-section-footer table {\\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\\n  }\\n\\n.fc {\\n\\n  /* stickiness */\\n\\n}\\n\\n.fc .fc-scrollgrid-section-sticky > * {\\n    background: #fff;\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff);\\n    position: sticky;\\n    z-index: 3; /* TODO: var */\\n    /* TODO: box-shadow when sticking */\\n  }\\n\\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\\n    top: 0; /* because border-sharing causes a gap at the top */\\n      /* TODO: give safari -1. has bug */\\n  }\\n\\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\\n    bottom: 0; /* known bug: bottom-stickiness doesn't work in safari */\\n  }\\n\\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\\n    height: 1px; /* needs height to create scrollbars */\\n    margin-bottom: -1px;\\n  }\\n\\n.fc-sticky { /* no .fc wrap because used as child of body */\\n  position: sticky;\\n}\\n\\n.fc .fc-view-harness {\\n    flex-grow: 1; /* because this harness is WITHIN the .fc's flexbox */\\n    position: relative;\\n  }\\n\\n.fc {\\n\\n  /* when the harness controls the height, make the view liquid */\\n\\n}\\n\\n.fc .fc-view-harness-active > .fc-view {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n  }\\n\\n.fc .fc-col-header-cell-cushion {\\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\\n    padding: 2px 4px;\\n  }\\n\\n.fc .fc-bg-event,\\n  .fc .fc-non-business,\\n  .fc .fc-highlight {\\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n\\n.fc .fc-non-business {\\n    background: rgba(215, 215, 215, 0.3);\\n    background: rgba(215, 215, 215, 0.3);\\n    background: var(--fc-non-business-color, rgba(215, 215, 215, 0.3));\\n  }\\n\\n.fc .fc-bg-event {\\n    background: rgb(143, 223, 130);\\n    background: rgb(143, 223, 130);\\n    background: var(--fc-bg-event-color, rgb(143, 223, 130));\\n    opacity: 0.3;\\n    opacity: 0.3;\\n    opacity: var(--fc-bg-event-opacity, 0.3)\\n  }\\n\\n.fc .fc-bg-event .fc-event-title {\\n      margin: .5em;\\n      font-size: .85em;\\n      font-size: .85em;\\n      font-size: var(--fc-small-font-size, .85em);\\n      font-style: italic;\\n    }\\n\\n.fc .fc-highlight {\\n    background: rgba(188, 232, 241, 0.3);\\n    background: rgba(188, 232, 241, 0.3);\\n    background: var(--fc-highlight-color, rgba(188, 232, 241, 0.3));\\n  }\\n\\n.fc .fc-cell-shaded,\\n  .fc .fc-day-disabled {\\n    background: rgba(208, 208, 208, 0.3);\\n    background: rgba(208, 208, 208, 0.3);\\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n  }\\n\\n/* link resets */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\na.fc-event,\\na.fc-event:hover {\\n  text-decoration: none;\\n}\\n\\n/* cursor */\\n\\n.fc-event[href],\\n.fc-event.fc-event-draggable {\\n  cursor: pointer;\\n}\\n\\n/* event text content */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n.fc-event .fc-event-main {\\n    position: relative;\\n    z-index: 2;\\n  }\\n\\n/* dragging */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\\n    opacity: 0.75;\\n  }\\n\\n.fc-event-dragging.fc-event-selected { /* TOUCH */\\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\\n  }\\n\\n/* resizing */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n/* (subclasses should hone positioning for touch and non-touch) */\\n\\n.fc-event .fc-event-resizer {\\n    display: none;\\n    position: absolute;\\n    z-index: 4;\\n  }\\n\\n.fc-event:hover, /* MOUSE */\\n.fc-event-selected { /* TOUCH */\\n\\n}\\n\\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\\n    display: block;\\n  }\\n\\n.fc-event-selected .fc-event-resizer {\\n    border-radius: 4px;\\n    border-radius: calc(8px / 2);\\n    border-radius: calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);\\n    border-width: 1px;\\n    border-width: 1px;\\n    border-width: var(--fc-event-resizer-dot-border-width, 1px);\\n    width: 8px;\\n    width: 8px;\\n    width: var(--fc-event-resizer-dot-total-width, 8px);\\n    height: 8px;\\n    height: 8px;\\n    height: var(--fc-event-resizer-dot-total-width, 8px);\\n    border-style: solid;\\n    border-color: inherit;\\n    background: #fff;\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff)\\n\\n    /* expand hit area */\\n\\n  }\\n\\n.fc-event-selected .fc-event-resizer:before {\\n      content: '';\\n      position: absolute;\\n      top: -20px;\\n      left: -20px;\\n      right: -20px;\\n      bottom: -20px;\\n    }\\n\\n/* selecting (always TOUCH) */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n.fc-event-selected {\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\\n\\n  /* expand hit area (subclasses should expand) */\\n\\n}\\n\\n.fc-event-selected:before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    z-index: 3;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n\\n.fc-event-selected {\\n\\n  /* dimmer effect */\\n\\n}\\n\\n.fc-event-selected:after {\\n    content: \\\"\\\";\\n    background: rgba(0, 0, 0, 0.25);\\n    background: rgba(0, 0, 0, 0.25);\\n    background: var(--fc-event-selected-overlay-color, rgba(0, 0, 0, 0.25));\\n    position: absolute;\\n    z-index: 1;\\n\\n    /* assume there's a border on all sides. overcome it. */\\n    /* sometimes there's NOT a border, in which case the dimmer will go over */\\n    /* an adjacent border, which looks fine. */\\n    top: -1px;\\n    left: -1px;\\n    right: -1px;\\n    bottom: -1px;\\n  }\\n\\n/*\\nA HORIZONTAL event\\n*/\\n\\n.fc-h-event { /* allowed to be top-level */\\n  display: block;\\n  border: 1px solid #3788d8;\\n  border: 1px solid #3788d8;\\n  border: 1px solid var(--fc-event-border-color, #3788d8);\\n  background-color: #3788d8;\\n  background-color: #3788d8;\\n  background-color: var(--fc-event-bg-color, #3788d8)\\n\\n}\\n\\n.fc-h-event .fc-event-main {\\n    color: #fff;\\n    color: #fff;\\n    color: var(--fc-event-text-color, #fff);\\n  }\\n\\n.fc-h-event .fc-event-main-frame {\\n    display: flex; /* for make fc-event-title-container expand */\\n  }\\n\\n.fc-h-event .fc-event-time {\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n\\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n  }\\n\\n.fc-h-event .fc-event-title {\\n    display: inline-block; /* need this to be sticky cross-browser */\\n    vertical-align: top; /* for not messing up line-height */\\n    left: 0;  /* for sticky */\\n    right: 0; /* for sticky */\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n\\n.fc-h-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n\\n/* adjust border and border-radius (if there is any) for non-start/end */\\n\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n  border-left-width: 0;\\n}\\n\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0;\\n  border-right-width: 0;\\n}\\n\\n/* resizers */\\n\\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\\n  top: 0;\\n  bottom: 0;\\n  width: 8px;\\n  width: 8px;\\n  width: var(--fc-event-resizer-thickness, 8px);\\n}\\n\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\\n  cursor: w-resize;\\n  left: -4px;\\n  left: calc(8px / -2);\\n  left: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n}\\n\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\\n  cursor: e-resize;\\n  right: -4px;\\n  right: calc(8px / -2);\\n  right: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n}\\n\\n/* resizers for TOUCH */\\n\\n.fc-h-event.fc-event-selected .fc-event-resizer {\\n  top: 50%;\\n  margin-top: -4px;\\n  margin-top: calc(8px / -2);\\n  margin-top: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\\n  left: -4px;\\n  left: calc(8px / -2);\\n  left: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\\n  right: -4px;\\n  right: calc(8px / -2);\\n  right: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n\\n.fc .fc-popover {\\n    position: absolute;\\n    z-index: 9999;\\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\\n  }\\n\\n.fc .fc-popover-header {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding: 3px 4px;\\n  }\\n\\n.fc .fc-popover-title {\\n    margin: 0 2px;\\n  }\\n\\n.fc .fc-popover-close {\\n    cursor: pointer;\\n    opacity: 0.65;\\n    font-size: 1.1em;\\n  }\\n\\n.fc-theme-standard .fc-popover {\\n    border: 1px solid #ddd;\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd);\\n    background: #fff;\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff);\\n  }\\n\\n.fc-theme-standard .fc-popover-header {\\n    background: rgba(208, 208, 208, 0.3);\\n    background: rgba(208, 208, 208, 0.3);\\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n  }\\n\\n/*# sourceMappingURL=data:application/json;base64,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QTs7RUFFRSxnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLHFCQUF3RDtFQUF4RCx3REFBd0Q7QUFDMUQ7O0FBQ0EsdUJBQXVCOztBQUN2QjtFQUNFLFFBQVE7RUFDUixnQkFBZ0I7RUFDaEIsMEJBQW1FO0VBQW5FLG1FQUFtRTtBQUNyRTs7QUFDQTs7RUFFRSxVQUFVO0VBQ1Ysb0JBQTZEO0VBQTdELDZEQUE2RDtBQUMvRDs7QUFDQTs7RUFFRSxXQUFXO0VBQ1gscUJBQThEO0VBQTlELDhEQUE4RDtBQUNoRTs7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IscUNBQXFDO0VBQ3ZDOztBQUNGO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQiw4QkFBOEI7SUFDOUIsbUJBQW1CO0lBQ25CLGdCQUFnQjtFQUNsQjs7QUFDRjtJQUNJLGFBQWE7RUFDZjs7QUFDRjtJQUNJLGVBQWU7SUFDZixhQUFhO0lBQ2IsZ0JBQWdCO0VBQ2xCOztBQUNGO0lBQ0ksc0JBQXNCO0lBQ3RCLHNCQUE4QztJQUE5Qyw4Q0FBOEM7SUFDOUMsZ0JBQWdCO0lBQ2hCLGdCQUF5QztJQUF6Qyx5Q0FBeUM7RUFDM0M7O0FBQ0Y7SUFDSSxvQ0FBb0M7SUFDcEMsb0NBQWdFO0lBQWhFLGdFQUFnRTtFQUNsRSIsImZpbGUiOiJtYWluLmNzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyogY2xhc3NlcyBhdHRhY2hlZCB0byA8Ym9keT4gKi9cblxuLmZjLW5vdC1hbGxvd2VkLFxuLmZjLW5vdC1hbGxvd2VkIC5mYy1ldmVudCB7IC8qIG92ZXJyaWRlIGV2ZW50cycgY3VzdG9tIGN1cnNvcnMgKi9cbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbn1cblxuLmZjLXVuc2VsZWN0YWJsZSB7XG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xufVxuLmZjIHtcbiAgLyogbGF5b3V0IG9mIGltbWVkaWF0ZSBjaGlsZHJlbiAqL1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXG4gIGZvbnQtc2l6ZTogMWVtXG59XG4uZmMsXG4gIC5mYyAqLFxuICAuZmMgKjpiZWZvcmUsXG4gIC5mYyAqOmFmdGVyIHtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG4uZmMgdGFibGUge1xuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gICAgYm9yZGVyLXNwYWNpbmc6IDA7XG4gICAgZm9udC1zaXplOiAxZW07IC8qIG5vcm1hbGl6ZSBjcm9zcy1icm93c2VyICovXG4gIH1cbi5mYyB0aCB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG4uZmMgdGgsXG4gIC5mYyB0ZCB7XG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICBwYWRkaW5nOiAwO1xuICB9XG4uZmMgYVtkYXRhLW5hdmxpbmtdIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbi5mYyBhW2RhdGEtbmF2bGlua106aG92ZXIge1xuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICB9XG4uZmMtZGlyZWN0aW9uLWx0ciB7XG4gIGRpcmVjdGlvbjogbHRyO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuLmZjLWRpcmVjdGlvbi1ydGwge1xuICBkaXJlY3Rpb246IHJ0bDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG4uZmMtdGhlbWUtc3RhbmRhcmQgdGQsXG4gIC5mYy10aGVtZS1zdGFuZGFyZCB0aCB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1mYy1ib3JkZXItY29sb3IsICNkZGQpO1xuICB9XG4vKiBmb3IgRkYsIHdoaWNoIGRvZXNuJ3QgZXhwYW5kIGEgMTAwJSBkaXYgd2l0aGluIGEgdGFibGUgY2VsbC4gdXNlIGFic29sdXRlIHBvc2l0aW9uaW5nICovXG4vKiBpbm5lci13cmFwcGVycyBhcmUgcmVzcG9uc2libGUgZm9yIGJlaW5nIGFic29sdXRlICovXG4vKiBUT0RPOiBiZXN0IHBsYWNlIGZvciB0aGlzPyAqL1xuLmZjLWxpcXVpZC1oYWNrIHRkLFxuICAuZmMtbGlxdWlkLWhhY2sgdGgge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuXG5AZm9udC1mYWNlIHtcbiAgZm9udC1mYW1pbHk6ICdmY2ljb25zJztcbiAgc3JjOiB1cmwoXCJkYXRhOmFwcGxpY2F0aW9uL3gtZm9udC10dGY7Y2hhcnNldD11dGYtODtiYXNlNjQsQUFFQUFBQUxBSUFBQXdBd1QxTXZNZzhTQmZBQUFBQzhBQUFBWUdOdFlYQVhWdEtOQUFBQkhBQUFBRlJuWVhOd0FBQUFFQUFBQVhBQUFBQUlaMng1WmdZeWR4SUFBQUY0QUFBRk5HaGxZV1FVSjdjSUFBQUdyQUFBQURab2FHVmhCMjBEekFBQUJ1UUFBQUFrYUcxMGVDSUFCaFFBQUFjSUFBQUFMR3h2WTJFRDRBVTZBQUFITkFBQUFCaHRZWGh3QUE4QWpBQUFCMHdBQUFBZ2JtRnRaWHNyNjkwQUFBZHNBQUFCaG5CdmMzUUFBd0FBQUFBSTlBQUFBQ0FBQXdQQUFaQUFCUUFBQXBrQ3pBQUFBSThDbVFMTUFBQUI2d0F6QVFrQUFBQUFBQUFBQUFBQUFBQUFBQUFCRUFBQUFBQUFBQUFBQUFBQUFBQUFBQUJBQUFEcEJnUEEvOEFBUUFQQUFFQUFBQUFCQUFBQUFBQUFBQUFBQUFBZ0FBQUFBQUFEQUFBQUF3QUFBQndBQVFBREFBQUFIQUFEQUFFQUFBQWNBQVFBT0FBQUFBb0FDQUFDQUFJQUFRQWc2UWIvL2YvL0FBQUFBQUFnNlFELy9mLy9BQUgvNHhjRUFBTUFBUUFBQUFBQUFBQUFBQUFBQVFBQi8vOEFEd0FCQUFBQUFBQUFBQUFBQWdBQU56a0JBQUFBQUFFQUFBQUFBQUFBQUFBQ0FBQTNPUUVBQUFBQUFRQUFBQUFBQUFBQUFBSUFBRGM1QVFBQUFBQUJBV0lBalFLZUFza0FFd0FBSlNjM05qUW5KaUlIQVFZVUZ3RVdNamMyTkNjQ251TGlEUTBNSkF6L0FBME5BUUFNSkF3TkRjbmk0Z3dqRFF3TS93QU5Jd3ovQUEwTkRDTU5BQUFBQVFGaUFJMENuZ0xKQUJNQUFDVUJOalFuQVNZaUJ3WVVId0VIQmhRWEZqSTNBWjRCQUEwTi93QU1KQXdORGVMaURRME1KQXlOQVFBTUl3MEJBQXdNRFNNTTR1SU5Jd3dORFFBQUFBSUE0Z0MzQXg0Q25nQVRBQ2NBQUNVbk56WTBKeVlpRHdFR0ZCOEJGakkzTmpRbklTYzNOalFuSmlJUEFRWVVId0VXTWpjMk5DY0I4N2UzRFEwTUl3M1ZEUTNWRFNNTURRMEJLN2UzRFEwTUpBelZEUTNWRENRTURRM3p1TGNNSkF3TkRkVU5Jd3pXREF3Tkl3eTR0d3drREEwTjFRMGpETllNREEwakRBQUFBZ0RpQUxjREhnS2VBQk1BSndBQUpUYzJOQzhCSmlJSEJoUWZBUWNHRkJjV01qY2hOelkwTHdFbUlnY0dGQjhCQndZVUZ4WXlOd0pKMVEwTjFRMGpEQTBOdDdjTkRRd2pEZjdWMVEwTjFRd2tEQTBOdDdjTkRRd2tETGZXRENNTjFRME5EQ1FNdDdnTUl3ME1ETllNSXczVkRRME1KQXkzdUF3akRRd01BQUFEQUZVQUFBT3JBMVVBTXdCb0FIY0FBQk1pQmdjT0FRY09BUWNPQVJVUkZCWVhIZ0VYSGdFWEhnRXpJVEkyTno0Qk56NEJOejRCTlJFMEppY3VBU2N1QVNjdUFTTUZJVElXRng0QkZ4NEJGeDRCRlJFVUJnY09BUWNPQVFjT0FTTWhJaVluTGdFbkxnRW5MZ0UxRVRRMk56NEJOejRCTno0Qk14TWhNalkxTkNZaklTSUdGUlFXTTlVTkdBd0xGUWtKRGdVRkJRVUZCUTRKQ1JVTERCZ05BbFlOR0F3TEZRa0pEZ1VGQlFVRkJRNEpDUlVMREJnTi9hb0NWZ1FJQkFRSEF3TUZBUUlCQVFJQkJRTURCd1FFQ0FUOXFnUUlCQVFIQXdNRkFRSUJBUUlCQlFNREJ3UUVDQVNBQVZZUkdSa1IvcW9SR1JrUkExVUZCQVVPQ1FrVkRBc1pEZjJyRFJrTERCVUpDQTRGQlFVRkJRVU9DUWdWREFzWkRRSlZEUmtMREJVSkNRNEZCQVZWQWdFQ0JRTUNCd1FFQ0FYOXF3UUpBd1FIQXdNRkFRSUNBZ0lCQlFNREJ3UURDUVFDVlFVSUJBUUhBZ01GQWdFQy9vQVpFaEVaR1JFU0dRQUFBQUFEQUZVQUFBT3JBMVVBTXdCb0FJa0FBQk1pQmdjT0FRY09BUWNPQVJVUkZCWVhIZ0VYSGdFWEhnRXpJVEkyTno0Qk56NEJOejRCTlJFMEppY3VBU2N1QVNjdUFTTUZJVElXRng0QkZ4NEJGeDRCRlJFVUJnY09BUWNPQVFjT0FTTWhJaVluTGdFbkxnRW5MZ0UxRVRRMk56NEJOejRCTno0Qk14TXpGUlFXTXpJMlBRRXpNalkxTkNZckFUVTBKaU1pQmgwQkl5SUdGUlFXTTlVTkdBd0xGUWtKRGdVRkJRVUZCUTRKQ1JVTERCZ05BbFlOR0F3TEZRa0pEZ1VGQlFVRkJRNEpDUlVMREJnTi9hb0NWZ1FJQkFRSEF3TUZBUUlCQVFJQkJRTURCd1FFQ0FUOXFnUUlCQVFIQXdNRkFRSUJBUUlCQlFNREJ3UUVDQVNBZ0JrU0VobUFFUmtaRVlBWkVoSVpnQkVaR1JFRFZRVUVCUTRKQ1JVTUN4a04vYXNOR1FzTUZRa0lEZ1VGQlFVRkJRNEpDQlVNQ3hrTkFsVU5HUXNNRlFrSkRnVUVCVlVDQVFJRkF3SUhCQVFJQmYyckJBa0RCQWNEQXdVQkFnSUNBZ0VGQXdNSEJBTUpCQUpWQlFnRUJBY0NBd1VDQVFMK2dJQVNHUmtTZ0JrU0VSbUFFaGtaRW9BWkVSSVpBQUFCQU9JQWpRTWVBc2tBSUFBQUV4Y0hCaFFYRmpJL0FSY1dNamMyTkM4Qk56WTBKeVlpRHdFbkppSUhCaFFYNHVMaURRME1KQXppNGd3a0RBME40dUlORFF3a0RPTGlEQ1FNRFEwQ2plTGlEU01NRFEzaDRRME5EQ01ONHVJTUl3ME1ET0xpREF3Tkl3d0FBQUFCQUFBQUFRQUFhNW4weTE4UFBQVUFDd1FBQUFBQUFOaXZPVnNBQUFBQTJLODVXd0FBQUFBRHF3TlZBQUFBQ0FBQ0FBQUFBQUFBQUFFQUFBUEEvOEFBQUFRQUFBQUFBQU9yQUFFQUFBQUFBQUFBQUFBQUFBQUFBQUFMQkFBQUFBQUFBQUFBQUFBQUFnQUFBQVFBQVdJRUFBRmlCQUFBNGdRQUFPSUVBQUJWQkFBQVZRUUFBT0lBQUFBQUFBb0FGQUFlQUVRQWFnQ3FBT29CbmdKa0Fwb0FBUUFBQUFzQWlnQURBQUFBQUFBQ0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBNEFyZ0FCQUFBQUFBQUJBQWNBQUFBQkFBQUFBQUFDQUFjQVlBQUJBQUFBQUFBREFBY0FOZ0FCQUFBQUFBQUVBQWNBZFFBQkFBQUFBQUFGQUFzQUZRQUJBQUFBQUFBR0FBY0FTd0FCQUFBQUFBQUtBQm9BaWdBREFBRUVDUUFCQUE0QUJ3QURBQUVFQ1FBQ0FBNEFad0FEQUFFRUNRQURBQTRBUFFBREFBRUVDUUFFQUE0QWZBQURBQUVFQ1FBRkFCWUFJQUFEQUFFRUNRQUdBQTRBVWdBREFBRUVDUUFLQURRQXBHWmphV052Ym5NQVpnQmpBR2tBWXdCdkFHNEFjMVpsY25OcGIyNGdNUzR3QUZZQVpRQnlBSE1BYVFCdkFHNEFJQUF4QUM0QU1HWmphV052Ym5NQVpnQmpBR2tBWXdCdkFHNEFjMlpqYVdOdmJuTUFaZ0JqQUdrQVl3QnZBRzRBYzFKbFozVnNZWElBVWdCbEFHY0FkUUJzQUdFQWNtWmphV052Ym5NQVpnQmpBR2tBWXdCdkFHNEFjMFp2Ym5RZ1oyVnVaWEpoZEdWa0lHSjVJRWxqYjAxdmIyNHVBRVlBYndCdUFIUUFJQUJuQUdVQWJnQmxBSElBWVFCMEFHVUFaQUFnQUdJQWVRQWdBRWtBWXdCdkFFMEFid0J2QUc0QUxnQUFBQU1BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBPVwiKSBmb3JtYXQoJ3RydWV0eXBlJyk7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbn1cblxuLmZjLWljb24ge1xuICAvKiBhZGRlZCBmb3IgZmMgKi9cbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB3aWR0aDogMWVtO1xuICBoZWlnaHQ6IDFlbTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuXG4gIC8qIHVzZSAhaW1wb3J0YW50IHRvIHByZXZlbnQgaXNzdWVzIHdpdGggYnJvd3NlciBleHRlbnNpb25zIHRoYXQgY2hhbmdlIGZvbnRzICovXG4gIGZvbnQtZmFtaWx5OiAnZmNpY29ucycgIWltcG9ydGFudDtcbiAgc3BlYWs6IG5vbmU7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgZm9udC12YXJpYW50OiBub3JtYWw7XG4gIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICBsaW5lLWhlaWdodDogMTtcblxuICAvKiBCZXR0ZXIgRm9udCBSZW5kZXJpbmcgPT09PT09PT09PT0gKi9cbiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XG59XG5cbi5mYy1pY29uLWNoZXZyb24tbGVmdDpiZWZvcmUge1xuICBjb250ZW50OiBcIlxcZTkwMFwiO1xufVxuXG4uZmMtaWNvbi1jaGV2cm9uLXJpZ2h0OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXFxlOTAxXCI7XG59XG5cbi5mYy1pY29uLWNoZXZyb25zLWxlZnQ6YmVmb3JlIHtcbiAgY29udGVudDogXCJcXGU5MDJcIjtcbn1cblxuLmZjLWljb24tY2hldnJvbnMtcmlnaHQ6YmVmb3JlIHtcbiAgY29udGVudDogXCJcXGU5MDNcIjtcbn1cblxuLmZjLWljb24tbWludXMtc3F1YXJlOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXFxlOTA0XCI7XG59XG5cbi5mYy1pY29uLXBsdXMtc3F1YXJlOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXFxlOTA1XCI7XG59XG5cbi5mYy1pY29uLXg6YmVmb3JlIHtcbiAgY29udGVudDogXCJcXGU5MDZcIjtcbn1cbi8qXG5Mb3RzIHRha2VuIGZyb20gRmxhdGx5IChNSVQpOiBodHRwczovL2Jvb3Rzd2F0Y2guY29tLzQvZmxhdGx5L2Jvb3RzdHJhcC5jc3NcblxuVGhlc2Ugc3R5bGVzIG9ubHkgYXBwbHkgd2hlbiB0aGUgc3RhbmRhcmQtdGhlbWUgaXMgYWN0aXZhdGVkLlxuV2hlbiBpdCdzIE5PVCBhY3RpdmF0ZWQsIHRoZSBmYy1idXR0b24gY2xhc3NlcyB3b24ndCBldmVuIGJlIGluIHRoZSBET00uXG4qL1xuLmZjIHtcblxuICAvKiByZXNldCAqL1xuXG59XG4uZmMgLmZjLWJ1dHRvbiB7XG4gICAgYm9yZGVyLXJhZGl1czogMDtcbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgICBtYXJnaW46IDA7XG4gICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gICAgZm9udC1zaXplOiBpbmhlcml0O1xuICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xuICB9XG4uZmMgLmZjLWJ1dHRvbjpmb2N1cyB7XG4gICAgb3V0bGluZTogMXB4IGRvdHRlZDtcbiAgICBvdXRsaW5lOiA1cHggYXV0byAtd2Via2l0LWZvY3VzLXJpbmctY29sb3I7XG4gIH1cbi5mYyAuZmMtYnV0dG9uIHtcbiAgICAtd2Via2l0LWFwcGVhcmFuY2U6IGJ1dHRvbjtcbiAgfVxuLmZjIC5mYy1idXR0b246bm90KDpkaXNhYmxlZCkge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuLmZjIC5mYy1idXR0b246Oi1tb3otZm9jdXMtaW5uZXIge1xuICAgIHBhZGRpbmc6IDA7XG4gICAgYm9yZGVyLXN0eWxlOiBub25lO1xuICB9XG4uZmMge1xuXG4gIC8qIHRoZW1lICovXG5cbn1cbi5mYyAuZmMtYnV0dG9uIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIHBhZGRpbmc6IDAuNGVtIDAuNjVlbTtcbiAgICBmb250LXNpemU6IDFlbTtcbiAgICBsaW5lLWhlaWdodDogMS41O1xuICAgIGJvcmRlci1yYWRpdXM6IDAuMjVlbTtcbiAgfVxuLmZjIC5mYy1idXR0b246aG92ZXIge1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgfVxuLmZjIC5mYy1idXR0b246Zm9jdXMge1xuICAgIG91dGxpbmU6IDA7XG4gICAgYm94LXNoYWRvdzogMCAwIDAgMC4ycmVtIHJnYmEoNDQsIDYyLCA4MCwgMC4yNSk7XG4gIH1cbi5mYyAuZmMtYnV0dG9uOmRpc2FibGVkIHtcbiAgICBvcGFjaXR5OiAwLjY1O1xuICB9XG4uZmMge1xuXG4gIC8qIFwicHJpbWFyeVwiIGNvbG9yaW5nICovXG5cbn1cbi5mYyAuZmMtYnV0dG9uLXByaW1hcnkge1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiB2YXIoLS1mYy1idXR0b24tdGV4dC1jb2xvciwgI2ZmZik7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzJDM0U1MDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1idXR0b24tYmctY29sb3IsICMyQzNFNTApO1xuICAgIGJvcmRlci1jb2xvcjogIzJDM0U1MDtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWZjLWJ1dHRvbi1ib3JkZXItY29sb3IsICMyQzNFNTApO1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1wcmltYXJ5OmhvdmVyIHtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBjb2xvcjogdmFyKC0tZmMtYnV0dG9uLXRleHQtY29sb3IsICNmZmYpO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMxZTJiMzc7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWhvdmVyLWJnLWNvbG9yLCAjMWUyYjM3KTtcbiAgICBib3JkZXItY29sb3I6ICMxYTI1MmY7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1mYy1idXR0b24taG92ZXItYm9yZGVyLWNvbG9yLCAjMWEyNTJmKTtcbiAgfVxuLmZjIC5mYy1idXR0b24tcHJpbWFyeTpkaXNhYmxlZCB7IC8qIG5vdCBEUlkgKi9cbiAgICBjb2xvcjogI2ZmZjtcbiAgICBjb2xvcjogdmFyKC0tZmMtYnV0dG9uLXRleHQtY29sb3IsICNmZmYpO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMyQzNFNTA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWJnLWNvbG9yLCAjMkMzRTUwKTtcbiAgICBib3JkZXItY29sb3I6ICMyQzNFNTA7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1mYy1idXR0b24tYm9yZGVyLWNvbG9yLCAjMkMzRTUwKTsgLyogb3ZlcnJpZGVzIDpob3ZlciAqL1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1wcmltYXJ5OmZvY3VzIHtcbiAgICBib3gtc2hhZG93OiAwIDAgMCAwLjJyZW0gcmdiYSg3NiwgOTEsIDEwNiwgMC41KTtcbiAgfVxuLmZjIC5mYy1idXR0b24tcHJpbWFyeTpub3QoOmRpc2FibGVkKTphY3RpdmUsXG4gIC5mYyAuZmMtYnV0dG9uLXByaW1hcnk6bm90KDpkaXNhYmxlZCkuZmMtYnV0dG9uLWFjdGl2ZSB7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgY29sb3I6IHZhcigtLWZjLWJ1dHRvbi10ZXh0LWNvbG9yLCAjZmZmKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWEyNTJmO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWZjLWJ1dHRvbi1hY3RpdmUtYmctY29sb3IsICMxYTI1MmYpO1xuICAgIGJvcmRlci1jb2xvcjogIzE1MWUyNztcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWZjLWJ1dHRvbi1hY3RpdmUtYm9yZGVyLWNvbG9yLCAjMTUxZTI3KTtcbiAgfVxuLmZjIC5mYy1idXR0b24tcHJpbWFyeTpub3QoOmRpc2FibGVkKTphY3RpdmU6Zm9jdXMsXG4gIC5mYyAuZmMtYnV0dG9uLXByaW1hcnk6bm90KDpkaXNhYmxlZCkuZmMtYnV0dG9uLWFjdGl2ZTpmb2N1cyB7XG4gICAgYm94LXNoYWRvdzogMCAwIDAgMC4ycmVtIHJnYmEoNzYsIDkxLCAxMDYsIDAuNSk7XG4gIH1cbi5mYyB7XG5cbiAgLyogaWNvbnMgd2l0aGluIGJ1dHRvbnMgKi9cblxufVxuLmZjIC5mYy1idXR0b24gLmZjLWljb24ge1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgZm9udC1zaXplOiAxLjVlbTsgLyogYnVtcCB1cCB0aGUgc2l6ZSAoYnV0IGRvbid0IG1ha2UgaXQgYmlnZ2VyIHRoYW4gbGluZS1oZWlnaHQgb2YgYnV0dG9uLCB3aGljaCBpcyAxLjVlbSBhbHNvKSAqL1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1ncm91cCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIH1cbi5mYyAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbiB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGZsZXg6IDEgMSBhdXRvO1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b246aG92ZXIge1xuICAgIHotaW5kZXg6IDE7XG4gIH1cbi5mYyAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbjpmb2N1cyxcbiAgLmZjIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uOmFjdGl2ZSxcbiAgLmZjIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uLmZjLWJ1dHRvbi1hY3RpdmUge1xuICAgIHotaW5kZXg6IDE7XG4gIH1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uOm5vdCg6Zmlyc3QtY2hpbGQpIHtcbiAgICBtYXJnaW4tbGVmdDogLTFweDtcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDA7XG4gIH1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uOm5vdCg6bGFzdC1jaGlsZCkge1xuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwO1xuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwO1xuICB9XG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbjpub3QoOmZpcnN0LWNoaWxkKSB7XG4gICAgbWFyZ2luLXJpZ2h0OiAtMXB4O1xuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwO1xuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwO1xuICB9XG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbjpub3QoOmxhc3QtY2hpbGQpIHtcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDA7XG4gIH1cbi5mYyAuZmMtdG9vbGJhciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgfVxuLmZjIC5mYy10b29sYmFyLmZjLWhlYWRlci10b29sYmFyIHtcbiAgICBtYXJnaW4tYm90dG9tOiAxLjVlbTtcbiAgfVxuLmZjIC5mYy10b29sYmFyLmZjLWZvb3Rlci10b29sYmFyIHtcbiAgICBtYXJnaW4tdG9wOiAxLjVlbTtcbiAgfVxuLmZjIC5mYy10b29sYmFyLXRpdGxlIHtcbiAgICBmb250LXNpemU6IDEuNzVlbTtcbiAgICBtYXJnaW46IDA7XG4gIH1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy10b29sYmFyID4gKiA+IDpub3QoOmZpcnN0LWNoaWxkKSB7XG4gICAgbWFyZ2luLWxlZnQ6IC43NWVtOyAvKiBzcGFjZSBiZXR3ZWVuICovXG4gIH1cbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy10b29sYmFyID4gKiA+IDpub3QoOmZpcnN0LWNoaWxkKSB7XG4gICAgbWFyZ2luLXJpZ2h0OiAuNzVlbTsgLyogc3BhY2UgYmV0d2VlbiAqL1xuICB9XG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtdG9vbGJhci1sdHIgeyAvKiB3aGVuIHRoZSB0b29sYmFyLWNodW5rIHBvc2l0aW9uaW5nIHN5c3RlbSBpcyBleHBsaWNpdGx5IGxlZnQtdG8tcmlnaHQgKi9cbiAgICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XG4gIH1cbi5mYyAuZmMtc2Nyb2xsZXIge1xuICAgIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7IC8qIGZvciBhYnMtcG9zaXRpb25lZCBlbGVtZW50cyB3aXRoaW4gKi9cbiAgfVxuLmZjIC5mYy1zY3JvbGxlci1saXF1aWQge1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuLmZjIC5mYy1zY3JvbGxlci1saXF1aWQtYWJzb2x1dGUge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgbGVmdDogMDtcbiAgICBib3R0b206IDA7XG4gIH1cbi5mYyAuZmMtc2Nyb2xsZXItaGFybmVzcyB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgZGlyZWN0aW9uOiBsdHI7XG4gICAgICAvKiBoYWNrIGZvciBjaHJvbWUgY29tcHV0aW5nIHRoZSBzY3JvbGxlcidzIHJpZ2h0L2xlZnQgd3JvbmcgZm9yIHJ0bC4gdW5kb25lIGJlbG93Li4uICovXG4gICAgICAvKiBUT0RPOiBkZW1vbnN0cmF0ZSBpbiBjb2RlcGVuICovXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZXItaGFybmVzcy1saXF1aWQge1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLXNjcm9sbGVyLWhhcm5lc3MgPiAuZmMtc2Nyb2xsZXIgeyAvKiB1bmRvIGFib3ZlIGhhY2sgKi9cbiAgICBkaXJlY3Rpb246IHJ0bDtcbiAgfVxuLmZjLXRoZW1lLXN0YW5kYXJkIC5mYy1zY3JvbGxncmlkIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWZjLWJvcmRlci1jb2xvciwgI2RkZCk7IC8qIGJvb3RzdHJhcCBkb2VzIHRoaXMuIG1hdGNoICovXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZCxcbiAgICAuZmMgLmZjLXNjcm9sbGdyaWQgdGFibGUgeyAvKiBhbGwgdGFibGVzIChzZWxmIGluY2x1ZGVkKSAqL1xuICAgICAgd2lkdGg6IDEwMCU7IC8qIGJlY2F1c2UgdGFibGVzIGRvbid0IG5vcm1hbGx5IGRvIHRoaXMgKi9cbiAgICAgIHRhYmxlLWxheW91dDogZml4ZWQ7XG4gICAgfVxuLmZjIC5mYy1zY3JvbGxncmlkIHRhYmxlIHsgLyogaW5uZXIgdGFibGVzICovXG4gICAgICBib3JkZXItdG9wLXN0eWxlOiBoaWRkZW47XG4gICAgICBib3JkZXItbGVmdC1zdHlsZTogaGlkZGVuO1xuICAgICAgYm9yZGVyLXJpZ2h0LXN0eWxlOiBoaWRkZW47XG4gICAgfVxuLmZjIC5mYy1zY3JvbGxncmlkIHtcblxuICAgIGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7XG4gICAgYm9yZGVyLXJpZ2h0LXdpZHRoOiAwO1xuICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDA7XG5cbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLWxpcXVpZCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbiB7IC8qIGEgPHRyPiAqL1xuICAgIGhlaWdodDogMXB4IC8qIGJldHRlciB0aGFuIDAsIGZvciBmaXJlZm94ICovXG5cbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24gPiB0ZCB7XG4gICAgICBoZWlnaHQ6IDFweDsgLyogbmVlZHMgYSBoZWlnaHQgc28gaW5uZXIgZGl2IHdpdGhpbiBncm93LiBiZXR0ZXIgdGhhbiAwLCBmb3IgZmlyZWZveCAqL1xuICAgIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uIHRhYmxlIHtcbiAgICAgIGhlaWdodDogMXB4O1xuICAgICAgICAvKiBmb3IgbW9zdCBicm93c2VycywgaWYgYSBoZWlnaHQgaXNuJ3Qgc2V0IG9uIHRoZSB0YWJsZSwgY2FuJ3QgZG8gbGlxdWlkLWhlaWdodCB3aXRoaW4gY2VsbHMgKi9cbiAgICAgICAgLyogc2VydmVzIGFzIGEgbWluLWhlaWdodC4gaGFybWxlc3MgKi9cbiAgICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1saXF1aWQgPiB0ZCB7XG4gICAgICBoZWlnaHQ6IDEwMCU7IC8qIGJldHRlciB0aGFuIGBhdXRvYCwgZm9yIGZpcmVmb3ggKi9cbiAgICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbiA+ICoge1xuICAgIGJvcmRlci10b3Atd2lkdGg6IDA7XG4gICAgYm9yZGVyLWxlZnQtd2lkdGg6IDA7XG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWhlYWRlciA+ICosXG4gIC5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWZvb3RlciA+ICoge1xuICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDA7XG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWJvZHkgdGFibGUsXG4gIC5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWZvb3RlciB0YWJsZSB7XG4gICAgYm9yZGVyLWJvdHRvbS1zdHlsZTogaGlkZGVuOyAvKiBoZWFkIGtlZXBzIGl0cyBib3R0b20gYm9yZGVyIHRobyAqL1xuICB9XG4uZmMge1xuXG4gIC8qIHN0aWNraW5lc3MgKi9cblxufVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24tc3RpY2t5ID4gKiB7XG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mYy1wYWdlLWJnLWNvbG9yLCAjZmZmKTtcbiAgICBwb3NpdGlvbjogc3RpY2t5O1xuICAgIHotaW5kZXg6IDM7IC8qIFRPRE86IHZhciAqL1xuICAgIC8qIFRPRE86IGJveC1zaGFkb3cgd2hlbiBzdGlja2luZyAqL1xuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1oZWFkZXIuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLXN0aWNreSA+ICoge1xuICAgIHRvcDogMDsgLyogYmVjYXVzZSBib3JkZXItc2hhcmluZyBjYXVzZXMgYSBnYXAgYXQgdGhlIHRvcCAqL1xuICAgICAgLyogVE9ETzogZ2l2ZSBzYWZhcmkgLTEuIGhhcyBidWcgKi9cbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24tZm9vdGVyLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1zdGlja3kgPiAqIHtcbiAgICBib3R0b206IDA7IC8qIGtub3duIGJ1ZzogYm90dG9tLXN0aWNraW5lc3MgZG9lc24ndCB3b3JrIGluIHNhZmFyaSAqL1xuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc3RpY2t5LXNoaW0geyAvKiBmb3IgaG9yaXpvbnRhbCBzY3JvbGxiYXIgKi9cbiAgICBoZWlnaHQ6IDFweDsgLyogbmVlZHMgaGVpZ2h0IHRvIGNyZWF0ZSBzY3JvbGxiYXJzICovXG4gICAgbWFyZ2luLWJvdHRvbTogLTFweDtcbiAgfVxuLmZjLXN0aWNreSB7IC8qIG5vIC5mYyB3cmFwIGJlY2F1c2UgdXNlZCBhcyBjaGlsZCBvZiBib2R5ICovXG4gIHBvc2l0aW9uOiBzdGlja3k7XG59XG4uZmMgLmZjLXZpZXctaGFybmVzcyB7XG4gICAgZmxleC1ncm93OiAxOyAvKiBiZWNhdXNlIHRoaXMgaGFybmVzcyBpcyBXSVRISU4gdGhlIC5mYydzIGZsZXhib3ggKi9cbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cbi5mYyB7XG5cbiAgLyogd2hlbiB0aGUgaGFybmVzcyBjb250cm9scyB0aGUgaGVpZ2h0LCBtYWtlIHRoZSB2aWV3IGxpcXVpZCAqL1xuXG59XG4uZmMgLmZjLXZpZXctaGFybmVzcy1hY3RpdmUgPiAuZmMtdmlldyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgfVxuLmZjIC5mYy1jb2wtaGVhZGVyLWNlbGwtY3VzaGlvbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyAvKiB4LWJyb3dzZXIgZm9yIHdoZW4gc3RpY2t5ICh3aGVuIG11bHRpLXRpZXIgaGVhZGVyKSAqL1xuICAgIHBhZGRpbmc6IDJweCA0cHg7XG4gIH1cbi5mYyAuZmMtYmctZXZlbnQsXG4gIC5mYyAuZmMtbm9uLWJ1c2luZXNzLFxuICAuZmMgLmZjLWhpZ2hsaWdodCB7XG4gICAgLyogd2lsbCBhbHdheXMgaGF2ZSBhIGhhcm5lc3Mgd2l0aCBwb3NpdGlvbjpyZWxhdGl2ZS9hYnNvbHV0ZSwgc28gYWJzb2x1dGVseSBleHBhbmQgKi9cbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICB9XG4uZmMgLmZjLW5vbi1idXNpbmVzcyB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyMTUsIDIxNSwgMjE1LCAwLjMpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLW5vbi1idXNpbmVzcy1jb2xvciwgcmdiYSgyMTUsIDIxNSwgMjE1LCAwLjMpKTtcbiAgfVxuLmZjIC5mYy1iZy1ldmVudCB7XG4gICAgYmFja2dyb3VuZDogcmdiKDE0MywgMjIzLCAxMzApO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLWJnLWV2ZW50LWNvbG9yLCByZ2IoMTQzLCAyMjMsIDEzMCkpO1xuICAgIG9wYWNpdHk6IDAuMztcbiAgICBvcGFjaXR5OiB2YXIoLS1mYy1iZy1ldmVudC1vcGFjaXR5LCAwLjMpXG4gIH1cbi5mYyAuZmMtYmctZXZlbnQgLmZjLWV2ZW50LXRpdGxlIHtcbiAgICAgIG1hcmdpbjogLjVlbTtcbiAgICAgIGZvbnQtc2l6ZTogLjg1ZW07XG4gICAgICBmb250LXNpemU6IHZhcigtLWZjLXNtYWxsLWZvbnQtc2l6ZSwgLjg1ZW0pO1xuICAgICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgIH1cbi5mYyAuZmMtaGlnaGxpZ2h0IHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDE4OCwgMjMyLCAyNDEsIDAuMyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtaGlnaGxpZ2h0LWNvbG9yLCByZ2JhKDE4OCwgMjMyLCAyNDEsIDAuMykpO1xuICB9XG4uZmMgLmZjLWNlbGwtc2hhZGVkLFxuICAuZmMgLmZjLWRheS1kaXNhYmxlZCB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyMDgsIDIwOCwgMjA4LCAwLjMpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLW5ldXRyYWwtYmctY29sb3IsIHJnYmEoMjA4LCAyMDgsIDIwOCwgMC4zKSk7XG4gIH1cbi8qIGxpbmsgcmVzZXRzICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5hLmZjLWV2ZW50LFxuYS5mYy1ldmVudDpob3ZlciB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cbi8qIGN1cnNvciAqL1xuLmZjLWV2ZW50W2hyZWZdLFxuLmZjLWV2ZW50LmZjLWV2ZW50LWRyYWdnYWJsZSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbi8qIGV2ZW50IHRleHQgY29udGVudCAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLmZjLWV2ZW50IC5mYy1ldmVudC1tYWluIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMjtcbiAgfVxuLyogZHJhZ2dpbmcgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi5mYy1ldmVudC1kcmFnZ2luZzpub3QoLmZjLWV2ZW50LXNlbGVjdGVkKSB7IC8qIE1PVVNFICovXG4gICAgb3BhY2l0eTogMC43NTtcbiAgfVxuLmZjLWV2ZW50LWRyYWdnaW5nLmZjLWV2ZW50LXNlbGVjdGVkIHsgLyogVE9VQ0ggKi9cbiAgICBib3gtc2hhZG93OiAwIDJweCA3cHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICB9XG4vKiByZXNpemluZyAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogKHN1YmNsYXNzZXMgc2hvdWxkIGhvbmUgcG9zaXRpb25pbmcgZm9yIHRvdWNoIGFuZCBub24tdG91Y2gpICovXG4uZmMtZXZlbnQgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDQ7XG4gIH1cbi5mYy1ldmVudDpob3ZlciwgLyogTU9VU0UgKi9cbi5mYy1ldmVudC1zZWxlY3RlZCB7IC8qIFRPVUNIICovXG5cbn1cbi5mYy1ldmVudDpob3ZlciAuZmMtZXZlbnQtcmVzaXplciwgLmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuLmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyIHtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYm9yZGVyLXJhZGl1czogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIDIpO1xuICAgIGJvcmRlci13aWR0aDogMXB4O1xuICAgIGJvcmRlci13aWR0aDogdmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtYm9yZGVyLXdpZHRoLCAxcHgpO1xuICAgIHdpZHRoOiA4cHg7XG4gICAgd2lkdGg6IHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItZG90LXRvdGFsLXdpZHRoLCA4cHgpO1xuICAgIGhlaWdodDogOHB4O1xuICAgIGhlaWdodDogdmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCk7XG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICBib3JkZXItY29sb3I6IGluaGVyaXQ7XG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mYy1wYWdlLWJnLWNvbG9yLCAjZmZmKVxuXG4gICAgLyogZXhwYW5kIGhpdCBhcmVhICovXG5cbiAgfVxuLmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyOmJlZm9yZSB7XG4gICAgICBjb250ZW50OiAnJztcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogLTIwcHg7XG4gICAgICBsZWZ0OiAtMjBweDtcbiAgICAgIHJpZ2h0OiAtMjBweDtcbiAgICAgIGJvdHRvbTogLTIwcHg7XG4gICAgfVxuLyogc2VsZWN0aW5nIChhbHdheXMgVE9VQ0gpICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4uZmMtZXZlbnQtc2VsZWN0ZWQge1xuICBib3gtc2hhZG93OiAwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpXG5cbiAgLyogZXhwYW5kIGhpdCBhcmVhIChzdWJjbGFzc2VzIHNob3VsZCBleHBhbmQpICovXG5cbn1cbi5mYy1ldmVudC1zZWxlY3RlZDpiZWZvcmUge1xuICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDM7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICB9XG4uZmMtZXZlbnQtc2VsZWN0ZWQge1xuXG4gIC8qIGRpbW1lciBlZmZlY3QgKi9cblxufVxuLmZjLWV2ZW50LXNlbGVjdGVkOmFmdGVyIHtcbiAgICBjb250ZW50OiBcIlwiO1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtZXZlbnQtc2VsZWN0ZWQtb3ZlcmxheS1jb2xvciwgcmdiYSgwLCAwLCAwLCAwLjI1KSk7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDE7XG5cbiAgICAvKiBhc3N1bWUgdGhlcmUncyBhIGJvcmRlciBvbiBhbGwgc2lkZXMuIG92ZXJjb21lIGl0LiAqL1xuICAgIC8qIHNvbWV0aW1lcyB0aGVyZSdzIE5PVCBhIGJvcmRlciwgaW4gd2hpY2ggY2FzZSB0aGUgZGltbWVyIHdpbGwgZ28gb3ZlciAqL1xuICAgIC8qIGFuIGFkamFjZW50IGJvcmRlciwgd2hpY2ggbG9va3MgZmluZS4gKi9cbiAgICB0b3A6IC0xcHg7XG4gICAgbGVmdDogLTFweDtcbiAgICByaWdodDogLTFweDtcbiAgICBib3R0b206IC0xcHg7XG4gIH1cbi8qXG5BIEhPUklaT05UQUwgZXZlbnRcbiovXG4uZmMtaC1ldmVudCB7IC8qIGFsbG93ZWQgdG8gYmUgdG9wLWxldmVsICovXG4gIGRpc3BsYXk6IGJsb2NrO1xuICBib3JkZXI6IDFweCBzb2xpZCAjMzc4OGQ4O1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1mYy1ldmVudC1ib3JkZXItY29sb3IsICMzNzg4ZDgpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzc4OGQ4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1ldmVudC1iZy1jb2xvciwgIzM3ODhkOClcblxufVxuLmZjLWgtZXZlbnQgLmZjLWV2ZW50LW1haW4ge1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiB2YXIoLS1mYy1ldmVudC10ZXh0LWNvbG9yLCAjZmZmKTtcbiAgfVxuLmZjLWgtZXZlbnQgLmZjLWV2ZW50LW1haW4tZnJhbWUge1xuICAgIGRpc3BsYXk6IGZsZXg7IC8qIGZvciBtYWtlIGZjLWV2ZW50LXRpdGxlLWNvbnRhaW5lciBleHBhbmQgKi9cbiAgfVxuLmZjLWgtZXZlbnQgLmZjLWV2ZW50LXRpbWUge1xuICAgIG1heC13aWR0aDogMTAwJTsgLyogY2xpcCBvdmVyZmxvdyBvbiB0aGlzIGVsZW1lbnQgKi9cbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG4uZmMtaC1ldmVudCAuZmMtZXZlbnQtdGl0bGUtY29udGFpbmVyIHsgLyogc2VydmVzIGFzIGEgY29udGFpbmVyIGZvciB0aGUgc3RpY2t5IGN1c2hpb24gKi9cbiAgICBmbGV4LWdyb3c6IDE7XG4gICAgZmxleC1zaHJpbms6IDE7XG4gICAgbWluLXdpZHRoOiAwOyAvKiBpbXBvcnRhbnQgZm9yIGFsbG93aW5nIHRvIHNocmluayBhbGwgdGhlIHdheSAqL1xuICB9XG4uZmMtaC1ldmVudCAuZmMtZXZlbnQtdGl0bGUge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsgLyogbmVlZCB0aGlzIHRvIGJlIHN0aWNreSBjcm9zcy1icm93c2VyICovXG4gICAgdmVydGljYWwtYWxpZ246IHRvcDsgLyogZm9yIG5vdCBtZXNzaW5nIHVwIGxpbmUtaGVpZ2h0ICovXG4gICAgbGVmdDogMDsgIC8qIGZvciBzdGlja3kgKi9cbiAgICByaWdodDogMDsgLyogZm9yIHN0aWNreSAqL1xuICAgIG1heC13aWR0aDogMTAwJTsgLyogY2xpcCBvdmVyZmxvdyBvbiB0aGlzIGVsZW1lbnQgKi9cbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG4uZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZDpiZWZvcmUge1xuICAgIC8qIGV4cGFuZCBoaXQgYXJlYSAqL1xuICAgIHRvcDogLTEwcHg7XG4gICAgYm90dG9tOiAtMTBweDtcbiAgfVxuLyogYWRqdXN0IGJvcmRlciBhbmQgYm9yZGVyLXJhZGl1cyAoaWYgdGhlcmUgaXMgYW55KSBmb3Igbm9uLXN0YXJ0L2VuZCAqL1xuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWRheWdyaWQtYmxvY2stZXZlbnQ6bm90KC5mYy1ldmVudC1zdGFydCksXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtZGF5Z3JpZC1ibG9jay1ldmVudDpub3QoLmZjLWV2ZW50LWVuZCkge1xuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwO1xuICBib3JkZXItbGVmdC13aWR0aDogMDtcbn1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1kYXlncmlkLWJsb2NrLWV2ZW50Om5vdCguZmMtZXZlbnQtZW5kKSxcbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1kYXlncmlkLWJsb2NrLWV2ZW50Om5vdCguZmMtZXZlbnQtc3RhcnQpIHtcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwO1xuICBib3JkZXItcmlnaHQtd2lkdGg6IDA7XG59XG4vKiByZXNpemVycyAqL1xuLmZjLWgtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICB0b3A6IDA7XG4gIGJvdHRvbTogMDtcbiAgd2lkdGg6IDhweDtcbiAgd2lkdGg6IHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItdGhpY2tuZXNzLCA4cHgpO1xufVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWgtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItc3RhcnQsXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtaC1ldmVudDpub3QoLmZjLWV2ZW50LXNlbGVjdGVkKSAuZmMtZXZlbnQtcmVzaXplci1lbmQge1xuICBjdXJzb3I6IHctcmVzaXplO1xuICBsZWZ0OiAtNHB4O1xuICBsZWZ0OiBjYWxjKHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItdGhpY2tuZXNzLCA4cHgpIC8gLTIpO1xufVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWgtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItZW5kLFxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWgtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItc3RhcnQge1xuICBjdXJzb3I6IGUtcmVzaXplO1xuICByaWdodDogLTRweDtcbiAgcmlnaHQ6IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci10aGlja25lc3MsIDhweCkgLyAtMik7XG59XG4vKiByZXNpemVycyBmb3IgVE9VQ0ggKi9cbi5mYy1oLWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyIHtcbiAgdG9wOiA1MCU7XG4gIG1hcmdpbi10b3A6IC00cHg7XG4gIG1hcmdpbi10b3A6IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCkgLyAtMik7XG59XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplci1zdGFydCxcbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1oLWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyLWVuZCB7XG4gIGxlZnQ6IC00cHg7XG4gIGxlZnQ6IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCkgLyAtMik7XG59XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplci1lbmQsXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplci1zdGFydCB7XG4gIHJpZ2h0OiAtNHB4O1xuICByaWdodDogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIC0yKTtcbn1cbi5mYyAuZmMtcG9wb3ZlciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDk5OTk7XG4gICAgYm94LXNoYWRvdzogMCAycHggNnB4IHJnYmEoMCwwLDAsLjE1KTtcbiAgfVxuLmZjIC5mYy1wb3BvdmVyLWhlYWRlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHBhZGRpbmc6IDNweCA0cHg7XG4gIH1cbi5mYyAuZmMtcG9wb3Zlci10aXRsZSB7XG4gICAgbWFyZ2luOiAwIDJweDtcbiAgfVxuLmZjIC5mYy1wb3BvdmVyLWNsb3NlIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgb3BhY2l0eTogMC42NTtcbiAgICBmb250LXNpemU6IDEuMWVtO1xuICB9XG4uZmMtdGhlbWUtc3RhbmRhcmQgLmZjLXBvcG92ZXIge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZmMtYm9yZGVyLWNvbG9yLCAjZGRkKTtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLXBhZ2UtYmctY29sb3IsICNmZmYpO1xuICB9XG4uZmMtdGhlbWUtc3RhbmRhcmQgLmZjLXBvcG92ZXItaGVhZGVyIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIwOCwgMjA4LCAyMDgsIDAuMyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtbmV1dHJhbC1iZy1jb2xvciwgcmdiYSgyMDgsIDIwOCwgMjA4LCAwLjMpKTtcbiAgfVxuIl19 */\";","export default \"\\n:root {\\n  --fc-daygrid-event-dot-width: 8px;\\n}\\n/* help things clear margins of inner content */\\n.fc-daygrid-day-frame,\\n.fc-daygrid-day-events,\\n.fc-daygrid-event-harness { /* for event top/bottom margins */\\n}\\n.fc-daygrid-day-frame:before, .fc-daygrid-day-events:before, .fc-daygrid-event-harness:before {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc-daygrid-day-frame:after, .fc-daygrid-day-events:after, .fc-daygrid-event-harness:after {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc .fc-daygrid-body { /* a <div> that wraps the table */\\n    position: relative;\\n    z-index: 1; /* container inner z-index's because <tr>s can't do it */\\n  }\\n.fc .fc-daygrid-day.fc-day-today {\\n      background-color: rgba(255, 220, 40, 0.15);\\n      background-color: rgba(255, 220, 40, 0.15);\\n      background-color: var(--fc-today-bg-color, rgba(255, 220, 40, 0.15));\\n    }\\n.fc .fc-daygrid-day-frame {\\n    position: relative;\\n    min-height: 100%; /* seems to work better than `height` because sets height after rows/cells naturally do it */\\n  }\\n.fc {\\n\\n  /* cell top */\\n\\n}\\n.fc .fc-daygrid-day-top {\\n    display: flex;\\n    flex-direction: row-reverse;\\n  }\\n.fc .fc-day-other .fc-daygrid-day-top {\\n    opacity: 0.3;\\n  }\\n.fc {\\n\\n  /* day number (within cell top) */\\n\\n}\\n.fc .fc-daygrid-day-number {\\n    position: relative;\\n    z-index: 4;\\n    padding: 4px;\\n  }\\n.fc {\\n\\n  /* event container */\\n\\n}\\n.fc .fc-daygrid-day-events {\\n    margin-top: 1px; /* needs to be margin, not padding, so that available cell height can be computed */\\n  }\\n.fc {\\n\\n  /* positioning for balanced vs natural */\\n\\n}\\n.fc .fc-daygrid-body-balanced .fc-daygrid-day-events {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n    }\\n.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events {\\n      position: relative; /* for containing abs positioned event harnesses */\\n      min-height: 2em; /* in addition to being a min-height during natural height, equalizes the heights a little bit */\\n    }\\n.fc .fc-daygrid-body-natural { /* can coexist with -unbalanced */\\n  }\\n.fc .fc-daygrid-body-natural .fc-daygrid-day-events {\\n      margin-bottom: 1em;\\n    }\\n.fc {\\n\\n  /* event harness */\\n\\n}\\n.fc .fc-daygrid-event-harness {\\n    position: relative;\\n  }\\n.fc .fc-daygrid-event-harness-abs {\\n    position: absolute;\\n    top: 0; /* fallback coords for when cannot yet be computed */\\n    left: 0; /* */\\n    right: 0; /* */\\n  }\\n.fc .fc-daygrid-bg-harness {\\n    position: absolute;\\n    top: 0;\\n    bottom: 0;\\n  }\\n.fc {\\n\\n  /* bg content */\\n\\n}\\n.fc .fc-daygrid-day-bg .fc-non-business { z-index: 1 }\\n.fc .fc-daygrid-day-bg .fc-bg-event { z-index: 2 }\\n.fc .fc-daygrid-day-bg .fc-highlight { z-index: 3 }\\n.fc {\\n\\n  /* events */\\n\\n}\\n.fc .fc-daygrid-event {\\n    z-index: 6;\\n    margin-top: 1px;\\n  }\\n.fc .fc-daygrid-event.fc-event-mirror {\\n    z-index: 7;\\n  }\\n.fc {\\n\\n  /* cell bottom (within day-events) */\\n\\n}\\n.fc .fc-daygrid-day-bottom {\\n    font-size: .85em;\\n    padding: 2px 3px 0\\n  }\\n.fc .fc-daygrid-day-bottom:before {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc .fc-daygrid-more-link {\\n    position: relative;\\n    z-index: 4;\\n    cursor: pointer;\\n  }\\n.fc {\\n\\n  /* week number (within frame) */\\n\\n}\\n.fc .fc-daygrid-week-number {\\n    position: absolute;\\n    z-index: 5;\\n    top: 0;\\n    padding: 2px;\\n    min-width: 1.5em;\\n    text-align: center;\\n    background-color: rgba(208, 208, 208, 0.3);\\n    background-color: rgba(208, 208, 208, 0.3);\\n    background-color: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n    color: #808080;\\n    color: #808080;\\n    color: var(--fc-neutral-text-color, #808080);\\n  }\\n.fc {\\n\\n  /* popover */\\n\\n}\\n.fc .fc-more-popover .fc-popover-body {\\n    min-width: 220px;\\n    padding: 10px;\\n  }\\n.fc-direction-ltr .fc-daygrid-event.fc-event-start,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-end {\\n  margin-left: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-event.fc-event-end,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-start {\\n  margin-right: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-week-number {\\n    left: 0;\\n    border-radius: 0 0 3px 0;\\n  }\\n.fc-direction-rtl .fc-daygrid-week-number {\\n    right: 0;\\n    border-radius: 0 0 0 3px;\\n  }\\n.fc-liquid-hack .fc-daygrid-day-frame {\\n    position: static; /* will cause inner absolute stuff to expand to <td> */\\n  }\\n.fc-daygrid-event { /* make root-level, because will be dragged-and-dropped outside of a component root */\\n  position: relative; /* for z-indexes assigned later */\\n  white-space: nowrap;\\n  border-radius: 3px; /* dot event needs this to when selected */\\n  font-size: .85em;\\n  font-size: .85em;\\n  font-size: var(--fc-small-font-size, .85em);\\n}\\n/* --- the rectangle (\\\"block\\\") style of event --- */\\n.fc-daygrid-block-event .fc-event-time {\\n    font-weight: bold;\\n  }\\n.fc-daygrid-block-event .fc-event-time,\\n  .fc-daygrid-block-event .fc-event-title {\\n    padding: 1px;\\n  }\\n/* --- the dot style of event --- */\\n.fc-daygrid-dot-event {\\n  display: flex;\\n  align-items: center;\\n  padding: 2px 0\\n\\n}\\n.fc-daygrid-dot-event .fc-event-title {\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n    overflow: hidden;\\n    font-weight: bold;\\n  }\\n.fc-daygrid-dot-event:hover,\\n  .fc-daygrid-dot-event.fc-event-mirror {\\n    background: rgba(0, 0, 0, 0.1);\\n  }\\n.fc-daygrid-dot-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n.fc-daygrid-event-dot { /* the actual dot */\\n  margin: 0 4px;\\n  box-sizing: content-box;\\n  width: 0;\\n  height: 0;\\n  border: 4px solid #3788d8;\\n  border: calc(8px / 2) solid #3788d8;\\n  border: calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color, #3788d8);\\n  border-radius: 4px;\\n  border-radius: calc(8px / 2);\\n  border-radius: calc(var(--fc-daygrid-event-dot-width, 8px) / 2);\\n}\\n/* --- spacing between time and title --- */\\n.fc-direction-ltr .fc-daygrid-event .fc-event-time {\\n    margin-right: 3px;\\n  }\\n.fc-direction-rtl .fc-daygrid-event .fc-event-time {\\n    margin-left: 3px;\\n  }\\n\\n/*# sourceMappingURL=data:application/json;base64,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YixtQkFBbUI7RUFDbkI7O0FBRUY7QUFDQTtJQUNJLFlBQVk7SUFDWixjQUFjO0lBQ2QsWUFBWSxFQUFFLGlEQUFpRDtJQUMvRCxnQkFBZ0I7SUFDaEIsaUJBQWlCO0VBQ25CO0FBQ0Y7O0lBRUksOEJBQThCO0VBQ2hDO0FBQ0Y7SUFDSSxvQkFBb0I7SUFDcEIsVUFBVTtJQUNWLGFBQWE7RUFDZjtBQUNGLHdCQUF3QixtQkFBbUI7RUFDekMsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixRQUFRO0VBQ1IsU0FBUztFQUNULHlCQUF5QjtFQUN6QixtQ0FBb0c7RUFBcEcsb0dBQW9HO0VBQ3BHLGtCQUFrQjtFQUNsQiw0QkFBK0Q7RUFBL0QsK0RBQStEO0FBQ2pFO0FBQ0EsMkNBQTJDO0FBQzNDO0lBQ0ksaUJBQWlCO0VBQ25CO0FBQ0Y7SUFDSSxnQkFBZ0I7RUFDbEIiLCJmaWxlIjoibWFpbi5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbjpyb290IHtcbiAgLS1mYy1kYXlncmlkLWV2ZW50LWRvdC13aWR0aDogOHB4O1xufVxuLyogaGVscCB0aGluZ3MgY2xlYXIgbWFyZ2lucyBvZiBpbm5lciBjb250ZW50ICovXG4uZmMtZGF5Z3JpZC1kYXktZnJhbWUsXG4uZmMtZGF5Z3JpZC1kYXktZXZlbnRzLFxuLmZjLWRheWdyaWQtZXZlbnQtaGFybmVzcyB7IC8qIGZvciBldmVudCB0b3AvYm90dG9tIG1hcmdpbnMgKi9cbn1cbi5mYy1kYXlncmlkLWRheS1mcmFtZTpiZWZvcmUsIC5mYy1kYXlncmlkLWRheS1ldmVudHM6YmVmb3JlLCAuZmMtZGF5Z3JpZC1ldmVudC1oYXJuZXNzOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIGNsZWFyOiBib3RoO1xuICBkaXNwbGF5OiB0YWJsZTsgfVxuLmZjLWRheWdyaWQtZGF5LWZyYW1lOmFmdGVyLCAuZmMtZGF5Z3JpZC1kYXktZXZlbnRzOmFmdGVyLCAuZmMtZGF5Z3JpZC1ldmVudC1oYXJuZXNzOmFmdGVyIHtcbiAgY29udGVudDogXCJcIjtcbiAgY2xlYXI6IGJvdGg7XG4gIGRpc3BsYXk6IHRhYmxlOyB9XG4uZmMgLmZjLWRheWdyaWQtYm9keSB7IC8qIGEgPGRpdj4gdGhhdCB3cmFwcyB0aGUgdGFibGUgKi9cbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMTsgLyogY29udGFpbmVyIGlubmVyIHotaW5kZXgncyBiZWNhdXNlIDx0cj5zIGNhbid0IGRvIGl0ICovXG4gIH1cbi5mYyAuZmMtZGF5Z3JpZC1kYXkuZmMtZGF5LXRvZGF5IHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyMjAsIDQwLCAwLjE1KTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWZjLXRvZGF5LWJnLWNvbG9yLCByZ2JhKDI1NSwgMjIwLCA0MCwgMC4xNSkpO1xuICAgIH1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktZnJhbWUge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBtaW4taGVpZ2h0OiAxMDAlOyAvKiBzZWVtcyB0byB3b3JrIGJldHRlciB0aGFuIGBoZWlnaHRgIGJlY2F1c2Ugc2V0cyBoZWlnaHQgYWZ0ZXIgcm93cy9jZWxscyBuYXR1cmFsbHkgZG8gaXQgKi9cbiAgfVxuLmZjIHtcblxuICAvKiBjZWxsIHRvcCAqL1xuXG59XG4uZmMgLmZjLWRheWdyaWQtZGF5LXRvcCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XG4gIH1cbi5mYyAuZmMtZGF5LW90aGVyIC5mYy1kYXlncmlkLWRheS10b3Age1xuICAgIG9wYWNpdHk6IDAuMztcbiAgfVxuLmZjIHtcblxuICAvKiBkYXkgbnVtYmVyICh3aXRoaW4gY2VsbCB0b3ApICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktbnVtYmVyIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogNDtcbiAgICBwYWRkaW5nOiA0cHg7XG4gIH1cbi5mYyB7XG5cbiAgLyogZXZlbnQgY29udGFpbmVyICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktZXZlbnRzIHtcbiAgICBtYXJnaW4tdG9wOiAxcHg7IC8qIG5lZWRzIHRvIGJlIG1hcmdpbiwgbm90IHBhZGRpbmcsIHNvIHRoYXQgYXZhaWxhYmxlIGNlbGwgaGVpZ2h0IGNhbiBiZSBjb21wdXRlZCAqL1xuICB9XG4uZmMge1xuXG4gIC8qIHBvc2l0aW9uaW5nIGZvciBiYWxhbmNlZCB2cyBuYXR1cmFsICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1ib2R5LWJhbGFuY2VkIC5mYy1kYXlncmlkLWRheS1ldmVudHMge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgIH1cbi5mYyAuZmMtZGF5Z3JpZC1ib2R5LXVuYmFsYW5jZWQgLmZjLWRheWdyaWQtZGF5LWV2ZW50cyB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7IC8qIGZvciBjb250YWluaW5nIGFicyBwb3NpdGlvbmVkIGV2ZW50IGhhcm5lc3NlcyAqL1xuICAgICAgbWluLWhlaWdodDogMmVtOyAvKiBpbiBhZGRpdGlvbiB0byBiZWluZyBhIG1pbi1oZWlnaHQgZHVyaW5nIG5hdHVyYWwgaGVpZ2h0LCBlcXVhbGl6ZXMgdGhlIGhlaWdodHMgYSBsaXR0bGUgYml0ICovXG4gICAgfVxuLmZjIC5mYy1kYXlncmlkLWJvZHktbmF0dXJhbCB7IC8qIGNhbiBjb2V4aXN0IHdpdGggLXVuYmFsYW5jZWQgKi9cbiAgfVxuLmZjIC5mYy1kYXlncmlkLWJvZHktbmF0dXJhbCAuZmMtZGF5Z3JpZC1kYXktZXZlbnRzIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgICB9XG4uZmMge1xuXG4gIC8qIGV2ZW50IGhhcm5lc3MgKi9cblxufVxuLmZjIC5mYy1kYXlncmlkLWV2ZW50LWhhcm5lc3Mge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuLmZjIC5mYy1kYXlncmlkLWV2ZW50LWhhcm5lc3MtYWJzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwOyAvKiBmYWxsYmFjayBjb29yZHMgZm9yIHdoZW4gY2Fubm90IHlldCBiZSBjb21wdXRlZCAqL1xuICAgIGxlZnQ6IDA7IC8qICovXG4gICAgcmlnaHQ6IDA7IC8qICovXG4gIH1cbi5mYyAuZmMtZGF5Z3JpZC1iZy1oYXJuZXNzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGJvdHRvbTogMDtcbiAgfVxuLmZjIHtcblxuICAvKiBiZyBjb250ZW50ICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktYmcgLmZjLW5vbi1idXNpbmVzcyB7IHotaW5kZXg6IDEgfVxuLmZjIC5mYy1kYXlncmlkLWRheS1iZyAuZmMtYmctZXZlbnQgeyB6LWluZGV4OiAyIH1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktYmcgLmZjLWhpZ2hsaWdodCB7IHotaW5kZXg6IDMgfVxuLmZjIHtcblxuICAvKiBldmVudHMgKi9cblxufVxuLmZjIC5mYy1kYXlncmlkLWV2ZW50IHtcbiAgICB6LWluZGV4OiA2O1xuICAgIG1hcmdpbi10b3A6IDFweDtcbiAgfVxuLmZjIC5mYy1kYXlncmlkLWV2ZW50LmZjLWV2ZW50LW1pcnJvciB7XG4gICAgei1pbmRleDogNztcbiAgfVxuLmZjIHtcblxuICAvKiBjZWxsIGJvdHRvbSAod2l0aGluIGRheS1ldmVudHMpICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktYm90dG9tIHtcbiAgICBmb250LXNpemU6IC44NWVtO1xuICAgIHBhZGRpbmc6IDJweCAzcHggMFxuICB9XG4uZmMgLmZjLWRheWdyaWQtZGF5LWJvdHRvbTpiZWZvcmUge1xuICBjb250ZW50OiBcIlwiO1xuICBjbGVhcjogYm90aDtcbiAgZGlzcGxheTogdGFibGU7IH1cbi5mYyAuZmMtZGF5Z3JpZC1tb3JlLWxpbmsge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB6LWluZGV4OiA0O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuLmZjIHtcblxuICAvKiB3ZWVrIG51bWJlciAod2l0aGluIGZyYW1lKSAqL1xuXG59XG4uZmMgLmZjLWRheWdyaWQtd2Vlay1udW1iZXIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB6LWluZGV4OiA1O1xuICAgIHRvcDogMDtcbiAgICBwYWRkaW5nOiAycHg7XG4gICAgbWluLXdpZHRoOiAxLjVlbTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMDgsIDIwOCwgMjA4LCAwLjMpO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWZjLW5ldXRyYWwtYmctY29sb3IsIHJnYmEoMjA4LCAyMDgsIDIwOCwgMC4zKSk7XG4gICAgY29sb3I6ICM4MDgwODA7XG4gICAgY29sb3I6IHZhcigtLWZjLW5ldXRyYWwtdGV4dC1jb2xvciwgIzgwODA4MCk7XG4gIH1cbi5mYyB7XG5cbiAgLyogcG9wb3ZlciAqL1xuXG59XG4uZmMgLmZjLW1vcmUtcG9wb3ZlciAuZmMtcG9wb3Zlci1ib2R5IHtcbiAgICBtaW4td2lkdGg6IDIyMHB4O1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gIH1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1kYXlncmlkLWV2ZW50LmZjLWV2ZW50LXN0YXJ0LFxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWRheWdyaWQtZXZlbnQuZmMtZXZlbnQtZW5kIHtcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbn1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1kYXlncmlkLWV2ZW50LmZjLWV2ZW50LWVuZCxcbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1kYXlncmlkLWV2ZW50LmZjLWV2ZW50LXN0YXJ0IHtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG59XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtZGF5Z3JpZC13ZWVrLW51bWJlciB7XG4gICAgbGVmdDogMDtcbiAgICBib3JkZXItcmFkaXVzOiAwIDAgM3B4IDA7XG4gIH1cbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1kYXlncmlkLXdlZWstbnVtYmVyIHtcbiAgICByaWdodDogMDtcbiAgICBib3JkZXItcmFkaXVzOiAwIDAgMCAzcHg7XG4gIH1cbi5mYy1saXF1aWQtaGFjayAuZmMtZGF5Z3JpZC1kYXktZnJhbWUge1xuICAgIHBvc2l0aW9uOiBzdGF0aWM7IC8qIHdpbGwgY2F1c2UgaW5uZXIgYWJzb2x1dGUgc3R1ZmYgdG8gZXhwYW5kIHRvIDx0ZD4gKi9cbiAgfVxuLmZjLWRheWdyaWQtZXZlbnQgeyAvKiBtYWtlIHJvb3QtbGV2ZWwsIGJlY2F1c2Ugd2lsbCBiZSBkcmFnZ2VkLWFuZC1kcm9wcGVkIG91dHNpZGUgb2YgYSBjb21wb25lbnQgcm9vdCAqL1xuICBwb3NpdGlvbjogcmVsYXRpdmU7IC8qIGZvciB6LWluZGV4ZXMgYXNzaWduZWQgbGF0ZXIgKi9cbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgYm9yZGVyLXJhZGl1czogM3B4OyAvKiBkb3QgZXZlbnQgbmVlZHMgdGhpcyB0byB3aGVuIHNlbGVjdGVkICovXG4gIGZvbnQtc2l6ZTogLjg1ZW07XG4gIGZvbnQtc2l6ZTogdmFyKC0tZmMtc21hbGwtZm9udC1zaXplLCAuODVlbSk7XG59XG4vKiAtLS0gdGhlIHJlY3RhbmdsZSAoXCJibG9ja1wiKSBzdHlsZSBvZiBldmVudCAtLS0gKi9cbi5mYy1kYXlncmlkLWJsb2NrLWV2ZW50IC5mYy1ldmVudC10aW1lIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuLmZjLWRheWdyaWQtYmxvY2stZXZlbnQgLmZjLWV2ZW50LXRpbWUsXG4gIC5mYy1kYXlncmlkLWJsb2NrLWV2ZW50IC5mYy1ldmVudC10aXRsZSB7XG4gICAgcGFkZGluZzogMXB4O1xuICB9XG4vKiAtLS0gdGhlIGRvdCBzdHlsZSBvZiBldmVudCAtLS0gKi9cbi5mYy1kYXlncmlkLWRvdC1ldmVudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDJweCAwXG5cbn1cbi5mYy1kYXlncmlkLWRvdC1ldmVudCAuZmMtZXZlbnQtdGl0bGUge1xuICAgIGZsZXgtZ3JvdzogMTtcbiAgICBmbGV4LXNocmluazogMTtcbiAgICBtaW4td2lkdGg6IDA7IC8qIGltcG9ydGFudCBmb3IgYWxsb3dpbmcgdG8gc2hyaW5rIGFsbCB0aGUgd2F5ICovXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuLmZjLWRheWdyaWQtZG90LWV2ZW50OmhvdmVyLFxuICAuZmMtZGF5Z3JpZC1kb3QtZXZlbnQuZmMtZXZlbnQtbWlycm9yIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIH1cbi5mYy1kYXlncmlkLWRvdC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZDpiZWZvcmUge1xuICAgIC8qIGV4cGFuZCBoaXQgYXJlYSAqL1xuICAgIHRvcDogLTEwcHg7XG4gICAgYm90dG9tOiAtMTBweDtcbiAgfVxuLmZjLWRheWdyaWQtZXZlbnQtZG90IHsgLyogdGhlIGFjdHVhbCBkb3QgKi9cbiAgbWFyZ2luOiAwIDRweDtcbiAgYm94LXNpemluZzogY29udGVudC1ib3g7XG4gIHdpZHRoOiAwO1xuICBoZWlnaHQ6IDA7XG4gIGJvcmRlcjogNHB4IHNvbGlkICMzNzg4ZDg7XG4gIGJvcmRlcjogY2FsYyh2YXIoLS1mYy1kYXlncmlkLWV2ZW50LWRvdC13aWR0aCwgOHB4KSAvIDIpIHNvbGlkIHZhcigtLWZjLWV2ZW50LWJvcmRlci1jb2xvciwgIzM3ODhkOCk7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYm9yZGVyLXJhZGl1czogY2FsYyh2YXIoLS1mYy1kYXlncmlkLWV2ZW50LWRvdC13aWR0aCwgOHB4KSAvIDIpO1xufVxuLyogLS0tIHNwYWNpbmcgYmV0d2VlbiB0aW1lIGFuZCB0aXRsZSAtLS0gKi9cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1kYXlncmlkLWV2ZW50IC5mYy1ldmVudC10aW1lIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDNweDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWRheWdyaWQtZXZlbnQgLmZjLWV2ZW50LXRpbWUge1xuICAgIG1hcmdpbi1sZWZ0OiAzcHg7XG4gIH1cbiJdfQ== */\";","export default \"\\n/*\\nA VERTICAL event\\n*/\\n\\n.fc-v-event { /* allowed to be top-level */\\n  display: block;\\n  border: 1px solid #3788d8;\\n  border: 1px solid #3788d8;\\n  border: 1px solid var(--fc-event-border-color, #3788d8);\\n  background-color: #3788d8;\\n  background-color: #3788d8;\\n  background-color: var(--fc-event-bg-color, #3788d8)\\n\\n}\\n\\n.fc-v-event .fc-event-main {\\n    color: #fff;\\n    color: #fff;\\n    color: var(--fc-event-text-color, #fff);\\n    height: 100%;\\n  }\\n\\n.fc-v-event .fc-event-main-frame {\\n    height: 100%;\\n    display: flex;\\n    flex-direction: column;\\n  }\\n\\n.fc-v-event .fc-event-time {\\n    flex-grow: 0;\\n    flex-shrink: 0;\\n    max-height: 100%;\\n    overflow: hidden;\\n  }\\n\\n.fc-v-event .fc-event-title-container { /* a container for the sticky cushion */\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-height: 0; /* important for allowing to shrink all the way */\\n  }\\n\\n.fc-v-event .fc-event-title { /* will have fc-sticky on it */\\n    top: 0;\\n    bottom: 0;\\n    max-height: 100%; /* clip overflow */\\n    overflow: hidden;\\n  }\\n\\n.fc-v-event:not(.fc-event-start) {\\n    border-top-width: 0;\\n    border-top-left-radius: 0;\\n    border-top-right-radius: 0;\\n  }\\n\\n.fc-v-event:not(.fc-event-end) {\\n    border-bottom-width: 0;\\n    border-bottom-left-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n\\n.fc-v-event.fc-event-selected:before {\\n    /* expand hit area */\\n    left: -10px;\\n    right: -10px;\\n  }\\n\\n.fc-v-event {\\n\\n  /* resizer (mouse AND touch) */\\n\\n}\\n\\n.fc-v-event .fc-event-resizer-start {\\n    cursor: n-resize;\\n  }\\n\\n.fc-v-event .fc-event-resizer-end {\\n    cursor: s-resize;\\n  }\\n\\n.fc-v-event {\\n\\n  /* resizer for MOUSE */\\n\\n}\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer {\\n      height: 8px;\\n      height: 8px;\\n      height: var(--fc-event-resizer-thickness, 8px);\\n      left: 0;\\n      right: 0;\\n    }\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start {\\n      top: -4px;\\n      top: calc(8px / -2);\\n      top: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n    }\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end {\\n      bottom: -4px;\\n      bottom: calc(8px / -2);\\n      bottom: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n    }\\n\\n.fc-v-event {\\n\\n  /* resizer for TOUCH (when event is \\\"selected\\\") */\\n\\n}\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer {\\n      left: 50%;\\n      margin-left: -4px;\\n      margin-left: calc(8px / -2);\\n      margin-left: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n    }\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer-start {\\n      top: -4px;\\n      top: calc(8px / -2);\\n      top: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n    }\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer-end {\\n      bottom: -4px;\\n      bottom: calc(8px / -2);\\n      bottom: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n    }\\n\\n.fc .fc-timegrid .fc-daygrid-body { /* the all-day daygrid within the timegrid view */\\n    z-index: 2; /* put above the timegrid-body so that more-popover is above everything. TODO: better solution */\\n  }\\n\\n.fc .fc-timegrid-divider {\\n    padding: 0 0 2px; /* browsers get confused when you set height. use padding instead */\\n  }\\n\\n.fc .fc-timegrid-body {\\n    position: relative;\\n    z-index: 1; /* scope the z-indexes of slots and cols */\\n    min-height: 100%; /* fill height always, even when slat table doesn't grow */\\n  }\\n\\n.fc .fc-timegrid-axis-chunk { /* for advanced ScrollGrid */\\n    position: relative /* offset parent for now-indicator-container */\\n\\n  }\\n\\n.fc .fc-timegrid-axis-chunk > table {\\n      position: relative;\\n      z-index: 1; /* above the now-indicator-container */\\n    }\\n\\n.fc .fc-timegrid-slots {\\n    position: relative;\\n    z-index: 1;\\n  }\\n\\n.fc .fc-timegrid-slot { /* a <td> */\\n    height: 1.5em;\\n    border-bottom: 0 /* each cell owns its top border */\\n  }\\n\\n.fc .fc-timegrid-slot:empty:before {\\n      content: '\\\\00a0'; /* make sure there's at least an empty space to create height for height syncing */\\n    }\\n\\n.fc .fc-timegrid-slot-minor {\\n    border-top-style: dotted;\\n  }\\n\\n.fc .fc-timegrid-slot-label-cushion {\\n    display: inline-block;\\n    white-space: nowrap;\\n  }\\n\\n.fc .fc-timegrid-slot-label {\\n    vertical-align: middle; /* vertical align the slots */\\n  }\\n\\n.fc {\\n\\n\\n  /* slots AND axis cells (top-left corner of view including the \\\"all-day\\\" text) */\\n\\n}\\n\\n.fc .fc-timegrid-axis-cushion,\\n  .fc .fc-timegrid-slot-label-cushion {\\n    padding: 0 4px;\\n  }\\n\\n.fc {\\n\\n\\n  /* axis cells (top-left corner of view including the \\\"all-day\\\" text) */\\n  /* vertical align is more complicated, uses flexbox */\\n\\n}\\n\\n.fc .fc-timegrid-axis-frame-liquid {\\n    height: 100%; /* will need liquid-hack in FF */\\n  }\\n\\n.fc .fc-timegrid-axis-frame {\\n    overflow: hidden;\\n    display: flex;\\n    align-items: center; /* vertical align */\\n    justify-content: flex-end; /* horizontal align. matches text-align below */\\n  }\\n\\n.fc .fc-timegrid-axis-cushion {\\n    max-width: 60px; /* limits the width of the \\\"all-day\\\" text */\\n    flex-shrink: 0; /* allows text to expand how it normally would, regardless of constrained width */\\n  }\\n\\n.fc-direction-ltr .fc-timegrid-slot-label-frame {\\n    text-align: right;\\n  }\\n\\n.fc-direction-rtl .fc-timegrid-slot-label-frame {\\n    text-align: left;\\n  }\\n\\n.fc-liquid-hack .fc-timegrid-axis-frame-liquid {\\n  height: auto;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  }\\n\\n.fc .fc-timegrid-col.fc-day-today {\\n      background-color: rgba(255, 220, 40, 0.15);\\n      background-color: rgba(255, 220, 40, 0.15);\\n      background-color: var(--fc-today-bg-color, rgba(255, 220, 40, 0.15));\\n    }\\n\\n.fc .fc-timegrid-col-frame {\\n    min-height: 100%; /* liquid-hack is below */\\n    position: relative;\\n  }\\n\\n.fc-liquid-hack .fc-timegrid-col-frame {\\n  height: auto;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  }\\n\\n.fc-media-screen .fc-timegrid-cols {\\n    position: absolute; /* no z-index. children will decide and go above slots */\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0\\n  }\\n\\n.fc-media-screen .fc-timegrid-cols > table {\\n      height: 100%;\\n    }\\n\\n.fc-media-screen .fc-timegrid-col-bg,\\n  .fc-media-screen .fc-timegrid-col-events,\\n  .fc-media-screen .fc-timegrid-now-indicator-container {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n  }\\n\\n.fc {\\n\\n  /* bg */\\n\\n}\\n\\n.fc .fc-timegrid-col-bg {\\n    z-index: 2; /* TODO: kill */\\n  }\\n\\n.fc .fc-timegrid-col-bg .fc-non-business { z-index: 1 }\\n\\n.fc .fc-timegrid-col-bg .fc-bg-event { z-index: 2 }\\n\\n.fc .fc-timegrid-col-bg .fc-highlight { z-index: 3 }\\n\\n.fc .fc-timegrid-bg-harness {\\n    position: absolute; /* top/bottom will be set by JS */\\n    left: 0;\\n    right: 0;\\n  }\\n\\n.fc {\\n\\n  /* fg events */\\n  /* (the mirror segs are put into a separate container with same classname, */\\n  /* and they must be after the normal seg container to appear at a higher z-index) */\\n\\n}\\n\\n.fc .fc-timegrid-col-events {\\n    z-index: 3;\\n    /* child event segs have z-indexes that are scoped within this div */\\n  }\\n\\n.fc {\\n\\n  /* now indicator */\\n\\n}\\n\\n.fc .fc-timegrid-now-indicator-container {\\n    bottom: 0;\\n    overflow: hidden; /* don't let overflow of lines/arrows cause unnecessary scrolling */\\n    /* z-index is set on the individual elements */\\n  }\\n\\n.fc-direction-ltr .fc-timegrid-col-events {\\n    margin: 0 2.5% 0 2px;\\n  }\\n\\n.fc-direction-rtl .fc-timegrid-col-events {\\n    margin: 0 2px 0 2.5%;\\n  }\\n\\n.fc-timegrid-event-harness {\\n  position: absolute /* top/left/right/bottom will all be set by JS */\\n}\\n\\n.fc-timegrid-event-harness > .fc-timegrid-event {\\n    position: absolute; /* absolute WITHIN the harness */\\n    top: 0; /* for when not yet positioned */\\n    bottom: 0; /* \\\" */\\n    left: 0;\\n    right: 0;\\n  }\\n\\n.fc-timegrid-event-harness-inset .fc-timegrid-event,\\n.fc-timegrid-event.fc-event-mirror,\\n.fc-timegrid-more-link {\\n  box-shadow: 0px 0px 0px 1px #fff;\\n  box-shadow: 0px 0px 0px 1px #fff;\\n  box-shadow: 0px 0px 0px 1px var(--fc-page-bg-color, #fff);\\n}\\n\\n.fc-timegrid-event,\\n.fc-timegrid-more-link { /* events need to be root */\\n  font-size: .85em;\\n  font-size: .85em;\\n  font-size: var(--fc-small-font-size, .85em);\\n  border-radius: 3px;\\n}\\n\\n.fc-timegrid-event { /* events need to be root */\\n  margin-bottom: 1px /* give some space from bottom */\\n}\\n\\n.fc-timegrid-event .fc-event-main {\\n    padding: 1px 1px 0;\\n  }\\n\\n.fc-timegrid-event .fc-event-time {\\n    white-space: nowrap;\\n    font-size: .85em;\\n    font-size: .85em;\\n    font-size: var(--fc-small-font-size, .85em);\\n    margin-bottom: 1px;\\n  }\\n\\n.fc-timegrid-event-short .fc-event-main-frame {\\n    flex-direction: row;\\n    overflow: hidden;\\n  }\\n\\n.fc-timegrid-event-short .fc-event-time:after {\\n    content: '\\\\00a0-\\\\00a0'; /* dash surrounded by non-breaking spaces */\\n  }\\n\\n.fc-timegrid-event-short .fc-event-title {\\n    font-size: .85em;\\n    font-size: .85em;\\n    font-size: var(--fc-small-font-size, .85em)\\n  }\\n\\n.fc-timegrid-more-link { /* does NOT inherit from fc-timegrid-event */\\n  position: absolute;\\n  z-index: 9999; /* hack */\\n  color: inherit;\\n  color: inherit;\\n  color: var(--fc-more-link-text-color, inherit);\\n  background: #d0d0d0;\\n  background: #d0d0d0;\\n  background: var(--fc-more-link-bg-color, #d0d0d0);\\n  cursor: pointer;\\n  margin-bottom: 1px; /* match space below fc-timegrid-event */\\n}\\n\\n.fc-timegrid-more-link-inner { /* has fc-sticky */\\n  padding: 3px 2px;\\n  top: 0;\\n}\\n\\n.fc-direction-ltr .fc-timegrid-more-link {\\n    right: 0;\\n  }\\n\\n.fc-direction-rtl .fc-timegrid-more-link {\\n    left: 0;\\n  }\\n\\n.fc {\\n\\n  /* line */\\n\\n}\\n\\n.fc .fc-timegrid-now-indicator-line {\\n    position: absolute;\\n    z-index: 4;\\n    left: 0;\\n    right: 0;\\n    border-style: solid;\\n    border-color: red;\\n    border-color: red;\\n    border-color: var(--fc-now-indicator-color, red);\\n    border-width: 1px 0 0;\\n  }\\n\\n.fc {\\n\\n  /* arrow */\\n\\n}\\n\\n.fc .fc-timegrid-now-indicator-arrow {\\n    position: absolute;\\n    z-index: 4;\\n    margin-top: -5px; /* vertically center on top coordinate */\\n    border-style: solid;\\n    border-color: red;\\n    border-color: red;\\n    border-color: var(--fc-now-indicator-color, red);\\n  }\\n\\n.fc-direction-ltr .fc-timegrid-now-indicator-arrow {\\n    left: 0;\\n\\n    /* triangle pointing right. TODO: mixin */\\n    border-width: 5px 0 5px 6px;\\n    border-top-color: transparent;\\n    border-bottom-color: transparent;\\n  }\\n\\n.fc-direction-rtl .fc-timegrid-now-indicator-arrow {\\n    right: 0;\\n\\n    /* triangle pointing left. TODO: mixin */\\n    border-width: 5px 6px 5px 0;\\n    border-top-color: transparent;\\n    border-bottom-color: transparent;\\n  }\\n\\n/*# sourceMappingURL=data:application/json;base64,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QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsZ0JBQWdCLEVBQUUsd0NBQXdDO0lBQzFELG1CQUFtQjtJQUNuQixpQkFBaUI7SUFDakIsaUJBQWdEO0lBQWhELGdEQUFnRDtFQUNsRDs7QUFDRjtJQUNJLE9BQU87O0lBRVAseUNBQXlDO0lBQ3pDLDJCQUEyQjtJQUMzQiw2QkFBNkI7SUFDN0IsZ0NBQWdDO0VBQ2xDOztBQUNGO0lBQ0ksUUFBUTs7SUFFUix3Q0FBd0M7SUFDeEMsMkJBQTJCO0lBQzNCLDZCQUE2QjtJQUM3QixnQ0FBZ0M7RUFDbEMiLCJmaWxlIjoibWFpbi5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qXG5BIFZFUlRJQ0FMIGV2ZW50XG4qL1xuXG4uZmMtdi1ldmVudCB7IC8qIGFsbG93ZWQgdG8gYmUgdG9wLWxldmVsICovXG4gIGRpc3BsYXk6IGJsb2NrO1xuICBib3JkZXI6IDFweCBzb2xpZCAjMzc4OGQ4O1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1mYy1ldmVudC1ib3JkZXItY29sb3IsICMzNzg4ZDgpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzc4OGQ4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1ldmVudC1iZy1jb2xvciwgIzM3ODhkOClcblxufVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtbWFpbiB7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgY29sb3I6IHZhcigtLWZjLWV2ZW50LXRleHQtY29sb3IsICNmZmYpO1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtbWFpbi1mcmFtZSB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgfVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtdGltZSB7XG4gICAgZmxleC1ncm93OiAwO1xuICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtdGl0bGUtY29udGFpbmVyIHsgLyogYSBjb250YWluZXIgZm9yIHRoZSBzdGlja3kgY3VzaGlvbiAqL1xuICAgIGZsZXgtZ3JvdzogMTtcbiAgICBmbGV4LXNocmluazogMTtcbiAgICBtaW4taGVpZ2h0OiAwOyAvKiBpbXBvcnRhbnQgZm9yIGFsbG93aW5nIHRvIHNocmluayBhbGwgdGhlIHdheSAqL1xuICB9XG5cbi5mYy12LWV2ZW50IC5mYy1ldmVudC10aXRsZSB7IC8qIHdpbGwgaGF2ZSBmYy1zdGlja3kgb24gaXQgKi9cbiAgICB0b3A6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7IC8qIGNsaXAgb3ZlcmZsb3cgKi9cbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG5cbi5mYy12LWV2ZW50Om5vdCguZmMtZXZlbnQtc3RhcnQpIHtcbiAgICBib3JkZXItdG9wLXdpZHRoOiAwO1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XG4gIH1cblxuLmZjLXYtZXZlbnQ6bm90KC5mYy1ldmVudC1lbmQpIHtcbiAgICBib3JkZXItYm90dG9tLXdpZHRoOiAwO1xuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7XG4gIH1cblxuLmZjLXYtZXZlbnQuZmMtZXZlbnQtc2VsZWN0ZWQ6YmVmb3JlIHtcbiAgICAvKiBleHBhbmQgaGl0IGFyZWEgKi9cbiAgICBsZWZ0OiAtMTBweDtcbiAgICByaWdodDogLTEwcHg7XG4gIH1cblxuLmZjLXYtZXZlbnQge1xuXG4gIC8qIHJlc2l6ZXIgKG1vdXNlIEFORCB0b3VjaCkgKi9cblxufVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtcmVzaXplci1zdGFydCB7XG4gICAgY3Vyc29yOiBuLXJlc2l6ZTtcbiAgfVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtcmVzaXplci1lbmQge1xuICAgIGN1cnNvcjogcy1yZXNpemU7XG4gIH1cblxuLmZjLXYtZXZlbnQge1xuXG4gIC8qIHJlc2l6ZXIgZm9yIE1PVVNFICovXG5cbn1cblxuLmZjLXYtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICAgICAgaGVpZ2h0OiA4cHg7XG4gICAgICBoZWlnaHQ6IHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItdGhpY2tuZXNzLCA4cHgpO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgIH1cblxuLmZjLXYtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItc3RhcnQge1xuICAgICAgdG9wOiAtNHB4O1xuICAgICAgdG9wOiBjYWxjKHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItdGhpY2tuZXNzLCA4cHgpIC8gLTIpO1xuICAgIH1cblxuLmZjLXYtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItZW5kIHtcbiAgICAgIGJvdHRvbTogLTRweDtcbiAgICAgIGJvdHRvbTogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLXRoaWNrbmVzcywgOHB4KSAvIC0yKTtcbiAgICB9XG5cbi5mYy12LWV2ZW50IHtcblxuICAvKiByZXNpemVyIGZvciBUT1VDSCAod2hlbiBldmVudCBpcyBcInNlbGVjdGVkXCIpICovXG5cbn1cblxuLmZjLXYtZXZlbnQuZmMtZXZlbnQtc2VsZWN0ZWQgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICAgICAgbGVmdDogNTAlO1xuICAgICAgbWFyZ2luLWxlZnQ6IC00cHg7XG4gICAgICBtYXJnaW4tbGVmdDogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIC0yKTtcbiAgICB9XG5cbi5mYy12LWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyLXN0YXJ0IHtcbiAgICAgIHRvcDogLTRweDtcbiAgICAgIHRvcDogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIC0yKTtcbiAgICB9XG5cbi5mYy12LWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyLWVuZCB7XG4gICAgICBib3R0b206IC00cHg7XG4gICAgICBib3R0b206IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCkgLyAtMik7XG4gICAgfVxuLmZjIC5mYy10aW1lZ3JpZCAuZmMtZGF5Z3JpZC1ib2R5IHsgLyogdGhlIGFsbC1kYXkgZGF5Z3JpZCB3aXRoaW4gdGhlIHRpbWVncmlkIHZpZXcgKi9cbiAgICB6LWluZGV4OiAyOyAvKiBwdXQgYWJvdmUgdGhlIHRpbWVncmlkLWJvZHkgc28gdGhhdCBtb3JlLXBvcG92ZXIgaXMgYWJvdmUgZXZlcnl0aGluZy4gVE9ETzogYmV0dGVyIHNvbHV0aW9uICovXG4gIH1cbi5mYyAuZmMtdGltZWdyaWQtZGl2aWRlciB7XG4gICAgcGFkZGluZzogMCAwIDJweDsgLyogYnJvd3NlcnMgZ2V0IGNvbmZ1c2VkIHdoZW4geW91IHNldCBoZWlnaHQuIHVzZSBwYWRkaW5nIGluc3RlYWQgKi9cbiAgfVxuLmZjIC5mYy10aW1lZ3JpZC1ib2R5IHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMTsgLyogc2NvcGUgdGhlIHotaW5kZXhlcyBvZiBzbG90cyBhbmQgY29scyAqL1xuICAgIG1pbi1oZWlnaHQ6IDEwMCU7IC8qIGZpbGwgaGVpZ2h0IGFsd2F5cywgZXZlbiB3aGVuIHNsYXQgdGFibGUgZG9lc24ndCBncm93ICovXG4gIH1cbi5mYyAuZmMtdGltZWdyaWQtYXhpcy1jaHVuayB7IC8qIGZvciBhZHZhbmNlZCBTY3JvbGxHcmlkICovXG4gICAgcG9zaXRpb246IHJlbGF0aXZlIC8qIG9mZnNldCBwYXJlbnQgZm9yIG5vdy1pbmRpY2F0b3ItY29udGFpbmVyICovXG5cbiAgfVxuLmZjIC5mYy10aW1lZ3JpZC1heGlzLWNodW5rID4gdGFibGUge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgei1pbmRleDogMTsgLyogYWJvdmUgdGhlIG5vdy1pbmRpY2F0b3ItY29udGFpbmVyICovXG4gICAgfVxuLmZjIC5mYy10aW1lZ3JpZC1zbG90cyB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDE7XG4gIH1cbi5mYyAuZmMtdGltZWdyaWQtc2xvdCB7IC8qIGEgPHRkPiAqL1xuICAgIGhlaWdodDogMS41ZW07XG4gICAgYm9yZGVyLWJvdHRvbTogMCAvKiBlYWNoIGNlbGwgb3ducyBpdHMgdG9wIGJvcmRlciAqL1xuICB9XG4uZmMgLmZjLXRpbWVncmlkLXNsb3Q6ZW1wdHk6YmVmb3JlIHtcbiAgICAgIGNvbnRlbnQ6ICdcXDAwYTAnOyAvKiBtYWtlIHN1cmUgdGhlcmUncyBhdCBsZWFzdCBhbiBlbXB0eSBzcGFjZSB0byBjcmVhdGUgaGVpZ2h0IGZvciBoZWlnaHQgc3luY2luZyAqL1xuICAgIH1cbi5mYyAuZmMtdGltZWdyaWQtc2xvdC1taW5vciB7XG4gICAgYm9yZGVyLXRvcC1zdHlsZTogZG90dGVkO1xuICB9XG4uZmMgLmZjLXRpbWVncmlkLXNsb3QtbGFiZWwtY3VzaGlvbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIH1cbi5mYyAuZmMtdGltZWdyaWQtc2xvdC1sYWJlbCB7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgLyogdmVydGljYWwgYWxpZ24gdGhlIHNsb3RzICovXG4gIH1cbi5mYyB7XG5cblxuICAvKiBzbG90cyBBTkQgYXhpcyBjZWxscyAodG9wLWxlZnQgY29ybmVyIG9mIHZpZXcgaW5jbHVkaW5nIHRoZSBcImFsbC1kYXlcIiB0ZXh0KSAqL1xuXG59XG4uZmMgLmZjLXRpbWVncmlkLWF4aXMtY3VzaGlvbixcbiAgLmZjIC5mYy10aW1lZ3JpZC1zbG90LWxhYmVsLWN1c2hpb24ge1xuICAgIHBhZGRpbmc6IDAgNHB4O1xuICB9XG4uZmMge1xuXG5cbiAgLyogYXhpcyBjZWxscyAodG9wLWxlZnQgY29ybmVyIG9mIHZpZXcgaW5jbHVkaW5nIHRoZSBcImFsbC1kYXlcIiB0ZXh0KSAqL1xuICAvKiB2ZXJ0aWNhbCBhbGlnbiBpcyBtb3JlIGNvbXBsaWNhdGVkLCB1c2VzIGZsZXhib3ggKi9cblxufVxuLmZjIC5mYy10aW1lZ3JpZC1heGlzLWZyYW1lLWxpcXVpZCB7XG4gICAgaGVpZ2h0OiAxMDAlOyAvKiB3aWxsIG5lZWQgbGlxdWlkLWhhY2sgaW4gRkYgKi9cbiAgfVxuLmZjIC5mYy10aW1lZ3JpZC1heGlzLWZyYW1lIHtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgLyogdmVydGljYWwgYWxpZ24gKi9cbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyAvKiBob3Jpem9udGFsIGFsaWduLiBtYXRjaGVzIHRleHQtYWxpZ24gYmVsb3cgKi9cbiAgfVxuLmZjIC5mYy10aW1lZ3JpZC1heGlzLWN1c2hpb24ge1xuICAgIG1heC13aWR0aDogNjBweDsgLyogbGltaXRzIHRoZSB3aWR0aCBvZiB0aGUgXCJhbGwtZGF5XCIgdGV4dCAqL1xuICAgIGZsZXgtc2hyaW5rOiAwOyAvKiBhbGxvd3MgdGV4dCB0byBleHBhbmQgaG93IGl0IG5vcm1hbGx5IHdvdWxkLCByZWdhcmRsZXNzIG9mIGNvbnN0cmFpbmVkIHdpZHRoICovXG4gIH1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy10aW1lZ3JpZC1zbG90LWxhYmVsLWZyYW1lIHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLXRpbWVncmlkLXNsb3QtbGFiZWwtZnJhbWUge1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gIH1cbi5mYy1saXF1aWQtaGFjayAuZmMtdGltZWdyaWQtYXhpcy1mcmFtZS1saXF1aWQge1xuICBoZWlnaHQ6IGF1dG87XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuICB9XG4uZmMgLmZjLXRpbWVncmlkLWNvbC5mYy1kYXktdG9kYXkge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDIyMCwgNDAsIDAuMTUpO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZmMtdG9kYXktYmctY29sb3IsIHJnYmEoMjU1LCAyMjAsIDQwLCAwLjE1KSk7XG4gICAgfVxuLmZjIC5mYy10aW1lZ3JpZC1jb2wtZnJhbWUge1xuICAgIG1pbi1oZWlnaHQ6IDEwMCU7IC8qIGxpcXVpZC1oYWNrIGlzIGJlbG93ICovXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG4uZmMtbGlxdWlkLWhhY2sgLmZjLXRpbWVncmlkLWNvbC1mcmFtZSB7XG4gIGhlaWdodDogYXV0bztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIH1cbi5mYy1tZWRpYS1zY3JlZW4gLmZjLXRpbWVncmlkLWNvbHMge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgLyogbm8gei1pbmRleC4gY2hpbGRyZW4gd2lsbCBkZWNpZGUgYW5kIGdvIGFib3ZlIHNsb3RzICovXG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwXG4gIH1cbi5mYy1tZWRpYS1zY3JlZW4gLmZjLXRpbWVncmlkLWNvbHMgPiB0YWJsZSB7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgfVxuLmZjLW1lZGlhLXNjcmVlbiAuZmMtdGltZWdyaWQtY29sLWJnLFxuICAuZmMtbWVkaWEtc2NyZWVuIC5mYy10aW1lZ3JpZC1jb2wtZXZlbnRzLFxuICAuZmMtbWVkaWEtc2NyZWVuIC5mYy10aW1lZ3JpZC1ub3ctaW5kaWNhdG9yLWNvbnRhaW5lciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICB9XG4uZmMge1xuXG4gIC8qIGJnICovXG5cbn1cbi5mYyAuZmMtdGltZWdyaWQtY29sLWJnIHtcbiAgICB6LWluZGV4OiAyOyAvKiBUT0RPOiBraWxsICovXG4gIH1cbi5mYyAuZmMtdGltZWdyaWQtY29sLWJnIC5mYy1ub24tYnVzaW5lc3MgeyB6LWluZGV4OiAxIH1cbi5mYyAuZmMtdGltZWdyaWQtY29sLWJnIC5mYy1iZy1ldmVudCB7IHotaW5kZXg6IDIgfVxuLmZjIC5mYy10aW1lZ3JpZC1jb2wtYmcgLmZjLWhpZ2hsaWdodCB7IHotaW5kZXg6IDMgfVxuLmZjIC5mYy10aW1lZ3JpZC1iZy1oYXJuZXNzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IC8qIHRvcC9ib3R0b20gd2lsbCBiZSBzZXQgYnkgSlMgKi9cbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICB9XG4uZmMge1xuXG4gIC8qIGZnIGV2ZW50cyAqL1xuICAvKiAodGhlIG1pcnJvciBzZWdzIGFyZSBwdXQgaW50byBhIHNlcGFyYXRlIGNvbnRhaW5lciB3aXRoIHNhbWUgY2xhc3NuYW1lLCAqL1xuICAvKiBhbmQgdGhleSBtdXN0IGJlIGFmdGVyIHRoZSBub3JtYWwgc2VnIGNvbnRhaW5lciB0byBhcHBlYXIgYXQgYSBoaWdoZXIgei1pbmRleCkgKi9cblxufVxuLmZjIC5mYy10aW1lZ3JpZC1jb2wtZXZlbnRzIHtcbiAgICB6LWluZGV4OiAzO1xuICAgIC8qIGNoaWxkIGV2ZW50IHNlZ3MgaGF2ZSB6LWluZGV4ZXMgdGhhdCBhcmUgc2NvcGVkIHdpdGhpbiB0aGlzIGRpdiAqL1xuICB9XG4uZmMge1xuXG4gIC8qIG5vdyBpbmRpY2F0b3IgKi9cblxufVxuLmZjIC5mYy10aW1lZ3JpZC1ub3ctaW5kaWNhdG9yLWNvbnRhaW5lciB7XG4gICAgYm90dG9tOiAwO1xuICAgIG92ZXJmbG93OiBoaWRkZW47IC8qIGRvbid0IGxldCBvdmVyZmxvdyBvZiBsaW5lcy9hcnJvd3MgY2F1c2UgdW5uZWNlc3Nhcnkgc2Nyb2xsaW5nICovXG4gICAgLyogei1pbmRleCBpcyBzZXQgb24gdGhlIGluZGl2aWR1YWwgZWxlbWVudHMgKi9cbiAgfVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLXRpbWVncmlkLWNvbC1ldmVudHMge1xuICAgIG1hcmdpbjogMCAyLjUlIDAgMnB4O1xuICB9XG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtdGltZWdyaWQtY29sLWV2ZW50cyB7XG4gICAgbWFyZ2luOiAwIDJweCAwIDIuNSU7XG4gIH1cbi5mYy10aW1lZ3JpZC1ldmVudC1oYXJuZXNzIHtcbiAgcG9zaXRpb246IGFic29sdXRlIC8qIHRvcC9sZWZ0L3JpZ2h0L2JvdHRvbSB3aWxsIGFsbCBiZSBzZXQgYnkgSlMgKi9cbn1cbi5mYy10aW1lZ3JpZC1ldmVudC1oYXJuZXNzID4gLmZjLXRpbWVncmlkLWV2ZW50IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IC8qIGFic29sdXRlIFdJVEhJTiB0aGUgaGFybmVzcyAqL1xuICAgIHRvcDogMDsgLyogZm9yIHdoZW4gbm90IHlldCBwb3NpdGlvbmVkICovXG4gICAgYm90dG9tOiAwOyAvKiBcIiAqL1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gIH1cbi5mYy10aW1lZ3JpZC1ldmVudC1oYXJuZXNzLWluc2V0IC5mYy10aW1lZ3JpZC1ldmVudCxcbi5mYy10aW1lZ3JpZC1ldmVudC5mYy1ldmVudC1taXJyb3IsXG4uZmMtdGltZWdyaWQtbW9yZS1saW5rIHtcbiAgYm94LXNoYWRvdzogMHB4IDBweCAwcHggMXB4ICNmZmY7XG4gIGJveC1zaGFkb3c6IDBweCAwcHggMHB4IDFweCB2YXIoLS1mYy1wYWdlLWJnLWNvbG9yLCAjZmZmKTtcbn1cbi5mYy10aW1lZ3JpZC1ldmVudCxcbi5mYy10aW1lZ3JpZC1tb3JlLWxpbmsgeyAvKiBldmVudHMgbmVlZCB0byBiZSByb290ICovXG4gIGZvbnQtc2l6ZTogLjg1ZW07XG4gIGZvbnQtc2l6ZTogdmFyKC0tZmMtc21hbGwtZm9udC1zaXplLCAuODVlbSk7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbn1cbi5mYy10aW1lZ3JpZC1ldmVudCB7IC8qIGV2ZW50cyBuZWVkIHRvIGJlIHJvb3QgKi9cbiAgbWFyZ2luLWJvdHRvbTogMXB4IC8qIGdpdmUgc29tZSBzcGFjZSBmcm9tIGJvdHRvbSAqL1xufVxuLmZjLXRpbWVncmlkLWV2ZW50IC5mYy1ldmVudC1tYWluIHtcbiAgICBwYWRkaW5nOiAxcHggMXB4IDA7XG4gIH1cbi5mYy10aW1lZ3JpZC1ldmVudCAuZmMtZXZlbnQtdGltZSB7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICBmb250LXNpemU6IC44NWVtO1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tZmMtc21hbGwtZm9udC1zaXplLCAuODVlbSk7XG4gICAgbWFyZ2luLWJvdHRvbTogMXB4O1xuICB9XG4uZmMtdGltZWdyaWQtZXZlbnQtc2hvcnQgLmZjLWV2ZW50LW1haW4tZnJhbWUge1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuLmZjLXRpbWVncmlkLWV2ZW50LXNob3J0IC5mYy1ldmVudC10aW1lOmFmdGVyIHtcbiAgICBjb250ZW50OiAnXFwwMGEwLVxcMDBhMCc7IC8qIGRhc2ggc3Vycm91bmRlZCBieSBub24tYnJlYWtpbmcgc3BhY2VzICovXG4gIH1cbi5mYy10aW1lZ3JpZC1ldmVudC1zaG9ydCAuZmMtZXZlbnQtdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogLjg1ZW07XG4gICAgZm9udC1zaXplOiB2YXIoLS1mYy1zbWFsbC1mb250LXNpemUsIC44NWVtKVxuICB9XG4uZmMtdGltZWdyaWQtbW9yZS1saW5rIHsgLyogZG9lcyBOT1QgaW5oZXJpdCBmcm9tIGZjLXRpbWVncmlkLWV2ZW50ICovXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogOTk5OTsgLyogaGFjayAqL1xuICBjb2xvcjogaW5oZXJpdDtcbiAgY29sb3I6IHZhcigtLWZjLW1vcmUtbGluay10ZXh0LWNvbG9yLCBpbmhlcml0KTtcbiAgYmFja2dyb3VuZDogI2QwZDBkMDtcbiAgYmFja2dyb3VuZDogdmFyKC0tZmMtbW9yZS1saW5rLWJnLWNvbG9yLCAjZDBkMGQwKTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBtYXJnaW4tYm90dG9tOiAxcHg7IC8qIG1hdGNoIHNwYWNlIGJlbG93IGZjLXRpbWVncmlkLWV2ZW50ICovXG59XG4uZmMtdGltZWdyaWQtbW9yZS1saW5rLWlubmVyIHsgLyogaGFzIGZjLXN0aWNreSAqL1xuICBwYWRkaW5nOiAzcHggMnB4O1xuICB0b3A6IDA7XG59XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtdGltZWdyaWQtbW9yZS1saW5rIHtcbiAgICByaWdodDogMDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLXRpbWVncmlkLW1vcmUtbGluayB7XG4gICAgbGVmdDogMDtcbiAgfVxuLmZjIHtcblxuICAvKiBsaW5lICovXG5cbn1cbi5mYyAuZmMtdGltZWdyaWQtbm93LWluZGljYXRvci1saW5lIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogNDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgYm9yZGVyLWNvbG9yOiByZWQ7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1mYy1ub3ctaW5kaWNhdG9yLWNvbG9yLCByZWQpO1xuICAgIGJvcmRlci13aWR0aDogMXB4IDAgMDtcbiAgfVxuLmZjIHtcblxuICAvKiBhcnJvdyAqL1xuXG59XG4uZmMgLmZjLXRpbWVncmlkLW5vdy1pbmRpY2F0b3ItYXJyb3cge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB6LWluZGV4OiA0O1xuICAgIG1hcmdpbi10b3A6IC01cHg7IC8qIHZlcnRpY2FsbHkgY2VudGVyIG9uIHRvcCBjb29yZGluYXRlICovXG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICBib3JkZXItY29sb3I6IHJlZDtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWZjLW5vdy1pbmRpY2F0b3ItY29sb3IsIHJlZCk7XG4gIH1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy10aW1lZ3JpZC1ub3ctaW5kaWNhdG9yLWFycm93IHtcbiAgICBsZWZ0OiAwO1xuXG4gICAgLyogdHJpYW5nbGUgcG9pbnRpbmcgcmlnaHQuIFRPRE86IG1peGluICovXG4gICAgYm9yZGVyLXdpZHRoOiA1cHggMCA1cHggNnB4O1xuICAgIGJvcmRlci10b3AtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHRyYW5zcGFyZW50O1xuICB9XG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtdGltZWdyaWQtbm93LWluZGljYXRvci1hcnJvdyB7XG4gICAgcmlnaHQ6IDA7XG5cbiAgICAvKiB0cmlhbmdsZSBwb2ludGluZyBsZWZ0LiBUT0RPOiBtaXhpbiAqL1xuICAgIGJvcmRlci13aWR0aDogNXB4IDZweCA1cHggMDtcbiAgICBib3JkZXItdG9wLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgfVxuIl19 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHBvaW50bWVudC5jb21wb25lbnQuY3NzIn0= */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHBvaW50bWVudC1saXN0LmNvbXBvbmVudC5jc3MifQ== */\";","export default \".inputEvent {\\r\\n\\tbackground-color: #e7f5b0;\\r\\n}\\r\\ntd{\\r\\n\\tz-index: 1;\\r\\n}\\r\\nlabel{\\r\\n\\tz-index: 2;\\r\\n}\\r\\n.fc-day-grid-container.fc-scroller {\\r\\n    height: auto!important;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n.fc-view-container *, .fc-view-container ::after, .fc-view-container ::before {\\r\\n    box-sizing:border-box!important;\\r\\n}\\r\\n#the-form input[name=\\\"doctor\\\"] {\\r\\n    position: absolute;\\r\\n    left: -999em;\\r\\n }\\r\\n#the-form div label {\\r\\n    display: inline-block; \\r\\n    vertical-align: middle;\\r\\n    cursor: pointer;\\r\\n }\\r\\n#the-form div label:first-of-type  {\\r\\n   margin-right: 0.25em;\\r\\n   width: 1em;\\r\\n   height: 1em;\\r\\n   background-image: url('checkbox-bg.png');\\r\\n   background-size: 2em auto;\\r\\n }\\r\\ninput[name=\\\"doctor\\\"]:checked~label:first-of-type {\\r\\n    background-position: -1em 0;\\r\\n }\\r\\n.mat-icon {\\r\\n    font-size:20px;\\r\\n    line-height:15px;\\r\\n    max-height:25px;\\r\\n}\\r\\n.mat-icon-button i, .mat-icon-button .mat-icon {\\r\\n    line-height: 10px;\\r\\n}\\r\\n \\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ldy1hcHBvaW50bWVudC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0NBQ0MseUJBQXlCO0FBQzFCO0FBQ0E7Q0FDQyxVQUFVO0FBQ1g7QUFDQTtDQUNDLFVBQVU7QUFDWDtBQUNBO0lBQ0ksc0JBQXNCO0lBQ3RCLGdCQUFnQjtBQUNwQjtBQUNBO0lBQ0ksK0JBQStCO0FBQ25DO0FBUUE7SUFDSSxrQkFBa0I7SUFDbEIsWUFBWTtDQUNmO0FBRUQ7SUFDSSxxQkFBcUI7SUFDckIsc0JBQXNCO0lBQ3RCLGVBQWU7Q0FDbEI7QUFFRDtHQUNHLG9CQUFvQjtHQUNwQixVQUFVO0dBQ1YsV0FBVztHQUNYLHdDQUFvRDtHQUNwRCx5QkFBeUI7Q0FDM0I7QUFFRDtJQUNJLDJCQUEyQjtDQUM5QjtBQUlEO0lBQ0ksY0FBYztJQUNkLGdCQUFnQjtJQUNoQixlQUFlO0FBQ25CO0FBQ0E7SUFDSSxpQkFBaUI7QUFDckIiLCJmaWxlIjoibmV3LWFwcG9pbnRtZW50LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaW5wdXRFdmVudCB7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogI2U3ZjViMDtcclxufVxyXG50ZHtcclxuXHR6LWluZGV4OiAxO1xyXG59XHJcbmxhYmVse1xyXG5cdHotaW5kZXg6IDI7XHJcbn1cclxuLmZjLWRheS1ncmlkLWNvbnRhaW5lci5mYy1zY3JvbGxlciB7XHJcbiAgICBoZWlnaHQ6IGF1dG8haW1wb3J0YW50O1xyXG4gICAgb3ZlcmZsb3cteTogYXV0bztcclxufVxyXG4uZmMtdmlldy1jb250YWluZXIgKiwgLmZjLXZpZXctY29udGFpbmVyIDo6YWZ0ZXIsIC5mYy12aWV3LWNvbnRhaW5lciA6OmJlZm9yZSB7XHJcbiAgICBib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50O1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4jdGhlLWZvcm0gaW5wdXRbbmFtZT1cImRvY3RvclwiXSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBsZWZ0OiAtOTk5ZW07XHJcbiB9XHJcblxyXG4jdGhlLWZvcm0gZGl2IGxhYmVsIHtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsgXHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gfVxyXG5cclxuI3RoZS1mb3JtIGRpdiBsYWJlbDpmaXJzdC1vZi10eXBlICB7XHJcbiAgIG1hcmdpbi1yaWdodDogMC4yNWVtO1xyXG4gICB3aWR0aDogMWVtO1xyXG4gICBoZWlnaHQ6IDFlbTtcclxuICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGFzc2V0c1xcaW1hZ2VzXFxjaGVja2JveC1iZy5wbmcpO1xyXG4gICBiYWNrZ3JvdW5kLXNpemU6IDJlbSBhdXRvO1xyXG4gfVxyXG5cclxuaW5wdXRbbmFtZT1cImRvY3RvclwiXTpjaGVja2VkfmxhYmVsOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTFlbSAwO1xyXG4gfVxyXG4gXHJcblxyXG5cclxuLm1hdC1pY29uIHtcclxuICAgIGZvbnQtc2l6ZToyMHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6MTVweDtcclxuICAgIG1heC1oZWlnaHQ6MjVweDtcclxufVxyXG4ubWF0LWljb24tYnV0dG9uIGksIC5tYXQtaWNvbi1idXR0b24gLm1hdC1pY29uIHtcclxuICAgIGxpbmUtaGVpZ2h0OiAxMHB4O1xyXG59XHJcbiAiXX0= */\";","export default \" <div class=\\\"row\\\">\\n\\t <div class=\\\"col-xl-4 col-lg-6\\\">\\n\\t     <app-stat [bgClass]=\\\"'primary'\\\" [count]=\\\"01\\\" [icon]=\\\"'far fa-user-circle'\\\" \\n\\t     [label]=\\\"'New Appointment'\\\" [outcomeLink]=\\\"'appointment/new-appointment'\\\" [data] = \\\"' for new appointment'\\\"></app-stat>\\n\\t </div>\\n\\t <div class=\\\"col-xl-4 col-lg-6\\\">\\n\\t     <app-stat [bgClass]=\\\"'secondary'\\\" [count]=\\\"01\\\" [icon]=\\\"'far fa-tasks'\\\" \\n\\t     [label]=\\\"'Appointment List'\\\" [outcomeLink]=\\\"'appointment/appointment-list'\\\" [data] = \\\"' to goto  appointment List'\\\"></app-stat>\\n\\t </div>\\n</div>\";","export default \"<div [@routerTransition]>\\n\\t<app-page-header [mainhead]=\\\"'Appointments List'\\\" [mainheadLink]=\\\"'/registration'\\\" [heading]=\\\"'Appointments'\\\" [icon]=\\\"'fa-user'\\\"></app-page-header>\\n </div>\\n<div class =\\\"container-fluid p-0 m-0\\\">\\n\\t<div class = \\\"card justify-content-center p-0 m-0\\\">\\n\\t\\t<div class =\\\"card-head \\\">\\n\\t\\t\\t<nav class = \\\"navbar bg-dark text-white text-white\\\">\\n\\t\\t\\t\\t<h2>Appointments List</h2>\\n\\t\\t\\t\\t<input type = \\\"text\\\" placeholder = \\\"search\\\" [(ngModel)] = \\\"searchAppointment\\\">\\n\\t\\t\\t\\t<a routerLink = \\\"/appointment/new-appointment\\\"><button value= \\\"new\\\" class =\\\"btn btn-success\\\"> new</button></a>\\n\\t\\t\\t</nav>\\n\\t\\t</div>\\n\\t\\t<div class =\\\"card-body p-0 m-0\\\">\\n\\t\\t\\t<table class = \\\"table  table-responsive table-striped w-100\\\">\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr >\\n\\t\\t\\t\\t\\t\\t<th>Appointment NO</th>\\n\\t\\t\\t\\t\\t\\t<th >Patient MRNo.</th>\\n\\t\\t\\t\\t\\t\\t<th>Branch</th>\\n\\t\\t\\t\\t\\t\\t<th>Department</th>\\n\\t\\t\\t\\t\\t\\t<th>Unit</th>\\n\\t\\t\\t\\t\\t\\t<th>Doctor</th>\\n\\t\\t\\t\\t\\t\\t<th>Appointment Date</th>\\n\\t\\t\\t\\t\\t\\t<th>Appointment Time</th>\\n\\t\\t\\t\\t\\t\\t<th>Action</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t \\t<tr *ngFor=\\\"let appointment of appointmentList |searchAppointment:searchAppointment |slice: (page-1) * pageSize : page * pageSize\\\">\\n\\t\\t\\t\\t    \\t<td>{{appointment.appointmentId}}</td>\\n\\t\\t\\t\\t        <td>{{appointment.patient.mrn}}</td>\\n\\t\\t\\t\\t        <td>{{appointment.branch.branchName}}</td>\\n\\t\\t\\t\\t        <td>{{appointment.department.departmentName}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{appointment.unit.unitName}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{appointment.doctor.employeeFullName}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{appointment.fromDate|date: 'longDate'}}</td>\\n\\t\\t\\t\\t\\t\\t<td>{{appointment.appointmentDateTime | date:'mediumTime'}}</td>\\n\\t\\t\\t\\t\\t\\t<td class= \\\"text-center\\\">\\n\\t\\t\\t\\t\\t\\t\\t<button class = \\\"btn btn-dark btn-sm float-center\\\" (click) = \\\"gotoAppointment(appointment)\\\"  ><i class = \\\"fa fa-edit fa-1x\\\"></i></button>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t\\t<div class = \\\"card-footer bg-info p-0 m-0 \\\" >\\n\\t\\t<div class = \\\"row justify-content-center\\\">\\n\\t\\t\\t<ngb-pagination [collectionSize]=\\\"len\\\" [(page)]=\\\"page\\\" [pageSize] = \\\"pageSize\\\"  [rotate]=\\\"true\\\"  [ellipses]=\\\"false\\\" class = \\\"col-md-9\\\"></ngb-pagination>\\n\\t\\t\\t<a routerLink = \\\"/appointment\\\" class = \\\"m-2\\\"><button class = \\\"btn-warning\\\" >Back to Appointment Dashboard</button></a>\\n\\t\\t</div>\\n\\t</div>\\n\\t</div>\\n</div>\";","export default \"<div [@routerTransition] *ngIf =\\\"!isFromDoctorsWorkbench\\\">\\r\\n\\t<app-page-header [mainhead]=\\\"'Appointment'\\\"\\r\\n\\t\\t[mainheadLink]=\\\"'/appointment'\\\" [heading]=\\\"'New Appointment'\\\"\\r\\n\\t\\t[icon]=\\\"'fa-bar-chart-o'\\\"></app-page-header>\\r\\n\\t\\t<nav class = \\\"navbar bg-dark text-white\\\">\\r\\n\\t<h3>New Appointment</h3>\\r\\n\\t<button  class = \\\"btn btn-success\\\" routerLink= \\\"/appointment/appointment-list\\\">Appointment List</button>\\r\\n</nav>\\r\\n</div>\\r\\n\\r\\n\\r\\n<div class=\\\"bg-light border border-dark\\\">\\r\\n\\t<app-patient-control  (patientDetails) = \\\"callPatientDetails($event)\\\"></app-patient-control>\\r\\n</div>\\r\\n<div class = \\\"card\\\">\\r\\n\\t<div class = \\\"card-header p-0 m-0\\\">\\r\\n\\t <form [formGroup]= \\\"appointmentForm\\\">\\r\\n\\t\\t<nav class = \\\"navbar bg-Secondary text-dark container-fluid text-left\\\">\\r\\n\\t\\t\\t<label class = \\\"col-md-1 p-0 m-0\\\">Branch :</label>\\r\\n\\t\\t\\t<div class = \\\"col-md-2\\\">\\r\\n\\t\\t\\t\\t<select class = \\\"form-control\\\" formControlName=\\\"branch\\\" id = \\\"branch\\\" (change)= \\\"getDepartmentList($event.target.value)\\\">\\r\\n\\t\\t\\t\\t\\t<option [ngValue] = \\\"null\\\" >--------Select--------</option>\\r\\n\\t\\t\\t\\t\\t<option *ngFor = \\\"let branch of branchList\\\"  [value] = \\\"branch.id\\\"  id = \\\"branch\\\">{{branch.branchName}}</option>\\r\\n\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t\\r\\n\\t\\t\\t<label class = \\\"col-md-2\\\">Department :</label>\\r\\n\\t\\t\\t<div class = \\\"col-md-3 p-0 m-0\\\">\\r\\n\\t\\t\\t\\t<select  class = \\\"form-control\\\" formControlName = \\\"department\\\" id = \\\"department\\\" (change) = \\\"getUnitList($event.target.value)\\\">\\r\\n\\t\\t\\t\\t\\t<option [ngValue] = \\\"null\\\" >--------Select--------</option>\\r\\n\\t\\t\\t\\t\\t<ng-container *ngFor = \\\"let departments of departmentList\\\">\\r\\n\\t\\t\\t\\t\\t\\t<option   [value] = \\\"departments.departmentId\\\" id = \\\"department\\\">{{departments.departmentName}}</option>\\r\\n\\t\\t\\t\\t\\t</ng-container>\\r\\n\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t\\r\\n\\t\\t\\t<label class = \\\"col-md-1\\\">Unit :</label>\\r\\n\\t\\t\\t<div class = \\\"col-md-3\\\">\\r\\n\\t\\t\\t\\t<select class = \\\"form-control\\\"  formControlName = \\\"unit\\\" id = \\\"unit\\\" (ngModelChange)= \\\"getDoctorList($event)\\\">\\r\\n\\t\\t\\t\\t\\t<option [ngValue] = null >--------Select--------</option>\\r\\n\\t\\t\\t\\t\\t<option  [ngValue] =\\\"unit\\\" [value] = \\\"unit.unitId\\\" id= \\\"unit\\\" *ngFor = \\\"let unit of unitList\\\">{{unit.unitName}}</option>\\r\\n\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\r\\n\\t\\t</nav>\\r\\n\\t\\t<ng-template #tool>Show Doctor Names</ng-template>\\r\\n\\t\\t<div class = \\\"row p-0 m-0 bg-info text-white d-flex justify-content-center\\\">\\r\\n\\t\\t\\t<div class = \\\"col-md-2 p-2\\\">\\r\\n\\t\\t\\t\\t<label [ngbTooltip] = \\\"tool\\\">Doctor Names:</label>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class = \\\"col-md-10 p-2\\\">\\r\\n\\t\\t\\t\\t\\t<div class = \\\"row\\\" id=\\\"the-form\\\" >\\r\\n\\t\\t\\t\\t\\t <div *ngFor = \\\"let  employee of unitEmployeeMappingList\\\">\\r\\n\\t\\t\\t\\t\\t\\t<input  id=\\\"doctor{{employee.employee.employeeName}}\\\"  type = 'radio' [value] = \\\"employee.employee.employeeId\\\" formControlName = \\\"doctor\\\" name = \\\"doctor\\\"  (ngModelChange) = \\\"showDoctorName(employee.employee)\\\"/>\\r\\n\\t\\t\\t\\t\\t\\t<label for=\\\"doctor{{employee.employee.employeeName}}\\\"></label>\\r\\n\\t\\t\\t\\t\\t\\t<label  for=\\\"doctor{{employee.employee.employeeName}}\\\">{{employee.employee.employeeName}}</label>\\r\\n\\t\\t\\t\\t\\t</div>&nbsp;\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t\\r\\n\\t\\t</div>\\r\\n\\t\\t</form>\\r\\n\\t</div>\\r\\n\\t<div class =\\\"card-body\\\">\\r\\n\\t\\t<div class = \\\"row\\\" >\\r\\n\\t\\t\\t<div class = \\\"col-md-9\\\">\\r\\n\\t\\t\\t\\t<div class = \\\"row justify-content-center text-center\\\">\\r\\n\\t\\t\\t\\t\\t<label>Date : -{{startDate |date:'medium'}}</label>\\r\\n\\t\\t\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class = \\\"row px-2\\\">\\r\\n\\t\\t\\t\\t\\t<table class= \\\"table\\\" border = 1>\\r\\n\\t\\t\\t\\t\\t\\t<tr>\\r\\n\\t\\t\\t\\t\\t\\t\\t<th class = \\\"col-xs-1\\\"></th>\\r\\n\\t\\t\\t\\t\\t\\t\\t<th class = \\\"col-xs-11\\\">{{employee.employeeName}}</th>\\r\\n\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t\\t<!-- <tr *ngFor = \\\"let appointmentTime of appointmentTimeSlot\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<td class = \\\"col-md-1 p-0 justify-content-center text-center\\\">{{appointmentTime}}</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t<td class = \\\"col-md-11 p-0 m-0 inputEvent  border-dark\\\" onMouseOver=\\\"this.style.cursor='pointer'\\\" (click) = \\\"scheduleEvent(eventSchedulerForm,(returnDate(appointmentTime)))\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label class = \\\" col-md-5 p-0 m-0 text-muted\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{returnDate(appointmentTime)| date: 'medium'}}&nbsp;&nbsp;</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngFor = \\\"let appoint of appointmentList text-dark\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label *ngIf = \\\"(((returnDate(appointmentTime))| date: 'medium') == (appoint.fromDate | date: 'medium'))&&(employee.employeeName == appoint.doctor.employeeName)&&(appoint.appointmentStatus.lookupId == 43)\\\" class = \\\"p-0 m-0 bg-info\\\" placement=\\\"right\\\" ngbTooltip = \\\"booked\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{appoint.patient.firstName}}&nbsp;{{appoint.patient.middleName}}&nbsp;{{appoint.patient.lastName}},&nbsp;mrno : {{appoint.patient.mrn}},\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t&nbsp;&nbsp;\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label *ngIf = \\\"(((returnDate(appointmentTime))| date: 'medium') == (appoint.fromDate | date: 'medium'))&&(employee.employeeName == appoint.doctor.employeeName)&&(appoint.appointmentStatus.lookupId == 48)\\\" class = \\\"p-0 m-0 bg-success\\\"  placement=\\\"right\\\" ngbTooltip = \\\"confermed\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{appoint.patient.firstName}}&nbsp;{{appoint.patient.middleName}}&nbsp;{{appoint.patient.lastName}},&nbsp;mrno : {{appoint.patient.mrn}},\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t&nbsp;&nbsp;\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<label class =\\\"text-right p-0 m-0\\\" *ngFor = \\\"let appoint of appointmentList\\\" >\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<button *ngIf = \\\"(((returnDate(appointmentTime))| date: 'medium') == (appoint.fromDate | date: 'medium'))&&(employee.employeeName == appoint.doctor.employeeName)&&((appoint.appointmentStatus.lookupId == 43) || (appoint.appointmentStatus.lookupId == 48))\\\" (click) = \\\"deleteAppointment(appoint)\\\" class =\\\"btn btn-danger btn-sm m-0 p-0\\\">cancel</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<button *ngIf = \\\"(((returnDate(appointmentTime))| date: 'medium') == (appoint.fromDate | date: 'medium'))&&(employee.employeeName == appoint.doctor.employeeName)&&((appoint.appointmentStatus.lookupId == 43) || (appoint.appointmentStatus.lookupId == 48))\\\" (click) = \\\"encounter(appoint)\\\" class =\\\"btn btn-success btn-sm m-0 p-0\\\">Encounter</button>\\r\\n\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t</tr> -->\\r\\n\\t\\t\\t\\t\\t\\t<tr *ngFor = \\\"let schedule of schedulerList\\\"><!-- getTimeFormat(schedule.slotDate) -->\\r\\n\\t\\t\\t\\t\\t\\t\\t<td class = \\\"col-sm-1 p-0 justify-content-center text-center\\\">{{schedule.slotDate | date: 'HH:MM a'}}</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t<td class = \\\"col-sm-11 p-0 m-0 inputEvent   border-dark\\\" onMouseOver=\\\"this.style.cursor='pointer';\\\" style =\\\"line-height: 30px;\\\"  (click) = \\\"scheduleEvent(eventSchedulerForm,schedule)\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- <label class = \\\" col-md-5 p-0 m-0 text-muted\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{schedule.slotDate| date: 'medium'}}&nbsp;&nbsp;</label> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label *ngIf = \\\"schedule.appointments.length >0\\\">{{schedule.appointments[0].fromDate | date:'shortTime'}}-{{schedule.appointments[0].fromDate| date:'shortTime'}}({{schedule.appointments[0].doctor.slot.lookupValue}})</label>\\r\\n -->\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngFor = \\\"let appoint of schedule.appointments text-dark\\\">\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row  navbar-dark text-white bg-{{selectClass(appoint.appointmentStatus.lookupValue)}} p-0 m-0 float-center\\\">\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\" col-md-2 col-sm-3 p-0\\\">\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>{{appoint.patient.mrn}}</label>&nbsp;\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-2 col-sm-3 p-0\\\">\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>{{appoint.patient.firstName}}&nbsp;{{appoint.patient.middleName}}&nbsp;{{appoint.patient.lastName}}</label>\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-2 col-sm-3 p-0 \\\">\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>{{appoint.appointmentStatusType.lookupValue}}</label>\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-2 col-sm-3 p-0\\\">\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>{{appoint.appointmentStatus.lookupValue}}</label>\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class =\\\"col-md-4 p-0\\\">\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button mat-icon-button  matTooltip =\\\"message\\\" class=\\\"icon-display pt-0 m-0\\\" (click)=\\\"demoFunc();\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-label=\\\"Example icon-button with menu icon\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon>mail</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button mat-icon-button  matTooltip =\\\"message\\\" class=\\\"icon-display pt-0 m-0\\\" (click)=\\\"demoFunc();\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-label=\\\"Example icon-button with menu icon\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon>message</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button mat-icon-button  matTooltip =\\\"message\\\" class=\\\"icon-display pt-0 m-0\\\" (click)=\\\"demoFunc();\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-label=\\\"Example icon-button with menu icon\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon>perm_phone_msg</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button mat-icon-button  matTooltip =\\\"message\\\" class=\\\"icon-display pt-0 m-0\\\" (click)=\\\"demoFunc();\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-label=\\\"Example icon-button with menu icon\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon>phone_forwarded</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button mat-icon-button  matTooltip =\\\"message\\\" class=\\\"icon-display pt-0 m-0\\\" (click)=\\\"demoFunc();\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-label=\\\"Example icon-button with menu icon\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon>event_available</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button mat-icon-button  matTooltip =\\\"message\\\" class=\\\"icon-display pt-0 m-0\\\" (click)=\\\"demoFunc();\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\taria-label=\\\"Example icon-button with menu icon\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon>info</mat-icon>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</button>\\r\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\r\\n\\t\\t\\t\\t\\t\\t\\t</td>\\r\\n\\t\\t\\t\\t\\t\\t</tr> \\r\\n\\t\\t\\t\\t\\t</table>\\r\\n\\t\\t\\t\\t\\t<div class = \\\"col-md-1\\\"></div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class = \\\"col-md-3\\\">\\r\\n\\t\\t\\t \\t<!-- <full-calendar class =\\\"table-sm\\\" [options]=\\\"calendarOptions\\\"></full-calendar>  -->\\r\\n\\t\\t\\t \\t<mat-card class=\\\"demo-inline-calendar-card\\\"> \\r\\n\\t\\t\\t\\t  <mat-calendar (selectedChange)=\\\"handleDateClick($event)\\\"></mat-calendar>\\r\\n\\t\\t\\t\\t</mat-card>\\r\\n\\t\\t\\t<div>\\r\\n\\t\\t\\t<div class =\\\"card\\\">\\r\\n\\t\\t\\t\\t<div class = \\\"card-head bg-dark text-white text-center \\\">\\r\\n\\t\\t\\t\\t\\t<h3>Doctors List  :</h3>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class =\\\"card-body justify-content p-0 m-1\\\">\\r\\n\\t\\t\\t\\t\\t<table class = \\\"table table-sm table-responsive p-0 w-100\\\" cellpadding = 0 cellspacting = 0 border = 1>\\r\\n\\t\\t\\t\\t\\t\\t<thead>\\r\\n\\t\\t\\t\\t\\t\\t\\t<tr class= \\\"p-0 m-0\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<th class= \\\"p-0 m-0\\\">Doctor Name</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<th class= \\\"p-0 m-0\\\">Booked</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<th class= \\\"p-0 m-0\\\">Confirm</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<th class= \\\"p-0 m-0\\\">Waiting</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t\\t</thead>\\r\\n\\t\\t\\t\\t\\t\\t<tbody>\\r\\n\\t\\t\\t\\t\\t\\t\\t<tr class= \\\"p-0 m-0\\\" *ngFor = \\\"let  employee of unitEmployeeMappingList\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<td >{{employee.employee.employeeName}}</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<td >{{booked(employee.employee.employeeId)}}</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<td >{{confirmed(employee.employee.employeeId)}}</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<td >{{waiting(employee.employee.employeeId)}}</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t\\t</tbody>\\r\\n\\t\\t\\t\\t\\t</table>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class = \\\"card-head  text-white text-center \\\">\\r\\n\\t\\t\\t\\t\\t<h3 class = \\\"bg-dark\\\">Legends</h3>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"rich-panel float-center\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"rich-panel-body\\\">\\t\\t\\t\\t\\t\\r\\n<<<<<<< .mine\\r\\n\\t\\t\\t\\t\\t\\t\\t<table class =\\\"table\\\">\\t\\t\\t\\t\\t\\t\\r\\n||||||| .r10405\\r\\n\\t\\t\\t\\t\\t\\t\\t<table style=\\\"width: 45%;border: 1px solid #908D8D\\\">\\t\\t\\t\\t\\t\\t\\r\\n=======\\r\\n\\t\\t\\t\\t\\t\\t\\t<table class =\\\"table table-sm\\\">\\t\\t\\t\\t\\t\\t\\r\\n>>>>>>> .r10477\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<tbody>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"width: 35%;\\\" class = \\\"bg-info\\\"></td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"color: black; \\\">Booked</td>\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"width: 35%;\\\" class = \\\"bg-success\\\"></td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"border: 1px solid #908D8D; color: black;\\\">Confirmed</td>\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"width: 35%;\\\" class = \\\"bg-danger\\\"></td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"border: 1px solid #908D8D; color: black;\\\">Cancel</td>\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"width: 35%;background-color:#7b9c99\\\"></td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"border: 1px solid #908D8D; color: black;\\\">NOSHOW</td>\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"width: 35%;background-color:#f4f4f7\\\"></td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"border: 1px solid #908D8D; color: black;\\\">Not Available</td>\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"width: 35%;background-color:#136ecf\\\"></td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"border: 1px solid #908D8D; color: black;\\\">Reschedule</td>\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</tbody>\\r\\n\\t\\t\\t\\t\\t\\t\\t</table>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<h3 class = \\\"bg-dark\\\" >Waiting List  :</h3>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class =\\\"card-body justify-content p-0 m-1 \\\">\\r\\n\\t\\t\\t\\t\\t<table class = \\\"table table-sm\\\" border = 1>\\r\\n\\t\\t\\t\\t\\t\\t<thead>\\r\\n\\t\\t\\t\\t\\t\\t\\t<tr >\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Mrno</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Patient Name</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Time</th>\\r\\n\\t\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t\\t</thead>\\r\\n\\t\\t\\t\\t\\t\\t<tbody>\\r\\n\\t\\t\\t\\t\\t\\t\\t<tr *ngFor = \\\"let  patient of newPatientList\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{{patient[1].mrn}}</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{{patient[1].firstName}}&nbsp;{{patient[1].lastName}}</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>{{(patient[0].getHours() < 10 ? '0' : '') + patient[0].getHours()}}:{{(patient[0].getMinutes() < 10 ? '0':'')+patient[0].getMinutes()}}</td>\\r\\n\\t\\t\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t\\t</tbody>\\r\\n\\t\\t\\t\\t\\t</table>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t </div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<div class = \\\"card-footer bg-info p-0 m-0 \\\" >\\r\\n\\t\\t<div class = \\\"row justify-content-center\\\">\\r\\n\\t\\t\\t<a routerLink = \\\"/appointment\\\" class = \\\"m-2\\\"><button class = \\\"btn-warning\\\" >Back to Appointment Dashboard</button></a>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n<ng-template #eventSchedulerForm let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n<div class =\\\"container\\\">\\r\\n<div class = \\\"card mt-3 mb-3\\\">\\r\\n\\t<div class=\\\"card-header m-0 p-0\\\">\\r\\n\\t\\t<nav class = \\\"navbar bg-dark text-white w-100\\\" >\\r\\n\\t\\t\\t<h3 >Add Appointment</h3>\\r\\n\\t\\t\\t<button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"d('Cross click')\\\">\\r\\n\\t      \\t\\t<span aria-hidden=\\\"true\\\">&times;</span>\\r\\n\\t    \\t</button>\\r\\n\\t\\t</nav>\\r\\n  \\t</div>\\r\\n  \\t<div class =\\\"card-body border-1\\\">\\r\\n\\t\\t<div class = \\\"row\\\">\\r\\n\\t\\t\\t<label class = \\\"col-md-3 mr-0\\\">Branch : </label>\\r\\n\\t\\t\\t<div class = \\\"col-md-3 p-0 m-0\\\">\\r\\n\\t\\t\\t\\t<label >{{addAppointment.branch.branchName}}</label>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<label class = \\\"col-lg-3 mr-0\\\" >Department : </label>\\r\\n\\t\\t\\t<div class = \\\"col-md-3 p-0 ml-0\\\">\\r\\n\\t\\t\\t\\t<label>{{addAppointment.department.departmentName}}</label>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t\\r\\n\\t\\t\\t<label class = \\\"col-lg-3 mr-0\\\"  >Unit : </label>\\r\\n\\t\\t\\t<div class = \\\"col-md-3 p-0 ml-0\\\">\\r\\n\\t\\t\\t\\t<label>{{addAppointment.unit.unitName}}</label>\\r\\n\\t\\t\\t</div><hr>\\r\\n\\t\\t\\t<label class = \\\"col-lg-3 mr-0\\\" >Doctor Name:</label>\\r\\n\\t\\t\\t<div class = \\\"col-md-3 p-0 ml-0\\\">\\r\\n\\t\\t\\t\\t<label>{{addAppointment.doctor.employeeName}}</label>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<label class = \\\"col-lg-3 mr-0\\\" >Patient Name : </label>\\r\\n\\t\\t\\t<div class = \\\"col-md-3 p-0 ml-0\\\">\\r\\n\\t\\t\\t\\t<label>{{patient.firstName}}&nbsp;{{patient.lastName}}</label>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<label class = \\\"col-lg-3 mr-0\\\" >Appointment Type: </label>\\r\\n\\t\\t\\t<div class = \\\"col-md-3   p-0 ml-0\\\">\\r\\n\\t\\t\\t\\t<select class = \\\"col-md-12\\\" [(ngModel)] = \\\"addAppointment.appointmentStatusType\\\">\\r\\n\\t\\t\\t\\t\\t<option [ngValue] = \\\"null\\\">----Select----</option>\\r\\n\\t\\t\\t\\t\\t<option *ngFor = \\\"let appointmentStatusTyp of appointmentStatusTypeList\\\" [ngValue] = \\\"appointmentStatusTyp\\\">{{appointmentStatusTyp.lookupValue}}</option>\\r\\n\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<label class = \\\"col-lg-3 mr-0\\\" >Start Date : </label>\\r\\n\\t\\t\\t<div  class = \\\"col-lg-3  p-0 ml-0\\\">\\r\\n\\t\\t\\t\\t<label>{{addAppointment.fromDate | date: 'medium'}}</label>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<label class = \\\"col-lg-3 mr-0\\\" >End Date</label>\\r\\n\\t\\t\\t<div class = \\\"col-lg-3  p-0 ml-0\\\" >\\r\\n\\t\\t\\t\\t<label>{{addAppointment.toDate| date: 'medium'}}</label>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t </div>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"card-footer justify-content-right text-right\\\">\\r\\n\\t\\t <button class = \\\"btn btn-success\\\" (click) = 'saveAppointment()'>Save</button>&nbsp;\\r\\n\\t    <button type=\\\"button\\\" class=\\\"btn btn-outline-dark\\\" (click)=\\\"c('Save click')\\\">Exit</button>\\r\\n\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n</ng-template>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n<!--  Tooltip section goes here -->\\r\\n\\r\\n\\t\\r\\n \";"]}